/*!
 * @license
 * nanoStream H5Live Player 4.31.0
 * Build from Thu Aug 21 2025 12:13:28 GMT+0200 (Mitteleurop√§ische Sommerzeit)
 * Copyright (c) 2014-2024 nanocosmos IT GmbH. All rights reserved.
 * http://www.nanocosmos.de
 * sales@nanocosmos.de
 *
 * LEGAL NOTICE:
 * This material is subject to the terms and conditions defined in
 * separate license conditions ('LICENSE.txt')
 * All information contained herein is, and remains the property
 * of nanocosmos GmbH and its suppliers if any. The intellectual and technical concepts
 * contained herein are proprietary to nanocosmos GmbH, and are protected by trade secret
 * or copyright law. Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained from nanocosmos.
 * All modifications will remain property of nanocosmos.
 */

/*!
 * EventEmitter v4.2.11 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */

 /*!
 * @license
 * SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject> is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 */

!function(){var e={4216:function(e,t,n){var r,i;r=[n(8478),n(8197),n(2459),n(2437),n(9470),n(7884),n(3293)],void 0===(i=function(e,t,n,r,i,a,o){"use strict";function s(i){var a,s,c,f,E=!1,p=i.source.group,m="https://bintu.nanocosmos.de",b={profile:"player"};return new Promise((function(h,g){if(!i.source.bintu||i.source.entries&&i.source.entries.length||(i.source.entries=[{index:0,bintu:t.copy(i.source.bintu)}],i.source.h5live&&(i.source.entries[0].h5live=t.copy(i.source.h5live),delete i.source.h5live),i.source.hls&&(i.source.entries[0].hls=t.copy(i.source.hls),delete i.source.hls)),a=performance.now(),"object"==typeof p&&p.id){p.apiurl=l(p.apiurl,m);var _=new o(p.apiurl,null,null,"player");s=p.apiurl,c=p.id,_.getStreamgroup(p.id,b).then(function(t,o){try{f=o;var s,d=JSON.parse(f.responseText),l=d.id,c=d.playout,E=c.rtmp,m=c.hls,b=c.h5live,g=d.state;if(E&&!E.length&&!b||b&&!b.length)return void v(new e(r.SETUP.BINTU_STREAM_NOT_LIVE.replace("$streamid$",l),n.SETUP.BINTU_STREAM_NOT_LIVE));i.source.entries=[];var _=i.source.entries;if(b&&b.length)for(var T=0;T<b.length;T+=1){if(_[T]=_[T]||{},m&&m.length){var A=m[T].url;_[T].hls=A}if(_[T].h5live=_[T].h5live||{},!_[T].h5live.server&&(_[T].h5live.server={}))for(s in b[T].server)Object.prototype.hasOwnProperty.call(b[T].server,s)&&(_[T].h5live.server[s]=b[T].server[s].replace("bintu-stream","bintu-h5live"));_[T].index=b[T].index||0;var S={width:0,height:0,bitrate:0,framerate:0},y={width:"width",height:"height",bitrate:"bitrate",framerate:"fps"};for(s in _[T].info=_[T].info||{},S)b[T].info&&Object.keys(b[T].info).length&&void 0!==b[T].info[y[s]]?_[T].info[s]=b[T].info[y[s]]:_[T].info[s]=S[s];b[T].label&&(_[T].label=b[T].label),_[T].h5live.rtmp={},_[T].h5live.rtmp.url=b[T].rtmp.url,_[T].h5live.rtmp.streamname=b[T].rtmp.streamname,p.security&&p.security.jwtoken&&"string"==typeof p.security.jwtoken&&(_[T].h5live.security=_[T].h5live.security||{},_[T].h5live.security.jwtoken=p.security.jwtoken)}if(g&&(i.source.group.state=g),_&&_.length){var R={high:0,"medium-high":Math.round(1*(_.length-1)/5),medium:Math.round(1*(_.length-1)/2),"medium-low":Math.round(4*(_.length-1)/5),low:_.length-1};Object.prototype.hasOwnProperty.call(i.source.group,"startQuality")&&"string"==typeof i.source.group.startQuality&&Object.prototype.hasOwnProperty.call(R,i.source.group.startQuality)&&(i.source.startIndex=R[i.source.group.startQuality])}(!i.source.options||i.source.options&&!i.source.options.adaption||i.source.options&&i.source.options.adaption&&!i.source.options.adaption.rule||i.source.options&&i.source.options.adaption&&i.source.options.adaption.rule&&"none"!==i.source.options.adaption.rule&&"deviationOfMean"!==i.source.options.adaption.rule)&&(i.source.options=i.source.options||{},i.source.options.adaption=i.source.options.adaption||{},i.source.options.adaption.rule="deviationOfMean2"),p=!1,u(i,a,h)}catch(e){v(e)}}.bind(this,void 0)).catch(v)}else if(i.source.entries&&i.source.entries.length){for(var T=i.source.entries,A=0;A<T.length;A+=1){var S=T[A];if("object"==typeof S.bintu){if(!S.bintu.streamid){if(S.h5live&&(!S.h5live||S.h5live.rtmp))continue;g(new e(r.SETUP.BINTU_NO_STREAM_ID,n.SETUP.BINTU_NO_STREAM_ID))}S.bintu.apiurl=l(S.bintu.apiurl,m),(E=E||{})[A]=new o(S.bintu.apiurl,null,null,"player"),s=S.bintu.apiurl,c=S.bintu.streamid,S.bintu.streamid&&E[A].getStream(S.bintu.streamid,b).then(y.bind(this,A)).catch(v)}}function y(t,o){try{f=o;var s,d=JSON.parse(f.responseText),l=d.id,c=d.playout,p=c.rtmp,m=c.hls,b=c.h5live,g=d.state;if(p&&!p.length&&!b||b&&!b.length)return void v(new e(r.SETUP.BINTU_STREAM_NOT_LIVE.replace("$streamid$",l),n.SETUP.BINTU_STREAM_NOT_LIVE));if(m&&m.length){var _=m[0].url;T[t].hls=_}if(b&&b.length){if(T[t].h5live=T[t].h5live||{},!T[t].h5live.server&&(T[t].h5live.server={}))for(s in b[0].server)Object.prototype.hasOwnProperty.call(b[0].server,s)&&(T[t].h5live.server[s]=b[0].server[s].replace("bintu-stream","bintu-h5live"));T[t].h5live.rtmp={},T[t].h5live.rtmp.url=b[0].rtmp.url,T[t].h5live.rtmp.streamname=b[0].rtmp.streamname}else p&&p.length&&(T[t].h5live=i.source.h5live||{},T[t].h5live.rtmp={},T[t].h5live.rtmp.url=p[0].url,T[t].h5live.rtmp.streamname=p[0].streamname);g&&(T[t].bintu.state=g),E[t]=!1;var A=!0;for(s in E)if(Object.prototype.hasOwnProperty.call(E,s)&&!1!==E[s]){A=!1;break}A&&u(i,a,h)}catch(e){v(e)}}E||u(i,0,h)}else u(i,a,h);function v(t){f=t.request?t.request:f;var i={error:null,bintu:{responseTime:d(a),apiUrl:s,isGroup:"object"==typeof p,id:c,status:f?f.status:0}};t.code&&t.message?i.error=t:"onstatuserror"===t.error?i.error=new e(r.SETUP.BINTU_STATUS_ERROR.replace("$status$",f.status),n.SETUP.BINTU_STATUS_ERROR):t.error?i.error=new e(t.error):t.message&&(i.error=new e(t.message)),g(i)}}))}function u(e,t,n){var r=0;0!==t&&(r=d(t)),n({config:e,bintu:{responseTime:r}})}function d(e){var t=Math.min(Math.max(0,performance.now()-e),6e4);return Math.floor(t)}function l(e,t){if("string"!=typeof e||""===e)return t;var n=/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,r=/^[^:\/]+[:\/]+\/?/;if(e.match(r)){var i=e.replace(r,"https://"),a=i.replace(/^https?:\/\//,"");return n.test(a)?i:t}return n.test(e)?"https://"+e:t}return{setup:s,updateSource:function(e){return s({source:e})},emptyConfig:i,validConfig:a}}.apply(t,r))||(e.exports=i)},9470:function(e,t){var n;void 0===(n=function(){return{create:function(){return{source:{bintu:{apiurl:"",streamid:""}}}}}}.apply(t,[]))||(e.exports=n)},7884:function(e,t){var n;void 0===(n=function(){return{create:function(){return{source:{bintu:{apiurl:"string",streamid:"string"}}}}}}.apply(t,[]))||(e.exports=n)},2459:function(e,t){var n;void 0===(n=function(){return Object.freeze({SETUP:{BINTU_STREAM_NOT_LIVE:5101,BINTU_NO_STREAM_ID:5102,BINTU_STATUS_ERROR:5103}})}.apply(t,[]))||(e.exports=n)},2437:function(e,t){var n;void 0===(n=function(){return Object.freeze({SETUP:{BINTU_STREAM_NOT_LIVE:"Could not find bintu stream with id $streamid$. The stream is not live.",BINTU_NO_STREAM_ID:"No bintu stream id passed.",BINTU_STATUS_ERROR:"The bintu service rejected with http status $status$."}})}.apply(t,[]))||(e.exports=n)},3293:function(e,t){var n;(function(){"use strict";var t=function(e,t,n,r){if(!(e.length>0&&("string"==typeof e||e instanceof String)))throw new Error('The param "apiUrl" must be of type "string" and also may not be empty string.');if(this.apiUrl=e,t&&("string"==typeof t||t instanceof String)&&(this.apiKey=t),n&&("string"==typeof n||n instanceof String)&&(this.playerKey=n),r&&("string"==typeof r||r instanceof String)){if("api"!==r&&"player"!==r)throw new Error('The param "keyMode" must be "api", "player" or undefined');this.keyMode=r}},r=t.prototype,i=function(e,t,n,r){this.method=e||"GET",this.url=t||"http://localhost:8088",this.header=n||{},this.async=r||!0,this.Send=function(e){return new Promise(function(t,n){var r=new XMLHttpRequest;for(var i in r.open(this.method,this.url,this.async),this.header)Object.prototype.hasOwnProperty.call(this.header,i)&&r.setRequestHeader(i,this.header[i]);if(r.onreadystatechange=function(){return 4===r.readyState&&200===r.status?t(r):4===r.readyState&&200!==r.status?n({error:"onstatuserror",request:r}):void 0},r.onabort=function(){return n({error:"onabort",request:r})},r.onerror=function(){return n({error:"onerror",request:r})},r.ontimeout=function(){return n({error:"ontimeout",request:r})},void 0!==e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){return e=null,n({error:"invalid json string",request:r})}if("object"==typeof e)try{e=JSON.stringify(e),r.send(e)}catch(e){return n({error:"invalid json object",request:r})}}else r.send()}.bind(this))}};function a(e){var t="";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];n&&r&&(0===t.length?t+="?":t+="&",t+=n+"="+r)}return t}function o(e,t,n,r){var i={};return t="string"!=typeof t?".":t,n=isNaN(n)?10:n,r=isNaN(r)?0:parseInt(r,10),e&&"object"==typeof e&&function e(a,o,s){if(!(s>=n))for(var u in a){var d=(o?o+t:"")+u;"[object Array]"===Object.prototype.toString.call(a[u])&&0===r||("object"==typeof a[u]?e(a[u],d,s+1):i[d]=a[u].toString())}}(e,"",0),i}r.apiKey=null,r.apiUrl=null,r.playerKey=null,r.keyMode="api",r.createStream=function(e,t,n){return new Promise(function(r,a){if(!this.apiUrl)return a({error:"no api url set",request:{responseText:"no response error"}});if(!this.apiKey)return a({error:"no api key set",request:{responseText:"no response error"}});if("api"!==this.keyMode)return a({error:"wrong key mode set",request:{responseText:"no response error"}});var o=new i("POST",this.apiUrl+"/stream");o.header={Accept:"application/json","Content-Type":"application/json","X-BINTU-APIKEY":this.apiKey};var s={webrtc:!!e,transcoding:!!t};return"object"==typeof n&&"function"==typeof n.push&&n.length>0&&("string"==typeof n[0]||n[0]instanceof String)&&(s.tags=n),o.Send(s).then(r).catch(a)}.bind(this))},r.getStream=function(e,t){return new Promise(function(n,r){if(!this.apiUrl)return r({error:"no api url set",request:{responseText:"no response error"}});if(!this.apiKey&&"api"===this.keyMode)return r({error:"no api key set",request:{responseText:"no response error"}});var s=a(o(t,".",10,0)),u=new i("GET",this.apiUrl+"/stream/"+e+s);return u.header="api"===this.keyMode&&this.apiKey?{Accept:"application/json","Content-Type":"application/json","X-BINTU-APIKEY":this.apiKey}:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},u.Send().then(n).catch(r)}.bind(this))},r.getStreamgroup=function(e,t){return new Promise(function(n,r){if(!this.apiUrl)return r({error:"no api url set",request:{responseText:"no response error"}});if(!this.apiKey&&"api"===this.keyMode)return r({error:"no api key set",request:{responseText:"no response error"}});var s=a(o(t,".",10,0)),u=new i("GET",this.apiUrl+"/stream/"+e+"/group"+s);return u.header="api"===this.keyMode&&this.apiKey?{Accept:"application/json","Content-Type":"application/json","X-BINTU-APIKEY":this.apiKey}:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},u.Send().then(n).catch(r)}.bind(this))},r.getStreams=function(e){return new Promise(function(n,r){if(!this.apiUrl)return r({error:"no api url set",request:{responseText:"no response error"}});if(!this.apiKey)return r({error:"no api key set",request:{responseText:"no response error"}});var a=this.apiUrl+"/stream";e instanceof t.StreamFilter&&(a+=e.getQueryString(!1));var o=new i("GET",a);return o.header={Accept:"application/json","Content-Type":"application/json","X-BINTU-APIKEY":this.apiKey},o.Send().then(n).catch(r)}.bind(this))},r.getStreamsPublic=function(e){return new Promise(function(n,r){if(!this.apiUrl)return r({error:"no api url set",request:{responseText:"no response error"}});if(!this.playerKey)return r({error:"no player key set",request:{responseText:"no response error"}});var a=this.apiUrl+"/stream/public";e instanceof t.StreamFilter&&(a+=e.getQueryString(!0));var o=new i("GET",a);return o.header={Accept:"application/json","Content-Type":"application/json","X-BINTU-PLAYERKEY":this.playerKey},o.Send().then(n).catch(r)}.bind(this))},r.tagStream=function(e,t){return new Promise(function(n,r){if(!this.apiUrl)return r({error:"no api url set",request:{responseText:"no response error"}});if(!this.apiKey)return r({error:"no api key set",request:{responseText:"no response error"}});if("api"!==this.keyMode)return r({error:"wrong key mode set",request:{responseText:"no response error"}});if(!e)return r({error:"no stream id set"});var a=new i("PUT",this.apiUrl+"/stream/"+e+"/tag");return a.header={Accept:"application/json","Content-Type":"application/json","X-BINTU-APIKEY":this.apiKey},"object"==typeof t&&"function"==typeof t.push&&t.length>0&&("string"==typeof t[0]||t[0]instanceof String)?a.Send({tags:t}).then(n).catch(r):a.Send().then(n).catch(r)}.bind(this))},r.pushStream=function(e,t){return new Promise(function(n,r){if(!this.apiUrl)return r({error:"no api url set",request:{responseText:"no response error"}});if(!this.apiKey)return r({error:"no api key set",request:{responseText:"no response error"}});if("api"!==this.keyMode)return r({error:"wrong key mode set",request:{responseText:"no response error"}});if(!e)return r({error:"no stream id set"});var a=new i("PUT",this.apiUrl+"/stream/"+e+"/push_url");return a.header={Accept:"application/json","Content-Type":"application/json","X-BINTU-APIKEY":this.apiKey},a.Send({url:t}).then(n).catch(r)}.bind(this))},r=(t.StreamFilter=function(){this.state=this.setState(t.StreamFilter.STATE.ALL),this.tags=[]}).prototype,t.StreamFilter.STATE=Object.create({LIVE:"live",CREATED:"created",ENDED:"ended",ALL:null}),r.setState=function(e){var n;for(var r in t.StreamFilter.STATE)t.StreamFilter.STATE[r]===e&&(n=t.StreamFilter.STATE[r]);if(void 0===n)throw new Error('The param "state" must be of type "Bintu.StreamFilter.STATE"');return this.state=n,this},r.addTag=function(e){if(!(e.length>0&&("string"==typeof e||e instanceof String)))throw new Error('The param "tag" must be of type "string" and also may not be empty string.');return this.tags.push(e),this.tags=this._reduceDuplicates(this.tags),this},r.addTags=function(e){if("object"!=typeof e||"function"!=typeof e.push||!(0===e.length||e.length>0&&("string"==typeof e[0]||e[0]instanceof String)))throw new Error('The param "tags" must be of type "string array"');return this.tags=this.tags.concat(e),this.tags=this._reduceDuplicates(this.tags),this},r.getQueryString=function(e){var t="";if("object"==typeof this.tags&&"function"==typeof this.tags.push&&this.tags.length>0)for(var n=0;n<this.tags.length;n+=1)"string"==typeof this.tags[n]&&(t+=0===n?"?":"&",t+="tags[]="+this.tags[n]);return!0===e&&""===t&&(t+="?tags[]="),"string"==typeof this.state&&this.state.length>0&&(t+=-1===t.indexOf("?")?"?":"&",t+="state="+this.state),t},r._reduceDuplicates=function(e){if("object"!=typeof e||"function"!=typeof e.push||!(0===e.length||e.length>0&&("string"==typeof e[0]||e[0]instanceof String)))throw new Error('The param "tags" must be of type "string array"');return e.reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[])},void 0===(n=function(){return t}.apply(this,[]))||(e.exports=n)}).call(this)},6965:function(e,t){var n;void 0===(n=function(){return{create:function(){return{playback:{autoplay:!0,automute:!1,muted:!1,metadata:!1,forceTech:"",flashplayer:"",videoId:"",keepConnection:!1,allowSafariHlsFallback:!1,crossOrigin:"not-set",mediaErrorRecoveries:3,metadataLowDelay:!0,reconnect:{minDelay:2,maxDelay:10,delaySteps:10,maxRetries:10},timeouts:{loading:20,buffering:20,connecting:5},latencyControlMode:"classic",faststart:!1},source:{hls:"",h5live:{server:{websocket:"",progressive:"",hls:""},token:"",rtmp:{url:"",streamname:""},security:{token:"",jwtoken:"",expires:"",options:"",tag:""},params:{}},bintu:{apiurl:"",streamid:"",state:""},startIndex:0,options:{switch:{},adaption:{}},entries:[],defaults:{},group:{apiurl:"",id:"",startQuality:"",state:"",security:{jwtoken:""}},general:{}},events:{onReady:void 0,onPlay:void 0,onPause:void 0,onLoading:void 0,onStartBuffering:void 0,onStopBuffering:void 0,onError:void 0,onMetaData:void 0,onStats:void 0,onMute:void 0,onUnmute:void 0,onVolumeChange:void 0,onServerInfo:void 0,onStreamInfo:void 0,onStreamInfoUpdate:void 0,onWarning:void 0,onDestroy:void 0,onUpdateSourceInit:void 0,onUpdateSourceSuccess:void 0,onUpdateSourceFail:void 0,onUpdateSourceAbort:void 0,onSwitchStreamInit:void 0,onSwitchStreamSuccess:void 0,onSwitchStreamFail:void 0,onSwitchStreamAbort:void 0,onActiveVideoElementChange:void 0},tweaks:{buffer:{min:void 0,start:void 0,max:void 0,target:void 0,limit:void 0},bufferDynamic:{offsetThreshold:void 0,offsetStep:void 0,cooldownTime:void 0}}}}}}.apply(t,[]))||(e.exports=n)},1493:function(e,t){var n;void 0===(n=function(){return{create:function(){return{index:0,label:"high",tag:"high res",info:{bitrate:0,width:0,height:0,framerate:0},hls:"",h5live:{server:{websocket:"",progressive:"",hls:""},token:"",rtmp:{url:"",streamname:""},params:{},security:{token:"",jwtoken:"",expires:"",options:"",tag:""}},bintu:{apiurl:"",streamid:"",state:""}}}}}.apply(t,[]))||(e.exports=n)},828:function(e,t){var n;void 0===(n=function(){return{create:function(){return{index:"number",label:"string",tag:"string",info:{bitrate:"number",width:"number",height:"number",framerate:"number"},hls:"string",h5live:{server:{websocket:"string",progressive:"string",hls:"string"},token:"string",rtmp:{url:"string",streamname:"string"},params:"object",security:{token:"string",jwtoken:"string",expires:"string",options:"string",tag:"string"}},bintu:{apiurl:"string",streamid:"string",state:"string"}}}}}.apply(t,[]))||(e.exports=n)},5055:function(e,t,n){var r,i;r=[n(6637)],void 0===(i=function(e){return{create:function(t,n,r){var i,a={};function o(e){a[e.name]&&a[e.name].forEach((function(t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);n.emit(t,r)}))}return i=[],r.forEach((function(e){i.push({type:e.from,listener:o}),a[e.from]||(a[e.from]=[]),a[e.from].push(e.to)})),e.add({target:t,listeners:i}),{destroy:function(){e.remove({target:t,listeners:i}),i=null,a=null}}}}}.apply(t,r))||(e.exports=i)},1969:function(e,t,n){var r,i;r=[n(9658)],void 0===(i=function(e){"use strict";function t(){this.version=void 0,this.type=void 0}var n=t.prototype=Object.create(e.prototype);return n.setup=function(){throw new Error('"setup" must be implemented or player not initialized')},n.destroy=function(){throw new Error('"destroy" must be implemented or player not initialized')},n.play=function(){throw new Error('"play" must be implemented or player not initialized by call setup')},n.pause=function(){throw new Error('"pause" must be implemented or player not initialized by call setup')},n.mute=function(){throw new Error('"mute" must be implemented or player not initialized by call setup')},n.unmute=function(){throw new Error('"unmute" must be implemented or player not initialized by call setup')},n.setVolume=function(){throw new Error('"setVolume" must be implemented or player not initialized by call setup')},n.updateSource=function(){throw new Error('"updateSource" must be implemented or player not initialized by call setup')},n.switchStream=function(){throw new Error('"switchStream" must be implemented or player not initialized by call setup')},n.setAdaption=function(){throw new Error('"setAdaption" must be implemented or player not initialized by call setup')},t.isSupported=function(){return!1},t.supportedTechniques=[],t}.apply(t,r))||(e.exports=i)},6637:function(e,t,n){var r,i;r=[n(939)],void 0===(i=function(e){"use strict";var t=["addEventListener","addListener","on"],n=["removeEventListener","removeListener","off"];function r(e,t){for(var n=0;n<t.length;++n)if("function"==typeof e[t[n]])return e[t[n]];return null}function i(i,a){!function(i){if(!i.target)throw new Error(e.NO_TARGET);if(!i.listeners||!i.listeners.length)throw new Error(e.NO_LISTENERS);if(!r(i.target,t)||!r(i.target,n))throw new Error(e.NOT_DISPATCHER);for(var a=0;a<i.listeners.length;++a)if(!i.listeners[a].type&&"string"!=typeof i.listeners[a].type||0!==i.listeners[a].type.length){if(!i.listeners[a].type)throw new Error(e.MISSING_TYPE.replace("%index%",a));if("function"!=typeof i.listeners[a].listener)throw new Error(e.MISSING_LISTENER.replace("%index%",a))}else i.listeners.splice(a,1),a--}(a),function(e,t,n){for(var r=0;r<n.length;++r)e.call(t,n[r].type,n[r].listener)}(r(a.target,i),a.target,a.listeners)}return{add:i.bind(null,t),remove:i.bind(null,n)}}.apply(t,r))||(e.exports=i)},8544:function(e,t,n){var r,i;r=[n(1933),n(8478),n(9775),n(182),n(3284),n(3778)],void 0===(i=function(e,t,n,r,i,a){return{create:function(e,o){return new Promise((function(s,u){var d=n;try{s(function(e,t){return new(0,e[0])(t)}(d=function(e,n){var i=[],o=e.filter((function(e){i=i.concat(e.supportedTechniques);var t=!1;return e.supportedTechniques.forEach((function(e){var r,i;!1===t&&(t=!n.playback.forceTech||(r=e,i=n.playback.forceTech,-1!==r.indexOf(i)||-1!==i.indexOf(r)))})),t}));if(!o.length)throw new t(r.FORCE_NOT_SUPPORTED.replace("$tech$",n.playback.forceTech),a.SETUP.FORCE_NOT_SUPPORTED);return o}(d=function(e,n){var o={};o[i.H5LIVE_WSS]="h5live",o[i.H5LIVE_HLS]="h5live",o[i.FLASH]="h5live",o[i.NATIVE]="hls";var s=[],u=e.filter((function(e){var t=!1;return e.supportedTechniques.forEach((function(e){s.push(o[e]),!1===t&&(t=Object.prototype.hasOwnProperty.call(n,"source")&&(Object.prototype.hasOwnProperty.call(n.source,o[e])||function(e,t){if(!Object.prototype.hasOwnProperty.call(e.source,"entries")||!e.source.entries.length)return!1;var n=!0;return e.source.entries.forEach((function(e){Object.prototype.hasOwnProperty.call(e,t)||(n=!1)})),n}(n,o[e])))})),t}));if(!u.length)throw new t(r.SOURCE_NOT_SUPPORTED,a.SETUP.SOURCE_NOT_SUPPORTED);return u}(d=function(e){var n=e.filter((function(e){return e.isSupported()}));if(!n.length)throw new t(r.CLIENT_NOT_SUPPORTED,a.SETUP.CLIENT_NOT_SUPPORTED);return n}(d),o),o),e))}catch(e){u(e)}}))},capabilities:(o=[],n.filter((function(e){return e.isSupported()})).forEach((function(e){o=o.concat(e.supportedTechniques)})),o)};var o}.apply(t,r))||(e.exports=i)},9775:function(e,t,n){var r,i;r=[n(1128),n(1128),n(8985),n(6722)],void 0===(i=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e}.apply(t,r))||(e.exports=i)},5810:function(e,t){var n;void 0===(n=function(){return{create:function(){return{source:{hls:"string",h5live:{server:{websocket:"string",progressive:"string",hls:"string"},token:"string",rtmp:{url:"string",streamname:"string"},params:"object",security:{token:"string",jwtoken:"string",expires:"string",options:"string",tag:"string"}},bintu:{apiurl:"string",streamid:"string",state:"string"},startIndex:"number",options:"object",entries:"object",defaults:"object",group:{apiurl:"string",id:"string",startQuality:"string",state:"string",security:{jwtoken:"string"}},general:"object"},playback:{autoplay:"boolean",automute:"boolean",muted:"boolean",forceTech:"string",metadata:"boolean",flashplayer:"string",videoId:"*",keepConnection:"boolean",allowSafariHlsFallback:"boolean",crossOrigin:"string",mediaErrorRecoveries:"number",metadataLowDelay:"boolean",reconnect:{minDelay:"number",maxDelay:"number",delaySteps:"number",maxRetries:"number"},timeouts:{loading:"number",buffering:"number",connecting:"number"},latencyControlMode:"string",faststart:"boolean"},events:{onReady:"function",onPlay:"function",onPause:"function",onLoading:"function",onStartBuffering:"function",onStopBuffering:"function",onError:"function",onMetaData:"function",onStats:"function",onMute:"function",onUnmute:"function",onVolumeChange:"function",onServerInfo:"function",onStreamInfo:"function",onStreamInfoUpdate:"function",onWarning:"function",onDestroy:"function",onUpdateSourceInit:"function",onUpdateSourceSuccess:"function",onUpdateSourceFail:"function",onUpdateSourceAbort:"function",onSwitchStreamInit:"function",onSwitchStreamSuccess:"function",onSwitchStreamFail:"function",onSwitchStreamAbort:"function",onActiveVideoElementChange:"function"},tweaks:{buffer:{max:"number",min:"number",start:"number",target:"number",limit:"number"},bufferDynamic:{offsetThreshold:"number",offsetStep:"number",cooldownTime:"number"}}}}}}.apply(t,[]))||(e.exports=n)},1313:function(e,t){var n;void 0===(n=function(){return Object.freeze({CONFIG_RTMP:"Configuration error. Could not create player, the rtmp configuration is missing or incomplete. Add an rtmp url and streamname to the configuration.",CONFIG_TOKEN:"Configuration error. Could not create player, with this configuration an security token is required. Add an token to the configuration.",CONFIG_WSS:"Configuration error. Could not create player, the websocket server configuration is missing.",CONFIG_HLS:"Configuration error. Could not create player, the hls server configuration is missing.",CONFIG_METADATA:"Configuration error. Could not create player, the websocket server configuration for metadata is missing.",CONFIG_SOURCE:"The players source configuration is malformed or missing, please check documentation for more information or contact us."})}.apply(t,[]))||(e.exports=n)},3778:function(e,t){var n;void 0===(n=function(){return Object.freeze({PLAYER:{NO_RTMP_URL_SET:1001,NO_SERVER_SET:1002,NOT_CONFIGURED:1003,NOT_PLAYING:1004,INTERACTION_REQUIRED:1005,BUFFER_CONFIG_INVALID:1006,PLAYBACK_SUSPENDED:1007,PLAYBACK_ERROR:1008,VISIBILITY_HIDDEN:1009,INVALID_ENTRY_INDEX:1010},STREAM:{NOT_FOUND:2001,MEDIA_NOT_AVAILABLE:2002,NOT_ENOUGH_DATA:2003,SOURCE_STOPPED:2004,METADATA_WRONG_INDEX:2011,METADATA_INVALID_JSON:2012,METADATA_NO_START_INDEX:2013,METADATA_STILL_PROCESSING:2014},MEDIA:{ABORTED:3001,DOWNLOAD_ERROR:3002,DECODE_ERROR:3003,NOT_SUPPORTED:3004,HLS_VIDEO_DECODE_ERROR:3005,MEDIA_SOURCE_ENDED:3100,HLS_BUFFER_UNDERRUN:3101,HLS_MAX_RANGE:3102,UNSPECIFIC_ERROR:3200},NETWORK:{COULD_NOT_ESTABLISH_CONNECTION:4001,CONNECTION_ERROR:4002,MAX_RECONNECTS_REACHED:4003,RECONNECTION_CONFIG_INVALID:4004,SOURCE_STREAM_STOPPED:4005,SOURCE_TIMEOUT:4006},SETUP:{EXCEPTION:5001,CLIENT_NOT_SUPPORTED:5002,FORCE_NOT_SUPPORTED:5003,SOURCE_NOT_SUPPORTED:5004,CONFIG_RTMP:5005,CONFIG_TOKEN:5006,CONFIG_WSS:5007,CONFIG_HLS:5008,CONFIG_METADATA:5009,EMBED_PLAYER:5010}})}.apply(t,[]))||(e.exports=n)},3890:function(e,t){var n;void 0===(n=function(){return Object.freeze({PLAYER:{NO_RTMP_URL_SET:"No rtmp url set.",NO_SERVER_SET:"No server set.",NOT_CONFIGURED:"Could not play because player has not been configured.",PLAYBACK_ERROR:"Playback error.",VISIBILITY_HIDDEN:"Playback failed because the player was in visibility state 'hidden' at load start.",INVALID_ENTRY_INDEX:"The given stream entry index is not valid.",INTERACTION_REQUIRED:"Playback must be initialized by user gesture.",PLAYBACK_SUSPENDED:"Playback suspended by external reason."},STREAM:{NOT_FOUND:"The requested stream can not be found.",MEDIA_NOT_AVAILABLE:"No media available.",NOT_ENOUGH_DATA:"Not enough media data received.",SOURCE_STOPPED:"The source stream has been stopped.",METADATA_WRONG_INDEX:"Received metadata with wrong index. Discard.",METADATA_INVALID_JSON:"Received metadata with invalid json string.",METADATA_NO_START_INDEX:"Received metadata but no start index. Discard.",METADATA_STILL_PROCESSING:"Received metadata with start index but currently process another. Discard old one."},MEDIA:{ABORTED:"A fetching process of the media aborted by user.",DOWNLOAD_ERROR:"An error occurred when downloading media.",DECODE_ERROR:"An error occurred when decoding media.",NOT_SUPPORTED:"The received audio/video is not supported.",HLS_VIDEO_DECODE_ERROR:"An error occurred while hls playback when decoding video.",MEDIA_SOURCE_ENDED:"The media source extension changed the state to 'ended'.",HLS_BUFFER_UNDERRUN:"An error occurred while buffering on hls playback.",HLS_MAX_RANGE:"Buffer range is higher than allowed on hls playback."},NETWORK:{SOURCE_STREAM_STOPPED:"The requested source stream has been stopped.",SOURCE_TIMEOUT:"The source request was aborted by timeout."}})}.apply(t,[]))||(e.exports=n)},9583:function(e,t){var n;void 0===(n=function(){return Object.freeze({READY:"Ready",ERROR:"Error",PAUSE:"Pause",LOADING:"Loading",START_BUFFERING:"StartBuffering",STOP_BUFFERING:"StopBuffering",PLAY:"Play",METADATA:"MetaData",STATS:"Stats",PLAYBACK_FINISHED:"PlaybackFinished",MEDIA:"Media",STREAM_INFO:"StreamInfo",STREAM_INFO_UPDATE:"StreamInfoUpdate",MUTE:"Mute",UNMUTE:"Unmute",VOLUME_CHANGE:"VolumeChange",STATE_CHANGE:"StateChange",WARNING:"Warning",DESTROY:"Destroy",UPDATE_SOURCE_INIT:"UpdateSourceInit",UPDATE_SOURCE_SUCCESS:"UpdateSourceSuccess",UPDATE_SOURCE_FAIL:"UpdateSourceFail",UPDATE_SOURCE_ABORT:"UpdateSourceAbort",SWITCH_STREAM_INIT:"SwitchStreamInit",SWITCH_STREAM_SUCCESS:"SwitchStreamSuccess",SWITCH_STREAM_FAIL:"SwitchStreamFail",SWITCH_STREAM_ABORT:"SwitchStreamAbort",SERVER_INFO:"ServerInfo",ACTIVE_VIDEO_ELEMENT_CHANGE:"ActiveVideoElementChange"})}.apply(t,[]))||(e.exports=n)},182:function(e,t){var n;void 0===(n=function(){return{FORCE_NOT_SUPPORTED:'The forced tech "$tech$" is not supported by your browser.',SOURCE_NOT_SUPPORTED:"The players source configuration is malformed or missing, please check documentation for more information or contact us.",CLIENT_NOT_SUPPORTED:"This browser does not fully support HTML5 and H5Live.            Supported are: Chrome >=54 (Windows, MacOSX, Android), Firefox >=48 (Windows, MacOSX, Android), Microsoft Edge (Windows), Microsoft Internet Explorer 11 (at least Windows 8), Safari (MacOSX & at least iOS 10)."}}.apply(t,[]))||(e.exports=n)},166:function(e,t){var n;void 0===(n=function(){return Object.freeze({EMBED_PLAYER:'Could not embed player. Please check the path to the player in the config param "playback.flashplayer" or copy to base directory.'})}.apply(t,[]))||(e.exports=n)},8656:function(e,t){var n;void 0===(n=function(){return Object.freeze({VIDEO_DISPLAY:{CONNECTION_ERROR:"connectionError",LOADING:"loading",PLAYING:"playing",REWINDING:"rewinding",BUFFERING:"buffering",STOPPED:"stopped",DISCONNECTED:"disconnected"},NET_STREAM:{PLAY:{RESET:"NetStream.Play.Reset",UNPUBLISH_NOTIFY:"NetStream.Play.UnpublishNotify",PUBLISH_NOTIFY:"NetStream.Play.PublishNotify",PLAY:"NetStream.Play.Start",STOP:"NetStream.Play.Stop",STREAM_NOT_FOUND:"NetStream.Play.StreamNotFound"}}})}.apply(t,[]))||(e.exports=n)},9474:function(e,t){var n;void 0===(n=function(){return Object.freeze({CLASSIC:"classic",FAST_ADAPTIVE:"fastadaptive",BALANCED_ADAPTIVE:"balancedadaptive"})}.apply(t,[]))||(e.exports=n)},939:function(e,t){var n;void 0===(n=function(){return Object.freeze({NO_TARGET:"No target in config",NO_LISTENERS:"No listeners in config",NOT_DISPATCHER:"Target is not an event dispatcher",MISSING_TYPE:"Missing type in listener #%index%",MISSING_LISTENER:"Missing/invalid listener in listener #%index%"})}.apply(t,[]))||(e.exports=n)},8730:function(e,t){var n;void 0===(n=function(){return Object.freeze({MP4:"video/mp4",MP4_MS:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',HLS:"application/vnd.apple.mpegURL"})}.apply(t,[]))||(e.exports=n)},8405:function(e,t){var n;void 0===(n=function(){return Object.freeze({UNINITIALIZED:1,CONNECTING:2,OPEN:3,CLOSING:4,CLOSED:5})}.apply(t,[]))||(e.exports=n)},5493:function(e,t){var n;void 0===(n=function(){return Object.freeze({NORMAL:"normal",BUFFER:"buffer",CONNECTION_CLOSE:"connectionclose",SERVER_NOT_FOUND:"servernotfound",STREAM_NOT_FOUND:"streamnotfound",INTERACTION_REQUIRED:"interactionrequired",PLAYBACK_SUSPENDED:"playbacksuspended",PLAYBACK_ERROR:"playbackerror",RECONNECTION_IMMINENT:"reconnectionimminent",DESTROY:"destroy",VISIBILITY_HIDDEN:"visibilityhidden",NOT_ENOUGH_DATA:"notenoughdata",SOURCE_STREAM_STOPPED:"sourcestreamstopped",MEDIA_NOT_AVAILABLE:"medianotavailable"})}.apply(t,[]))||(e.exports=n)},492:function(e,t){var n;void 0===(n=function(){return Object.freeze({UNINITIALIZED:1,IDLE:2,READY:3,LOADING:4,PLAYING:5,PAUSED:6,BUFFERING:7,UNKNOWN:8,PLAYBACK_NOT_STARTED:9,PLAYBACK_SUSPENDED:10,PAUSING:11,PLAYBACK_ERROR:12,RECONNECTION_IMMINENT:13,CONNECTION_ERROR:14,DESTROYING:15,MEDIA_NOT_AVAILABLE:16,VISIBILITY_HIDDEN:17,NOT_ENOUGH_DATA:18,SOURCE_STREAM_STOPPED:19})}.apply(t,[]))||(e.exports=n)},7605:function(e,t){var n;void 0===(n=function(){return Object.freeze({HAVE_VIDEO:"haveVideo",HAVE_AUDIO:"haveAudio",VIDEO_INFO:"videoInfo",AUDIO_INFO:"audioInfo",PREROLL_DURATION:"prerollDuration",MIME_TYPE:"mimeType"})}.apply(t,[]))||(e.exports=n)},3284:function(e,t){var n;void 0===(n=function(){return Object.freeze({FLASH:"flash",NATIVE:"hls.native",H5LIVE_WSS:"h5live",H5LIVE_HLS:"h5live.hls"})}.apply(t,[]))||(e.exports=n)},2682:function(e,t){var n;void 0===(n=function(){return{CORE:"4.31.0"}}.apply(t,[]))||(e.exports=n)},728:function(e,t){var n;void 0===(n=function(){return Object.freeze({1e3:"Normal closure, meaning that the purpose for which the connection was established has been fulfilled.",1001:'An endpoint is "going away", such as a server going down or a browser having navigated away from a page.',1002:"An endpoint is terminating the connection due to a protocol error",1003:"An endpoint is terminating the connection because it has received a type of data it cannot accept (e.g., an endpoint that understands only text data MAY send this if it receives a binary message).",1004:"Reserved. The specific meaning might be defined in the future.",1005:"No status code was actually present.",1006:"Maybe no network, wrong url or server down.",1007:"An endpoint is terminating the connection because it has received data within a message that was not consistent with the type of the message (e.g., non-UTF-8 [http://tools.ietf.org/html/rfc3629] data within a text message).",1008:'An endpoint is terminating the connection because it has received a message that "violates its policy". This reason is given either if there is no other sutible reason, or if there is a need to hide specific details about the policy.',1009:"An endpoint is terminating the connection because it has received a message that is too big for it to process.",1011:"A server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request.",1015:"The connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified).",4005:"The requested source stream has been stopped.",4400:"Bad request. Maybe stream parameters are missing or malformed.",4403:"Access denied. The authentication token is missing or invalid.",4500:"The connection has been rejected due an internal server error.",4503:"The requested service is currently unavailable.",4900:"The security service has been rejected due an internal server error.",4901:"The security service denied access. The authentication token is invalid.",4903:"The security service denied access. The url is expired or a token parameter is missing (expires, token, or options).",4904:"The security service can not be found."})}.apply(t,[]))||(e.exports=n)},9374:function(e,t,n){var r,i;r=[n(8197),n(908),n(4341)],void 0===(i=function(e,t,n){return{check:function(r){var i,a;switch(r&&r.source&&r.source.defaults&&r.source.defaults.service&&(i=r.source.defaults.service),i){case t.service:a=t.preset;break;case n.service:a=n.preset}if(a){var o,s,u=r.source;if(!u||!u.h5live||u.entries&&u.entries.length||(u.entries=[{h5live:e.copy(u.h5live)}]),u&&u.entries&&u.entries.length>0)for(var d=0;d<u.entries.length;d+=1)(o=u.entries[d].h5live)&&l(o.security&&"object"==typeof o.security&&null!==o.security?a.secure.source:a.unsecure.source,o)}function l(e,t){if(t.server&&"object"==typeof t.server&&null!==t.server)for(s in e.h5live.server)t.server[s]&&typeof t.server[s]==typeof e.h5live.server[s]&&""!==t.server[s]||(t.server[s]=e.h5live.server[s]);else t.server=e.h5live.server;t.rtmp&&(!t.rtmp.url||"string"!=typeof t.rtmp.url||t.rtmp.url.length<1)&&(t.rtmp.url=e.h5live.rtmp.url)}}}}.apply(t,r))||(e.exports=i)},908:function(e,t){var n;void 0===(n=function(){return{service:"bintu",preset:{unsecure:{source:{h5live:{server:{websocket:"wss://bintu-play.nanocosmos.de:443/h5live/stream/stream.mp4",hls:"https://bintu-play.nanocosmos.de:443/h5live/http/playlist.m3u8",progressive:"https://bintu-play.nanocosmos.de:443/h5live/http/stream.mp4"},rtmp:{url:"rtmp://localhost/play"}}}},secure:{source:{h5live:{server:{websocket:"wss://bintu-play.nanocosmos.de:443/h5live/authstream/stream.mp4",hls:"https://bintu-play.nanocosmos.de:443/h5live/authhttp/playlist.m3u8",progressive:"https://bintu-play.nanocosmos.de:443/h5live/authhttp/stream.mp4"},rtmp:{url:"rtmp://localhost/splay"}}}}}}}.apply(t,[]))||(e.exports=n)},4341:function(e,t){var n;void 0===(n=function(){return{service:"bintu-dev",preset:{unsecure:{source:{h5live:{server:{websocket:"wss://bintu-play-dev.nanocosmos.de:443/h5live/stream/stream.mp4",hls:"https://bintu-play-dev.nanocosmos.de:443/h5live/http/playlist.m3u8",progressive:"https://bintu-play-dev.nanocosmos.de:443/h5live/http/stream.mp4"},rtmp:{url:"rtmp://localhost/play"}}}},secure:{source:{h5live:{server:{websocket:"wss://bintu-play-dev.nanocosmos.de:443/h5live/authstream/stream.mp4",hls:"https://bintu-play-dev.nanocosmos.de:443/h5live/authhttp/playlist.m3u8",progressive:"https://bintu-play-dev.nanocosmos.de:443/h5live/authhttp/stream.mp4"},rtmp:{url:"rtmp://localhost/splay"}}}}}}}.apply(t,[]))||(e.exports=n)},1490:function(e,t,n){var r,i;r=[n(8197),n(9771)],void 0===(i=function(e,t){var n,r,i,a=[];return a.push(t),{apply:function(t){if(n=t.source,r=n.general,!n.h5live||n.entries&&n.entries.length||(n.entries=[{h5live:e.copy(n.h5live)}]),n&&n.entries&&n.entries.length>0&&r&&Object.keys(r).length)for(var o=0;o<n.entries.length;o+=1)if(i=n.entries[o])for(var s=0;s<a.length;s+=1)a[s].apply(r,i)}}}.apply(t,r))||(e.exports=i)},9771:function(e,t){var n;void 0===(n=function(){var e="serverDomain",t=["websocket","hls","progressive"];function n(e,t){var n,r,i;try{(n=e.split("://")).length>1&&(r=n[1].split("/")).length>1&&((i=r[0].split(":"))[0]=t,r[0]=i.join(":"),n[1]=r.join("/"),e=n.join("://"))}catch(e){}return e}return{apply:function(r,i){var a=function(t){var n=!1;return t&&"object"==typeof t&&Object.keys(t).length&&t[e]&&"string"==typeof t[e]&&t[e].length&&(n=t[e]),n}(r);if(a){if(i&&i.h5live&&i.h5live.server&&"object"==typeof i.h5live.server)for(var o=0;o<t.length;o+=1){var s=t[o];Object.prototype.hasOwnProperty.call(i.h5live.server,s)&&(i.h5live.server[s]=n(i.h5live.server[s],a))}i&&i.hls&&(i.hls=n(i.hls,a))}}}}.apply(t,[]))||(e.exports=n)},2556:function(e,t){var n;void 0===(n=function(){return{create:function(){return{metrics:{accountId:void 0,accountKey:void 0,serverDomain:void 0,userId:"",eventId:"",statsInterval:10,customField1:void 0,customField2:void 0,customField3:void 0,customField4:void 0,customField5:void 0,customField6:void 0,customField7:void 0,customField8:void 0,customField9:void 0,customField10:void 0}}}}}.apply(t,[]))||(e.exports=n)},7982:function(e,t){var n;void 0===(n=function(){return{create:function(){return{metrics:{accountId:"string",accountKey:"string",serverDomain:"string",userId:"string",eventId:"string",statsInterval:"number",customField1:"*",customField2:"*",customField3:"*",customField4:"*",customField5:"*",customField6:"*",customField7:"*",customField8:"*",customField9:"*",customField10:"*"}}}}}.apply(t,[]))||(e.exports=n)},9914:function(e,t){var n;void 0===(n=function(){return Object.freeze({SETUP:{METRICS_NO_OBJECT:5201,METRICS_NOT_OBJECT:5202,METRICS_EMPTY_OBJECT:5203,METRICS_INDEX_INVALID:5204,METRICS_INDEX_INCORRECT:5205,METRICS_INDEX_RANGE:5206,METRICS_PROPERTY_INVALID:5207,METRICS_NO_CREDENTIALS:5208}})}.apply(t,[]))||(e.exports=n)},5999:function(e,t){var n;void 0===(n=function(){return Object.freeze({METRICS_NO_OBJECT:"Metrics configuration error. No metrics config object passed.",METRICS_NOT_OBJECT:"Metrics configuration error. Metrics config is not from type 'object'.",METRICS_EMPTY_OBJECT:"Metrics configuration error. Metrics config is empty.",METRICS_INDEX_INVALID:"Metrics configuration error. The custom property '$key$' has no valid index number, the range is 1 to 10 e.g. 'customField1'.",METRICS_INDEX_INCORRECT:"Metrics configuration error. The custom property '$key$' is not indexed correctly, the range is 1 to 10 e.g. 'customField1'.",METRICS_INDEX_RANGE:"Metrics configuration error. The custom property '$key$' has an index out of range, the range is 1 to 10 e.g. 'customField1'.",METRICS_PROPERTY_INVALID:"Metrics configuration error. The property '$key$' is not valid.",METRICS_NO_CREDENTIALS:"Metrics configuration error. No credentials passed."})}.apply(t,[]))||(e.exports=n)},27:function(e,t,n){var r,i;r=[n(7080)],void 0===(i=function(e){return{create:function(){var t,n=e.create(),r="statsAdaptive",i={},a={deviationOfMean:{buffer:{delay:{bufferDelaysArithmeticMeans:{calcArrayStats:!0},bufferDelaysStandardDeviations:{calcArrayStats:!0}}}},deviationOfMean2:{buffer:{delay:{bufferDelaysArithmeticMeans:{calcArrayStats:!0},bufferDelaysStandardDeviations:{calcArrayStats:!0}}}}};function o(e){if(Array.isArray(e)&&e.length){for(var t,n=e.length,r=e[0],i=e[0],a=e[0],o=1;o<n;o++)e[o]<r&&(r=e[o]),e[o]>i&&(i=e[o]),a+=e[o];return t=a/n,{min:isNaN(r)?r:r.toFixed(3),max:isNaN(i)?i:i.toFixed(3),avg:isNaN(t)?t:t.toFixed(3),count:n}}return{}}function s(e,t){for(var n in t){if(!e[n])return;Object.prototype.hasOwnProperty.call(t[n],"calcArrayStats")?i[n]=t[n].calcArrayStats?o(e[n]):e[n]:s(e[n],t[n])}}return{setStats:function(e){e&&e.data&&e.data.stats&&e.data.stats.adaptive&&(t=e.data.stats.adaptive)},getStatsFlat:function(){var e=t&&Object.keys(t).length?Object.keys(t)[0]:"";return Object.prototype.hasOwnProperty.call(a,e)?(s(t[e],a[e]),n.get(i,r,5)):n.get(t,r,5)}}}}}.apply(t,r))||(e.exports=i)},3932:function(e,t){var n;void 0===(n=function(){return{create:function(){var e=0,t=0,n=[],r={buffering_duration_current:0,buffering_duration_average:0,buffering_duration_total:0,buffering_count:0};return{start:function(){e=performance.now()},end:function(){t=performance.now()},measure:function(i,a){if(e&&t&&t>e){var o=Math.round(Math.abs(t-e))/1e3;if(t=e=0,o>=1&&o<=a.time_elapsed){for(var s in n.push(o),r.buffering_duration_current=o,r.buffering_duration_total+=o,r.buffering_count+=1,r.buffering_duration_average=Math.round(r.buffering_duration_total/r.buffering_count*1e3)/1e3,r)!/buffering_count/.test(s)&&r[s];return r}}return!1},reset:function(i,a){if(i&&a){for(t=e=0;n.length;)n.pop();var o={};for(var s in r)!/buffering_duration_current/.test(s)&&(o[s]=r[s]),r[s]=0;return o.time_played_total=a.time_played,o.time_elapsed_total=a.time_elapsed,o.time_buffering_total=o.buffering_duration_total,o}}}}}}.apply(t,[]))||(e.exports=n)},4815:function(e,t){var n;void 0===(n=function(){return{create:function(){return{measure:function(e){return function(e,t,n,r){t=t||"_";var i={};return function e(n,r){for(var a in n){var o=r+(r?t:"")+a.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase(),s=o.split(t);o=(s=s.map((function(e){return e.substring(0,10)}))).join(t);var u=n[a];"object"==typeof u&&null!==u?e(u,o):i[o]=u}}(e,n=n||""),i}(e.data,"_","error")}}}}}.apply(t,[]))||(e.exports=n)},4245:function(e,t){var n;void 0===(n=function(){return{create:function(){return{measure:function(e){return{pause_reason:e.data.reason}}}}}}.apply(t,[]))||(e.exports=n)},2247:function(e,t){var n;void 0===(n=function(){return{create:function(){var e=0,t=0,n=0;function r(){e=performance.now()}function i(){t=performance.now(),n+=Math.abs(t-e),e=0,t=0}return{measure:function(e){r();var t,n={connecting:0,connected:0,firstFragmentReceived:0,firstFrameRendered:0,playable:0,playing:0};try{if(e.data&&e.data.stats&&"object"==typeof e.data.stats){var i=e.data.stats;for(t in n)Object.prototype.hasOwnProperty.call(i,t)&&"number"==typeof i[t]&&(n[t]=i[t])}}catch(e){}var a={};return[{start:"connecting",end:"connecting",measurement:"play_connecting",value:0},{start:"connecting",end:"connected",measurement:"play_connected",value:0},{start:"connected",end:"firstFragmentReceived",measurement:"play_first_fragment_received",value:0},{start:"firstFragmentReceived",end:"firstFrameRendered",measurement:"play_first_frame_rendered",value:0},{start:"firstFrameRendered",end:"playable",measurement:"play_playable",value:0},{start:"playable",end:"playing",measurement:"play_playing",value:0}].forEach((function(e){var t=n[e.start],r=n[e.end];r-t>=0&&(e.value=Math.floor(r-t)),a[e.measurement+"_relative"]=e.value,a[e.measurement+"_absolute"]=n[e.end]})),a.play_start_time_total=a.play_playing_absolute,a.play_faststart=e.data.faststart,a.play_preroll_duration=e.data.prerollDuration,a},setTimePlayingStateStart:r,setTimePlayingStateEnd:i,getTimePlayingStateTotal:function(){return e&&!t&&i(),Math.round(n/1e3*100)/100},resetTimePlayingStateSubtotal:function(){n=0}}}}}.apply(t,[]))||(e.exports=n)},7666:function(e,t,n){var r,i;r=[n(7080)],void 0===(i=function(e){return{create:function(){var t=e.create();return{measure:function(e){return t.get(e.data,"ready",10,!0)},flattenCodecs:function(e){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if("video"===n||"audio"===n)for(var r="video"===n?"vc_":"ac_",i=Array.isArray(e[n].codecs)?e[n].codecs:[],a=0;a<i.length;a++){var o=i[a];if(o&&"string"==typeof o.codec){var s="ready_bi_"+r+o.codec.replace(/[.]/g,"_");t[s]=o.supported,"video"===n&&o.supported?t[s+"_max"]=o.maxResolution||"N/A":"audio"===n&&o.supported&&(t[s+"_max"]=o.maxConfig||"N/A")}}else"codecs_time"===n&&(t.ready_bi_codecs_time=e[n].execution);return t.ready_bi_moq_supported=void 0!==e.moq_supported&&e.moq_supported,t.ready_bi_webcodecs_vc=void 0!==e.webcodecs_vc&&e.webcodecs_vc,t.ready_bi_webcodecs_ac=void 0!==e.webcodecs_ac&&e.webcodecs_ac,t}}}}}.apply(t,r))||(e.exports=i)},2381:function(e,t,n){var r,i;r=[n(7080)],void 0===(i=function(e){return{create:function(){var t=e.create(),n={};return{measure:function(e){return{server_info_server_application_name:(n=e.data.serverInfo).serverApplicationName,server_info_server_application_version:n.serverApplicationVersion,server_info_hostname:n.hostname}},getFlat:function(){return t.get(n,"serverInfo",5)}}}}}.apply(t,r))||(e.exports=i)},1025:function(e,t,n){var r,i;r=[n(7080),n(8197)],void 0===(i=function(e,t){return{create:function(){var n=e.create(),r={SwitchStreamInit:{removeKeys:["source"]},SwitchStreamSuccess:{removeKeys:["source"],evaluateSwitch:!0},SwitchStreamAbort:{removeKeys:["source"]},SwitchStreamFail:{removeKeys:["source"]},UpdateSourceInit:{removeKeys:["source"]},UpdateSourcAbort:{removeKeys:["source"]},UpdateSourceFail:{removeKeys:["source"]}},i={up:0,down:0,direct:0,recover:0};return{handleEvent:function(e){var a,o;return!!function(e){return e&&e.data&&e.name}(e)&&(a=e.name,o=t.copy(e.data),Object.prototype.hasOwnProperty.call(r,a)&&Object.prototype.hasOwnProperty.call(r[a],"removeKeys")&&r[a].removeKeys.length&&function(e,t){for(var n=0;n<t.length;n++)Object.prototype.hasOwnProperty.call(e,t[n])&&delete e[t[n]]}(o,r[a].removeKeys),Object.prototype.hasOwnProperty.call(r,a)&&Object.prototype.hasOwnProperty.call(r[a],"evaluateSwitch")&&r[a].evaluateSwitch&&function(e){e&&e.type&&Object.keys(i).includes(e.type)&&(i[e.type]+=1)}(o),n.get(o,"e",5,!0))},getSwitchCountFlat:function(){var e=0,t={};return Object.keys(i).forEach((function(n){e+=i[n],t[n]=i[n]})),t.total=e,n.get(t,"switches",2,!0)},resetSwitchCount:function(){Object.keys(i).forEach((function(e){i[e]=0}))}}}}}.apply(t,r))||(e.exports=i)},9555:function(e,t){var n;void 0===(n=function(){return{create:function(e){var t=10;e&&!isNaN(e)&&(e=parseInt(e,10))>=5&&(t=e);var n=10*t,r=0,i=[],a=[],o=[],s=[],u=0,d={stats_buffer_average:0,stats_buffer_min:0,stats_buffer_max:0,stats_bitrate_average:0,stats_bitrate_min:0,stats_bitrate_max:0,stats_frame_rate_average:0,stats_frame_rate_min:0,stats_frame_rate_max:0,stats_playback_rate_average:0,stats_playback_rate_min:0,stats_playback_rate_max:0,stats_playback_rate_frequency:0,stats_buffergoal_real:0,stats_buffergoal_base:0,stats_buffergoal_min:0,stats_buffergoal_max:0,stats_quality_dropped_video_frames:0,stats_quality_dropped_video_frames_current:0,stats_quality_dropped_video_frames_ratio:0,stats_quality_dropped_video_frames_level_max:0,stats_quality_corrupted_video_frames:0,stats_quality_corrupted_video_frames_current:0,stats_quality_creation_time:0,stats_quality_total_video_frames:0,stats_measure_count:0,stats_measure_samples:n,stats_buffer_duration_delta:0};return{measure:function(e){var t={currentTime:0,playout:{start:0,end:0},buffer:{start:0,end:0,delay:{before:0,current:0,avg:0,min:0,max:0,deviation:0},update:{current:0,avg:0,min:0,max:0,deviation:0},durationDelta:0},buffergoal:{real:0,base:0,min:0,max:0},quality:{droppedVideoFrames:0,droppedVideoFramesCurrent:0,droppedVideoFramesLevel:0,corruptedVideoFrames:0,corruptedVideoFramesCurrent:0,creationTime:0,totalVideoFrames:0},bitrate:{current:0,avg:0,min:0,max:0,deviation:0},framerate:{current:0,avg:0,min:0,max:0,deviation:0},playbackrate:{current:0,avg:0,min:0,max:0,deviation:0}};e.data.stats&&"object"==typeof e.data.stats&&(t=e.data.stats);try{for(r+=1,i.push(t.buffer.delay.current),a.push(t.bitrate.current),o.push(t.framerate.current),s.push(t.playbackrate.current);i.length>n;)i.shift();for(;a.length>n;)a.shift();for(;o.length>n;)o.shift();for(;s.length>n;)s.shift();if(u=Math.max(u,t.quality.droppedVideoFramesLevel),r%n==0){var l=JSON.parse(JSON.stringify(i)).sort((function(e,t){return e-t}),0);d.stats_buffer_average=Math.round(l.reduce((function(e,t){return e+t}),0)/l.length*1e3)/1e3,d.stats_buffer_min=Math.round(1e3*l[0])/1e3,d.stats_buffer_max=Math.round(1e3*l[l.length-1])/1e3,d.stats_buffer_duration_delta=t.buffer.durationDelta;var c=JSON.parse(JSON.stringify(a)).sort((function(e,t){return e-t}),0);d.stats_bitrate_average=Math.round(c.reduce((function(e,t){return e+t}),0)/c.length/1e3),d.stats_bitrate_min=Math.round(c[0]/1e3),d.stats_bitrate_max=Math.round(c[l.length-1]/1e3);var f=JSON.parse(JSON.stringify(o)).sort((function(e,t){return e-t}),0);d.stats_frame_rate_average=Math.round(f.reduce((function(e,t){return e+t}),0)/f.length*1e3)/1e3,d.stats_frame_rate_min=f[0],d.stats_frame_rate_max=f[f.length-1];var E=JSON.parse(JSON.stringify(s)).sort((function(e,t){return e-t}),0),p=s.map((function(e,t,n){return t?e-n[t-1]:0})).filter((function(e){return 0!==e}));d.stats_playback_rate_average=Math.round(E.reduce((function(e,t){return e+t}),0)/E.length*1e3)/1e3,d.stats_playback_rate_min=E[0],d.stats_playback_rate_max=E[E.length-1],d.stats_playback_rate_frequency=Math.round(10*p.length/n*1e3)/1e3,d.stats_buffergoal_real=t.buffergoal.real,d.stats_buffergoal_base=t.buffergoal.base,d.stats_buffergoal_min=t.buffergoal.min,d.stats_buffergoal_max=t.buffergoal.max,d.stats_measure_count+=1;var m=Math.round((t.quality.droppedVideoFrames-d.stats_quality_dropped_video_frames)/(t.quality.totalVideoFrames-d.stats_quality_total_video_frames)*100)/100;return d.stats_quality_dropped_video_frames=t.quality.droppedVideoFrames,d.stats_quality_dropped_video_frames_current=t.quality.droppedVideoFramesCurrent,d.stats_quality_dropped_video_frames_ratio=m,d.stats_quality_dropped_video_frames_level_max=u,d.stats_quality_corrupted_video_frames=t.quality.corruptedVideoFrames,d.stats_quality_corrupted_video_frames_current=t.quality.corruptedVideoFramesCurrent,d.stats_quality_creation_time=t.quality.creationTime,d.stats_quality_total_video_frames=t.quality.totalVideoFrames,u=0,d}return!1}catch(e){return!1}},reset:function(){for(r=0;i.length;)i.shift();for(;a.length;)a.shift();for(;o.length;)o.shift();for(;s.length;)s.shift();for(var e in d)"stats_measure_samples"!==e&&(d[e]=0)}}}}}.apply(t,[]))||(e.exports=n)},4402:function(e,t,n){var r,i;r=[n(7080)],void 0===(i=function(e){return{create:function(){var t=e.create(),n={};return{measure:function(e){return{stream_info_has_audio:(n=e.data.streamInfo).haveAudio,stream_info_has_video:n.haveVideo,stream_info_preroll_duration:n.prerollDuration?n.prerollDuration:0,stream_info_width:n.videoInfo?n.videoInfo.width:0,stream_info_height:n.videoInfo?n.videoInfo.height:0,stream_info_frame_rate:n.videoInfo?n.videoInfo.frameRate:0,stream_info_sample_rate:n.audioInfo?n.audioInfo.sampleRate:0,stream_info_channels:n.audioInfo?n.audioInfo.channels:0,stream_info_bits_per_sample:n.audioInfo?n.audioInfo.bitsPerSample:0,connection_id:n.url.split("&cid=")[1].split("&pid=")[0]}},getFlat:function(){return t.get(n,"streamInfo",5)},reset:function(){n={}},getStreamname:function(){return void((e=n)&&Object.prototype.hasOwnProperty.call(e,"rtmp")&&Object.prototype.hasOwnProperty.call(e.rtmp,"streamname"))?n.rtmp.streamname:"";var e}}}}}.apply(t,r))||(e.exports=i)},6545:function(e,t){var n;void 0===(n=function(){return{create:function(){return{measure:function(e){return{warning_message:e.data.message}}}}}}.apply(t,[]))||(e.exports=n)},2215:function(e,t,n){var r,i;r=[n(1933),n(8818),n(8478),n(8333),n(8197),n(6627),n(9583),n(9914),n(5999),n(2556),n(7982),n(2788),n(4402),n(2381),n(2247),n(9555),n(3932),n(4245),n(4815),n(7666),n(1025),n(27),n(6545)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l,c,f,E,p,m,b,h,g,_,T,A,S){function y(){var l,y,v,R,O,I,N,C,D,w,U,P,M,L,F,k,x,B=d.create().metrics,H={},G=r.create("NanoMetrics"),V=e,W=t,Y=n,j={},K={},z={},q={},X=0,Q="classic",J=0,$=0,Z=0,ee=a,te=1,ne=["glog1.nanocosmos.de","metrics.stream360.io","metrics.stream365.io"];function re(e){try{var t=function(e){var t=q&&q.source&&q.source.entries&&q.source.entries[X]&&q.source.entries[X].h5live?q.source.entries[X].h5live:{},n=t.server||{websocket:"",hls:"",progressive:""},r=t.rtmp&&t.rtmp.url?t.rtmp.url:"",i=function(e){var t=e.split(/\?(.+)/);return 1===t.length?t.push(""):t.pop(),t}(t.rtmp&&t.rtmp.streamname?t.rtmp.streamname:""),a=i[0],o=i[1],s=function(e,t,n){var r,i,a="";return e&&t&&(-1!==e.indexOf("bintu")||n&&n.websocket&&n.websocket.length&&-1!==n.websocket.indexOf("bintu")&&-1!==e.indexOf("localhost"))&&(i=/^[A-Za-z0-9 ]+$/,(r=t.split("-")[0]).length>4&&r.length<=6&&i.test(r))&&(a=t.split("-")[0]),a}(r,a,n),u=void 0!==K.hostname?K.hostname:"";void 0===(L=document.visibilityState)&&(L="unknown"),L=L;var d=(F=ee.isIOSDesktopMode)?"iOS":V.os;k=function(){if(!F||!V.browserVersion)return V.osVersion;var e=V.browserVersion.split("."),t=!0;if(!(e.length<=2))return"unknown";for(var n=0;n<e.length;n++)if(e[n].length<1||e[n].length>2){t=!1;break}return t?V.browserVersion:void 0}();var l={application_name:"h5live-player",application_user_id:""+B.userId,application_event_id:""+B.eventId,application_account_id:""+B.accountId,application_account_key:""+B.accountKey,message:e.name.replace(/\b\w/g,(function(e){return e.toLowerCase()})).replace(/([A-Z])/g,"_$1").toUpperCase(),severity:"info",client_ip:"",timestamp_client:(new Date).toISOString(),referrer:document.location.href,os:d,os_version:k,browser:V.browser,browser_version:V.browserVersion,player_id:y.id,player_type:y.type,player_mediaplaybackapi:y.mediaplaybackapi,player_version:y.version,player_event_name:e.name.replace(/\b\w/g,(function(e){return e.toLowerCase()})).replace(/([A-Z])/g,"_$1").toUpperCase(),server_domain:n.websocket&&n.websocket.length?n.websocket.split("//")[1].split("/")[0]:"",server_hostname:u,rtmp_url:r,rtmp_streamname:a,rtmp_streamparameter:o,connection_id:j&&j.url&&j.url.length?j.url.split("&cid=")[1].split("&pid=")[0]:"",time_played:z.currentTime?Math.round(1e3*z.currentTime)/1e3:0,time_elapsed:J>0?Math.round(performance.now()-J)/1e3:0,bintu_orga_hash:s,latency_control_mode:Q,visibility:L,player_event_count:te};for(var c in H)Object.prototype.hasOwnProperty.call(H,c)&&(l[c]=""+H[c]);return l}(e);switch(e.name){case o.READY:Q=e.data.config.latencyControlMode,t.latency_control_mode=Q,e.data.config.playback.latencyControlMode=q.playback&&q.playback.latencyControlMode?q.playback.latencyControlMode:Q,ie(w,"measure",e,t)&&(fe(!1)&&se(t,{bintu_response_time:x.responseTime}),se(t,w.flattenCodecs(W.getCodecSupport(),"")),se(t,{ready_bi_webtransport:V.isWebTransportSupported}),ae(t));break;case o.LOADING:N.reset(),I.reset(),ae(t);break;case o.STREAM_INFO:case o.STREAM_INFO_UPDATE:j=e.data.streamInfo,ie(v,"measure",e,t),ae(t);break;case o.PLAY:J=performance.now(),ie(O,"measure",e,t),fe(!1)&&se(t,{bintu_response_time:x.responseTime}),ae(t),U.resetSwitchCount();break;case o.STATS:z=e.data.stats;var n=Object.prototype.hasOwnProperty.call(z,"adaptive");n&&P.setStats(e,t),ie(I,"measure",e,t)&&(n&&se(t,P.getStatsFlat()),ae(t));break;case o.START_BUFFERING:O.setTimePlayingStateEnd(),N.start();break;case o.STOP_BUFFERING:N.end(),O.setTimePlayingStateStart(),ie(N,"measure",e,t)&&(t.message=t.player_event_name="BUFFERING",ae(t));break;case o.PAUSE:$=t.time_elapsed,Z+=$,O.setTimePlayingStateEnd();var r=O.getTimePlayingStateTotal();ie(C,"measure",e,t),ie(N,"reset",e,t),se(t,v.getFlat()),se(t,{time_playing_state_total:r,time_elapsed_total_sum:Z,entries_length:q&&Object.prototype.hasOwnProperty.call(q,"source")&&Object.prototype.hasOwnProperty.call(q.source,"entries")?q.source.entries.length:1}),se(t,U.getSwitchCountFlat()),ae(t),j={},z={},O.resetTimePlayingStateSubtotal(),U.resetSwitchCount(),Z=0,J=0;break;case o.ERROR:ie(D,"measure",e,t);var i=fe(!0);if(i)switch(e.data.code){case 5101:case 5102:case 5103:se(t,{bintu_response_time:i.responseTime,bintu_api_url:i.apiUrl,bintu_is_group:i.isGroup,bintu_id:i.id,bintu_status:i.status});break;default:se(t,{bintu_response_time:x.responseTime})}ae(t);break;case o.DESTROY:ae(t);break;case o.METADATA:case o.PLAYBACK_FINISHED:case o.MEDIA:case o.MUTE:case o.UNMUTE:case o.VOLUME_CHANGE:case o.STATE_CHANGE:break;case o.WARNING:ie(M,"measure",e,t),ae(t);break;case o.SWITCH_STREAM_INIT:ie(U,"handleEvent",e,t)&&(se(t,P.getStatsFlat()),ae(t));break;case o.SWITCH_STREAM_SUCCESS:de(e,"entry")&&ue(e.data.entry.index),$=t.time_elapsed,Z+=$,J=performance.now(),ie(U,"handleEvent",e,t)&&(se(t,v.getFlat()),se(t,{time_elapsed_total:$,time_elapsed_total_sum:Z}),ae(t),v.reset());break;case o.SWITCH_STREAM_FAIL:case o.SWITCH_STREAM_ABORT:case o.UPDATE_SOURCE_INIT:ie(U,"handleEvent",e,t)&&ae(t);break;case o.UPDATE_SOURCE_SUCCESS:de(e,"source")&&((a=e.data.source)&&(q.source=a),ue(e.data.source.startIndex)),$=t.time_elapsed,Z+=$,J=performance.now(),ie(U,"handleEvent",e,t)&&(se(t,v.getFlat()),se(t,{time_elapsed_total:$,time_elapsed_total_sum:Z}),ae(t),v.reset());break;case o.UPDATE_SOURCE_FAIL:case o.UPDATE_SOURCE_ABORT:ie(U,"handleEvent",e,t)&&ae(t);break;case o.SERVER_INFO:K=e.data.serverInfo,ie(R,"measure",e,t)&&(t.server_hostname=void 0!==K.hostname?K.hostname:"",ae(t))}}catch(e){G.debugEnabled()&&G.debug("metrics event error: "+(e.message?e.message:"exception"))}var a}function ie(e,t,n,r){var i=e[t](n,r);if(i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a]);return!0}return!1}function ae(e){G.debugEnabled()&&G.debug("send "+e.player_event_name),l.send(e.player_event_name,e),1e5===te?(te=1,G.debugEnabled()&&G.debug("playerEventCount reached 100000, reset to 1")):te+=1}function oe(){if("object"==typeof y&&"function"==typeof y.off)for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&y.off(o[e],re);l&&(l.destroy(),l=null),v=null,O=null,I=null,N=null,C=null,D=null,w=null,U=null,P=null,M=null}function se(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}function ue(e){X=isNaN(e)?0:e}function de(e,t){var n=e&&Object.prototype.hasOwnProperty.call(e,"data");return t?n&&Object.prototype.hasOwnProperty.call(e.data,t):n}function le(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ce(e,t){if("string"===t)return function(e){return"string"!=typeof e||""===e.trim()?"unknown":e.trim()}(e);if("boolean"===t)return Boolean(e);if("number"===t){var n=Number(e);return isNaN(n)?0:n}return e}function fe(e){var t=function(e){if("object"!=typeof x||null===x)return!1;var t={apiUrl:"string",id:"string",isGroup:"boolean",responseTime:"number",status:"string"};if("number"==typeof x.status&&(x.status=x.status.toString()),e){for(var n in t)if(le(t,n)&&(x[n]=ce(x[n],t[n]),!le(x,n)))return!1;return x}if(le(x,"responseTime")){var r=x.responseTime;if("string"==typeof r&&(r=Number(r)),"number"==typeof r&&!isNaN(r))return x.responseTime=r,x}return!1}(e);return!!(t&&t.responseTime>0)&&t}return{setup:function(e,t,n){var r;G.debugEnabled()&&G.debug("setup"),y=t,q=i.copy(e),oe(),x=n,!q.source.h5live||q.source.entries&&q.source.entries.length||(q.source.entries=[{h5live:i.copy(q.source.h5live)}],delete q.source.h5live);var a=q.metrics;if(!a)throw new Y(u.METRICS_NO_OBJECT,s.SETUP.METRICS_NO_OBJECT);if("object"!=typeof a)throw new Y(u.METRICS_NOT_OBJECT,s.SETUP.METRICS_NOT_OBJECT);if(!Object.getOwnPropertyNames(a).length)throw new Y(u.METRICS_EMPTY_OBJECT,s.SETUP.METRICS_EMPTY_OBJECT);for(r in a)if(!Object.prototype.hasOwnProperty.call(a,r)||!Object.prototype.hasOwnProperty.call(B,r)||(B[r]=a[r],0===r.indexOf("customField"))){var d,L=r.split("customField");if(!(L.length>1&&0===L[0].length))throw new Y(u.METRICS_PROPERTY_INVALID.replace("$key$",r),s.SETUP.METRICS_PROPERTY_INVALID);if(d=parseInt(L[1],10),isNaN(d))throw new Y(u.METRICS_INDEX_INVALID.replace("$key$",r),s.SETUP.METRICS_INDEX_INVALID);if(d.toString()!==L[1])throw new Y(u.METRICS_INDEX_INCORRECT.replace("$key$",r),s.SETUP.METRICS_INDEX_INCORRECT);if(d<1||d>10)throw new Y(u.METRICS_INDEX_RANGE.replace("$key$",r),s.SETUP.METRICS_INDEX_RANGE);H["application_custom_field_"+L[1]]=a[r]}if(!B.accountId||!B.accountKey)throw new Y(u.METRICS_NO_CREDENTIALS,s.SETUP.METRICS_NO_CREDENTIALS);for(r in a.serverDomain&&a.serverDomain.length>0?B.serverDomain=a.serverDomain:B.serverDomain=ne[0],a)G.debugEnabled()&&G.debug("metrics config["+r+"]: "+JSON.stringify(a[r]));for(var F in v=f.create(),R=E.create(),O=p.create(),I=m.create(B.statsInterval),N=b.create(),C=h.create(),D=g.create(),w=_.create(),U=T.create(),P=A.create(),M=S.create(),l=c.create({accountId:B.accountId,accountKey:B.accountKey,serverDomain:B.serverDomain}),o)Object.prototype.hasOwnProperty.call(o,F)&&(y.off(o[F],re),y.on(o[F],re));X=q.source&&!isNaN(q.source.startIndex)&&q.source.entries&&q.source.startIndex>=0&&q.source.startIndex<q.source.entries.length?q.source.startIndex:0},destroy:oe}}return y.emptyConfig=d,y.validConfig=l,y}.apply(t,r))||(e.exports=i)},2788:function(e,t,n){var r,i;r=[n(8333)],void 0===(i=function(e){return{create:function(t){var n={accountId:void 0,accountKey:void 0,serverDomain:void 0};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t&&Object.prototype.hasOwnProperty.call(t,r)&&void 0!==t[r]&&(n[r]=t[r]);var i=0,a={},o="https://"+n.serverDomain+"/gelf/"+n.accountKey,s=e.create("MetricsLogger"),u=!0;function d(e,t,n){void 0!==a[e]&&(s.detailEnabled()&&s.detail("#"+e+" "+t+" "+n+" "+a[e].status),delete a[e])}return window.addEventListener("unload",(function(){u=!1})),{send:function(e,t){try{i+=1;var n=new XMLHttpRequest;a[i]=n;var r=a[i];if(r.open("POST",o,u),r.onreadystatechange=function(e,t){if(this&&4===this.readyState){var n=this.status>=400?"fail":this.status>=200?"success":"unknown";d.call(null,e,t,n)}}.bind(r,i,e),["abort","error","timeout"].forEach((function(t){r.addEventListener(t,d.bind(null,i,e,t))})),void 0!==t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t=null}if("object"==typeof t)try{t=JSON.stringify(t),s.detailEnabled()&&s.detail("#"+i+" "+e+" send "+t),setTimeout(d.bind(null,i,e,"suspend"),5e3),r.send(t)}catch(e){d.call(null,i,"catch "+e.message)}}else r.send()}catch(e){d.call(null,i,"catch "+e.message)}},destroy:function(){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&delete a[e]}}}}}.apply(t,r))||(e.exports=i)},7080:function(e,t){var n;void 0===(n=function(){return{create:function(){var e,t,n={},r={source:"src",options:"opt",config:"cfg",playback:"pb",entries:"entr"};function i(t,r){var a;for(var s in t)a=o(s,r),e&&Array.isArray(t[s])?i(t[s].slice(Math.max(t[s].length-e,0)),a):"object"==typeof t[s]?i(t[s],a):n[a]=t[s];return n}function a(e){return isNaN(e)&&e===e.toUpperCase()}function o(e,n){var i,o=n+"_";t&&Object.prototype.hasOwnProperty.call(r,e)&&(e=r[e]);for(var s=0;s<e.length;s++)a(i=e.charAt(s))&&(o+="_"),o+=i.toLowerCase();return o}function s(){n={}}return{get:function(n,r,a,o){return s(),n&&"object"==typeof n?(r=r?r.toLowerCase():"",e=a,t=o,i(n,r)):{}},reset:s}}}}.apply(t,[]))||(e.exports=n)},8209:function(e,t,n){var r,i;r=[n(1969),n(8544),n(6965),n(5810),n(1493),n(828),n(9583),n(492),n(5493),n(2682),n(3778),n(8333),n(6028),n(6725),n(2874)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l,c,f,E,p){"use strict";var m=c.create("NanoCore");function b(t){E.validatePlayerDivId(t),this.version=d.CORE,this.type="default",this.mediaplaybackapi="default",this.id=Math.round(1e11*Math.random()).toString(),this._playerDivId=t,this._dummyPlayer=new e(this._playerDivId),this._realPlayer=this._dummyPlayer}m.debugEnabled()&&m.debug("NanoCore api version: "+d.CORE);var h=b.prototype=Object.create(e.prototype);return h.setup=function(e){return new p(function(n,r){var i=e&&e.events&&e.events.onError?e.events.onError:null,a=function(e){e.code||(e.code=l.SETUP.EXCEPTION),e.message||(e.message="An unknown error occured during setup.");var t={name:"Error",data:{code:e.code,message:e.message},player:this._playerDivId,id:this.id,version:this.version,state:s.IDLE};i&&this.on(t.name,i),this.emit(t.name,t),r(e)}.bind(this);try{this._realPlayer&&this._realPlayer!==this._dummyPlayer&&(this._realPlayer.destroy(),this._realPlayer=this._dummyPlayer),t.create(this._playerDivId,e).then(function(t){this.version=t.version,this.type=t.type,this._realPlayer=t,this._realPlayer.id=this.id,this._propagator=f.create(t,o,this),this._realPlayer.setup(e).then(function(e){this.mediaplaybackapi=t.mediaplaybackapi,window.onunload=function(){this._realPlayer.destroy()}.bind(this),function(e){n(e)}(e)}.bind(this),a)}.bind(this),(function(e){a(e)}))}catch(e){a(e)}}.bind(this))},h.destroy=function(){this._realPlayer.destroy()},h.play=function(){this._realPlayer.play()},h.pause=function(){this._realPlayer.pause()},h.mute=function(){this._realPlayer.mute()},h.unmute=function(){this._realPlayer.unmute()},h.setVolume=function(e){this._realPlayer.setVolume(e)},h.updateSource=function(e,t){return this._realPlayer.updateSource(e,t)},h.switchStream=function(e){return this._realPlayer.switchStream(e)},h.setAdaption=function(e){this._realPlayer.setAdaption(e)},b.events=o,b.states=s,b.emptyConfig=n,b.validConfig=r,b.entryEmptyConfig=i,b.entryValidConfig=a,b.pauseReasons=u,b.errorCodes=l,b.version=d.CORE,b.capabilities=t.capabilities,b}.apply(t,r))||(e.exports=i)},9921:function(e,t,n){var r,i;r=[n(130),n(8209),n(1583),n(2215),n(4216),n(9374),n(1490),n(8333),n(6028),n(1473),n(6725),n(9658),n(8197)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l,c,f){"use strict";var E=s.create("NanoPlayer");E.debugEnabled()&&E.debug("NanoPlayer api version: "+e.NANOPLAYER);var p,m=t.events,b=t.states,h=t.emptyConfig,g=t.validConfig,_=t.entryEmptyConfig,T=t.entryValidConfig,A=t.pauseReasons,S=t.errorCodes,y=t.capabilities,v=n.events,R=n.publicEvents,O=n.emptyConfig,I=n.validConfig,N=i.emptyConfig,C=i.validConfig,D=r.emptyConfig,w=r.validConfig,U={};for(p in m)U[p]=m[p];for(p in R)U[p]=R[p];var P={};d.extend(h.create(),P),d.extend(O.create(),P),d.extend(N.create(),P),d.extend(D.create(),P);var M={};d.extend(g.create(),M),d.extend(I.create(),M),d.extend(C.create(),M),d.extend(w.create(),M);var L={};d.extend(_.create(),L);var F={};function k(t){l.validatePlayerDivId(t),this.version=e.NANOPLAYER,this.coreversion="",this.viewversion="",this.type="default",this.mediaplaybackapi="default",this.id=Math.round(1e11*Math.random()).toString(),this._playerDivId=t,this._core=null,this._view=null,this._metrics=null,this.state=b.IDLE}d.extend(T.create(),F);var x=k.prototype=Object.create(c.prototype);return x.setup=function(e){var n=f.copy(e);return new Promise(function(e,s){try{var l={};d.extend(n,l);var c=l&&l.events&&l.events.onError?l.events.onError:null,f=function(e){var t="object"==typeof e.error?e.error:e;t&&!t.code&&(t.code=S.SETUP.EXCEPTION),t&&!t.message&&(t.message="An unknown error occured during setup.");var n={name:"Error",data:{code:t.code,message:t.message},player:this._playerDivId,id:this.id,version:this.version,state:this.state};l.metrics&&(this._metrics||(this._metrics=new r,this._metrics.version=this.version),this._metrics.setup(l,this,e.bintu)),c&&this.on(n.name,c),this._emit(n.name,n),d.merge(l,this._viewConfig),d.extend(this._viewConfig,l),l.style.view&&(this._initView(l),null!==this._view&&this._view.handleView(k.states.UNINITIALIZED)),s(t)}.bind(this);this._bintuConfig=N.create(),this._coreConfig=h.create(),this._viewConfig=O.create(),d.merge(l,this._bintuConfig),d.clean(l),this.destroy();var E={};d.extend(n,E),this._checkConfig(E),i.setup(l).then(function(n){var i=n.config;try{a.check(i),o.apply(i),(l=i).metrics&&(this._metrics&&this._metrics.destroy(),this._metrics=new r,this._metrics.version=this.version,this._metrics.setup(l,this,n.bintu)),d.merge(l,this._viewConfig),d.merge(l,this._coreConfig),d.extend(this._viewConfig,l),d.extend(this._coreConfig,l),d.clean(l),this._initView(l),this._core&&this._core.destroy(),this._core=new t(this._playerDivId),this._core.id=this.id,this._corePropagator=u.create(this._core,k.coreEvents,this),this._connectLayers(),this._core.setup(this._coreConfig).then(function(t){window.removeEventListener("unload",this.destroy.bind(this)),window.addEventListener("unload",this.destroy.bind(this)),this.coreversion=this._core.version,this.type=this._core.type,this.mediaplaybackapi=this._core.mediaplaybackapi,this._view&&this._view.postSetup(),d.extend(this._bintuConfig,t),d.extend(this._viewConfig,t),d.clean(t),e(t)}.bind(this),function(e){this._view&&this._viewConfig.style&&this._viewConfig.style.view&&this._view.handleView(k.states.UNINITIALIZED),s(e)}.bind(this))}catch(e){f(e)}}.bind(this),f)}catch(e){f(e)}}.bind(this))},x.destroy=function(){this._view&&this._view.destroy(),this._view=null,this._core&&this._core.destroy(),this._core=null,this._metrics&&this._metrics.destroy(),this._metrics=null},x._checkConfig=function(e){var t=[];if(e.source&&e.source.bintu){var n=d.check({source:{bintu:e.source.bintu}},C.create());t=t.concat(n)}if(e.style){var r=d.check({style:e.style},I.create());t=t.concat(r)}if(e.source){delete e.source.bintu,delete e.style,delete e.metrics,delete e.events;var i=d.check(e,g.create()).filter((function(e){return-1!==e.indexOf("valid")}));t=t.concat(i)}if(t.length){var a=e&&e.events&&e.events.onWarning?e.events.onWarning:null;a&&this.on(m.WARNING,a),t.forEach(function(e){var t={name:m.WARNING,data:{message:e},player:this._playerDivId,id:this.id,version:this.version,state:this.state};this._emit(t.name,t)}.bind(this))}},x._initView=function(e){this._view&&this._view.destroy(),this._view=new n,this._view.version=this.version,this.viewversion=this._view.version,this._view.setBaseValues(this._playerDivId),this._view.baseSetup(e),this._viewPropagator=u.create(this._view,k.viewPublicEvents,this)},x._connectLayers=function(){var e=[k.coreEvents.MEDIA];function t(e,t,n,r){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&-1===t.indexOf(e[i])&&n.on(e[i],r.bind(this))}t(k.coreEvents,e,this,this._onCoreEvent.bind(this)),this._view&&t(k.viewEvents,[],this._view,this._onViewEvent.bind(this))},x._onCoreEvent=function(e){if(this.state=e.state,this._view&&this._viewConfig.style&&this._viewConfig.style.view){if(e.name===k.coreEvents.STATS)return void this._view.handleStats(e.data.stats);e.name===k.coreEvents.STATE_CHANGE?this._view.update(e):e.name===k.coreEvents.STREAM_INFO?this._view.handleStreamInfo(e):e.name===k.coreEvents.STREAM_INFO_UPDATE?this._view.handleStreamInfoUpdate(e):e.name===k.coreEvents.MUTE||e.name===k.coreEvents.UNMUTE?this._view.handleMute(e.name===k.coreEvents.MUTE):e.name===k.coreEvents.VOLUME_CHANGE?this._view.handleVolume(e.data.volume):e.name===k.coreEvents.READY?this._view.handleConfig(e.data.config):e.name===k.coreEvents.METADATA&&this._view.handleMetaData(e)}},x._onViewEvent=function(e){this._core&&(e.name===k.viewEvents.PLAY?this._core.play():e.name===k.viewEvents.PAUSE?this._core.pause():e.name===k.viewEvents.MUTE?this._core.mute():e.name===k.viewEvents.UNMUTE?this._core.unmute():e.name===k.viewEvents.VOLUME_CHANGE?this._core.setVolume(e.data.volume):e.name===k.viewEvents.FULLSCREEN_CHANGE&&this._emit(k.viewPublicEvents.FULLSCREEN_CHANGE,e.data))},x._emit=function(e,t){var n={};t&&t.name&&t.data?n=t:t?(n.data=t,n.name=e||"unknown"):(n.data={},n.name=e||"unknown"),n.player=this._playerDivId,n.id=this.id,n.version=this.version,n.state=this.state,this.emit(n.name,n)},x._callMethod=function(){if(!this._core)throw new Error('"'+arguments[0]+'" must be implemented or player not initialized by call setup.');return this._core[arguments[0]].apply(this._core,Array.prototype.slice.call(arguments,1))},x._callViewMethod=function(){if(!this._view)throw new Error('"'+arguments[0]+'" must be implemented or player not initialized by call setup.');return this._view[arguments[0]].apply(this._view,Array.prototype.slice.call(arguments,1))},x.play=function(){this._callMethod("play")},x.pause=function(){this._callMethod("pause")},x.mute=function(){this._callMethod("mute")},x.unmute=function(){this._callMethod("unmute")},x.setVolume=function(e){this._callMethod("setVolume",e)},x.updateSource=function(e,t){return new Promise(function(n,r){i.updateSource(e,t).then(function(e){var i=e.config;a.check(i),o.apply(i),this._callMethod("updateSource",i.source,t).then((function(e){n(e)}),(function(e){r(e)}))}.bind(this),function(e){var t="object"==typeof e.error?e.error:e,n={name:"Error",data:{code:t.code,message:t.message},player:this._playerDivId,id:this.id,version:this.version,state:this.state};this._emit(n.name,n),r(t)}.bind(this))}.bind(this))},x.switchStream=function(e){return new Promise(function(t,n){this._callMethod("switchStream",e).then((function(e){t(e)}),(function(e){n(e)}))}.bind(this))},x.setAdaption=function(e){this._callMethod("setAdaption",e)},x.requestFullscreen=function(){return this._callViewMethod("requestFullscreen")},x.exitFullscreen=function(){return this._callViewMethod("exitFullscreen")},k.states=b,k.coreEvents=m,k.viewEvents=v,k.viewPublicEvents=R,k.emptyConfig=P,k.validConfig=M,k.entryEmptyConfig=L,k.entryValidConfig=F,k.events=U,k.pauseReasons=A,k.capabilities=y,window.NanoPlayer=k,k}.apply(t,r))||(e.exports=i)},6722:function(e,t,n){var r,i;r=[n(1969),n(3284),n(1313),n(166),n(3778),n(3890),n(2682),n(8053),n(9658),n(9088),n(1473),n(8478),n(8197),n(6965),n(5810),n(9583),n(8656),n(492),n(5493)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l,c,f,E,p,m,b,h,g){var _=d.log,T=2e4,A=2e4;function S(e){this.version=o.CORE,this.type="flash",this.mediaplaybackapi="flash",this.config=E.create(),this._volume=1,this._muted=!1,this._mediaElement=null,this._mediaSource=null,this._playing=!1,this._playerDivId=e,this._playerDiv=document.getElementById(this._playerDivId),this._mediaElementId="flash-"+e,this.state=this.STATE.IDLE,this._triggered=0,this._stats={currentTime:0,playout:{start:0,end:0},buffer:{start:0,end:0,delay:{before:0,current:0,avg:0,min:0,max:0,deviation:0},update:{current:0,avg:0,min:0,max:0,deviation:0}},quality:{droppedVideoFrames:0,droppedVideoFramesCurrent:0,corruptedVideoFrames:0,corruptedVideoFramesCurrent:0,creationTime:0,totalVideoFrames:0},bitrate:{current:0,avg:0,min:0,max:0,deviation:0},framerate:{current:0,avg:0,min:0,max:0,deviation:0}},this._intervalEmitStats=0,this._streamInfo=null,this._isSwitchStream=!1,this._isUpdateSource=!1,this._switchCount=0}S.isSupported=function(){return 0!==s.ua.pv[0]||s.ua.pv===[0,0,0]},S.supportedTechniques=[t.FLASH];var y=S.prototype=Object.create(e.prototype);return y.setup=function(e){return new Promise(function(t,r){try{var a=l.check(e,p.create());l.merge(e,this.config),l.clean(this.config),!this.config.source.h5live||this.config.source.entries&&this.config.source.entries.length||(this.config.source.entries=[{h5live:f.copy(this.config.source.h5live)}]);var o=this.config.source.entries[isNaN(this.config.source.startIndex)?0:this.config.source.startIndex].h5live.rtmp,s=this.config.source.entries[isNaN(this.config.source.startIndex)?0:this.config.source.startIndex].h5live.params;if(!(o&&o.url&&o.streamname||s&&s.url&&s.stream))throw new c(n.CONFIG_RTMP,i.SETUP.CONFIG_RTMP);this._emitter=new u,this._setListeners(this.config.events,this),a.forEach(function(e){this._emitWarning(e)}.bind(this)),this._metaDataEnabled=this.config.playback.metadata,this._setupVideoElement(),this._setupFinish().then(t,r)}catch(e){r(e)}}.bind(this))},y.play=function(){this._setMediaElement(),this._mediaElement.Start()},y.pause=function(){this._isSwitchStream&&(this._emit(m.SWITCH_STREAM_SUCCESS,{source:this.config.source,entry:this._getEntry(),rule:"none",tag:"",count:this._switchCount,type:"direct",id:this._isSwitchStream}),this._isSwitchStream=!1),this._isUpdateSource&&(this._emit(m.UPDATE_SOURCE_SUCCESS,{source:this.config.source,entry:this._getEntry(),rule:"none",tag:"",count:this._switchCount,type:"update",id:this.isUpdateSource}),this._isUpdateSource=!1),this._triggered=arguments.length?arguments[0]:0,clearTimeout(this._bufferTimeout),this._setMediaElement(),this._mediaElement.Stop()},y.mute=function(){this._setMediaElement(),this._muted=!0,this._mediaElement.SetVolume(0),this._emit(m.MUTE)},y.unmute=function(){this._setMediaElement(),this._muted=!1,this._mediaElement.SetVolume(this._volume),this._emit(m.UNMUTE)},y.setVolume=function(e){e<0&&(e=0),e>1&&(e=1),this._setMediaElement(),this._volume=e,this._muted||this._mediaElement.SetVolume(this._volume),this._emit(m.VOLUME_CHANGE,{volume:e})},y.destroy=function(){this._setState(this.STATE.DESTROYING),this._playing&&this.pause(this.state),this._emit(m.DESTROY),this._mediaElement&&(this.pause(),document.getElementById(this._playerDivId).removeChild(this._mediaElement),this._mediaElement=null),clearTimeout(this._bufferTimeout),this.removeAllListeners()},y.updateSource=function(e){return new Promise(function(t,n){try{this._isSwitchStream&&(this._emit(m.SWITCH_STREAM_ABORT,{source:this.config.source,entry:this._getEntry(),rule:"none",tag:"",count:this._switchCount,type:"direct",id:this._isSwitchStream,reason:"superseded"}),this._isSwitchStream=!1),this._isUpdateSource&&(this._emit(m.UPDATE_SOURCE_ABORT,{source:this.config.source,entry:this._getEntry(),rule:"none",tag:"",count:this._switchCount,type:"update",id:this.isUpdateSource,reason:"superseded"}),this._isUpdateSource=!1),this._isUpdateSource=Math.round(1e11*Math.random()),this._switchCount++,setTimeout(this._emit.bind(this,m.UPDATE_SOURCE_INIT,{source:this.config.source,entry:this._getEntry(),rule:"none",options:this.config.source.options?this.config.source.options:{},tag:"",count:this._switchCount,type:"direct",id:this._isUpdateSource}),0);var r=!1;this.state!==this.STATE.PLAYING&&this.state!==this.STATE.LOADING&&this.state!==this.STATE.BUFFERING||(r=!0),this.config.source=e,!this.config.source.h5live||this.config.source.entries&&this.config.source.entries.length||(this.config.source.entries=[{h5live:f.copy(this.config.source.h5live)}]),this._setConnectionConfig(this.config.source.entries[isNaN(this.config.source.startIndex)?0:this.config.source.startIndex].h5live),this.config.source.entries.length>1&&this.config.source.options&&this.config.source.options.adaption&&this.config.source.options.adaption.rule&&"none"!==this.config.source.options.adaption.rule&&this._emitWarning("ABR is not supported with flash!"),r?this.play():(setTimeout(this._emit.bind(this,m.UPDATE_SOURCE_SUCCESS,{source:this.config.source,entry:this._getEntry(),rule:"none",tag:"",count:this._switchCount,type:"direct",id:this._isUpdateSource}),0),this._isUpdateSource=!1),t(f.copy(this.config))}catch(e){n(e)}}.bind(this))},y.switchStream=function(e){return new Promise(function(t,n){if(isNaN(e)||e<0||e>=this.config.source.entries.length)n(new c(a.PLAYER.INVALID_ENTRY_INDEX,i.PLAYER.INVALID_ENTRY_INDEX));else{this._isSwitchStream&&(this._emit(m.SWITCH_STREAM_ABORT,{source:this.config.source,entry:this._getEntry(),rule:"none",tag:"",count:this._switchCount,type:"direct",id:this._isSwitchStream,reason:"superseded"}),this._isSwitchStream=!1),this._isUpdateSource&&(this._emit(m.UPDATE_SOURCE_ABORT,{source:this.config.source,entry:this._getEntry(),rule:"none",tag:"",count:this._switchCount,type:"update",id:this.isUpdateSource,reason:"superseded"}),this._isUpdateSource=!1),this._isSwitchStream=Math.round(1e11*Math.random()),this._switchCount++,setTimeout(this._emit.bind(this,m.SWITCH_STREAM_INIT,{source:this.config.source,entry:this._getEntry(),rule:"none",options:this.config.source.options?this.config.source.options:{},tag:"",count:this._switchCount,type:"direct",id:this._isSwitchStream}),0);var r=!1;this.state!==this.STATE.PLAYING&&this.state!==this.STATE.LOADING&&this.state!==this.STATE.BUFFERING||(r=!0),this._setConnectionConfig(this.config.source.entries[e].h5live),r?this.play():(setTimeout(this._emit.bind(this,m.SWITCH_STREAM_SUCCESS,{source:this.config.source,entry:this._getEntry(),rule:"none",tag:"",count:this._switchCount,type:"direct",id:this._isSwitchStream}),0),this._isSwitchStream=!1),t(f.copy(this.config))}}.bind(this))},y.setAdaption=function(e){e&&e.rule&&"none"!==e.rule&&this._emitWarning("ABR is not supported with flash!")},y._setupVideoElement=function(){var e="nano.player.swf";void 0!==this.config.playback.flashplayer&&(e=this.config.playback.flashplayer);var t=document.createElement("div");t.setAttribute("id","flashReplace"),this._playerDiv.appendChild(t);var n={};n.id=this._mediaElementId,n.name=this._mediaElementId,n.align="middle",n.wmode="transparent",s.embedSWF(e,"flashReplace","100%","100%","9.0.0",null,{},{quality:"high",bgcolor:"#000000",allowscriptaccess:"always",allowfullscreen:"true",allowfullscreeninteractive:"true",wmode:"transparent"},n)},y._setupFinish=function(){return new Promise(function(e,t){var n=0,a=0;n=setInterval(function(){if(a++,n&&(this._mediaElement=document.getElementById(this._mediaElementId),this._mediaElement&&this._mediaElement.Start)){clearInterval(n);try{if(window._flashPlayers[this._mediaElementId]=this,this._setName(),this._mediaElement.TraceExternalFunctions(),this._setNetStream(!1),this._setConnectionConfig(this.config.source.entries[isNaN(this.config.source.startIndex)?0:this.config.source.startIndex].h5live),this.config.source.entries.length>1&&this.config.source.options&&this.config.source.options.adaption&&this.config.source.options.adaption.rule&&"none"!==this.config.source.options.adaption.rule&&this._emitWarning("ABR is not supported with flash!"),this._setPlayerConfig(this._playerDiv.offsetWidth,this._playerDiv.offsetHeight),this.config.playback.muted&&this.mute(),this.config.playback.timeouts){var o=1e3*this.config.playback.timeouts.loading,s=1e3*this.config.playback.timeouts.buffering;T=Math.max(Math.min(o,6e4),1e4),A=Math.max(Math.min(s,6e4),1e4)}this.config.type=this.type,this._setState(this.STATE.READY),this._emit(m.READY,{config:this.config}),this.config.playback.autoplay&&this.play(),e(f.copy(this.config))}catch(e){t(e)}}a>100&&(clearInterval(n),t(new c(r.EMBED_PLAYER,i.SETUP.EMBED_PLAYER)))}.bind(this),100)}.bind(this))},y._setListeners=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"function"==typeof e[n]){var r=n.replace("on",""),i=e[n];t.on(r,i)}},y._setState=function(e){this.state=e,_("nanoplayer ("+this._playerDivId+'): set state "'+this._getState()+'"',3),this._emit(m.STATE_CHANGE)},y._getState=function(){for(var e in this.STATE)if(this.STATE[e]===this.state)return e},y._emit=function(e,t){var n={};t&&t.name&&t.data?n=t:t?(n.data=t,n.name=e||"unknown"):(n.data={},n.name=e||"unknown"),n.player=this._playerDivId,n.id=this.id,n.version=this.version,n.state=this.state,"Error"===e&&n.data.code&&n.data.message&&_("nanoplayer ("+this._playerDivId+"): error "+n.data.code+" "+n.data.message,1),this.emit(n.name,n)},y._emitError=function(e,t){this._emit(m.ERROR,{code:e,message:t})},y._emitWarning=function(e){this._emit(m.WARNING,{message:e})},y._setConnectionConfig=function(e){this._setMediaElement();var t=e.rtmp,n=e.params,r=n&&n.url?n.url:t&&t.url?t.url:null,i=n&&n.stream?n.stream:t&&t.streamname?t.streamname:null;r&&i?(this.config.url=r+"/"+i,this._mediaElement.SetServerUrl(r),this._mediaElement.SetStreamName(i)):this.config.url=""},y._setPlayerConfig=function(e,t){this._setMediaElement(),this._mediaElement.SetVideoDisplayResolution(e+","+t),this._mediaElement.SetResize("false"),this._mediaElement.SetOnlyThisResolution(e+","+t)},y._setNetStream=function(e){this._setMediaElement(),this._mediaElement.UseNetstream(e?1:0)},y._setMediaElement=function(){var e=document.getElementById(this._mediaElementId);this._mediaElement=e},y._getPauseReason=function(e){var t="";if(e)switch(this.state){case this.STATE.READY:t=g.SERVER_NOT_FOUND;break;case this.STATE.LOADING:t=g.STREAM_NOT_FOUND;break;case this.STATE.BUFFERING:t=g.BUFFER;break;case this.STATE.UNKNOWN:t=g.UNKNOWN;break;case this.STATE.PLAYING:t=g.NORMAL;break;case this.STATE.DESTROYING:t=g.DESTROY;break;default:t=g.NORMAL}else t=g.NORMAL;return t},y._startIntervals=function(){this._stopIntervals(),this._onStats(!0),this._intervalEmitStats=setInterval(this._onStats.bind(this),100)},y._stopIntervals=function(){this._intervalEmitStats&&(clearInterval(this._intervalEmitStats),this._intervalEmitStats=0)},y._getEntry=function(){var e={},t=this._mediaElement.GetStreamName();return this.config.source.entries.forEach((function(n){n.h5live.rtmp.streamname===t&&(e=f.copy(n))})),e},y._onStreamInfo=function(e){_("nanoplayer ("+this._playerDivId+"): onStreamInfo",2),this._setMediaElement(),this._streamInfo=e,this._streamInfo.url="",this._streamInfo.rtmp={url:this._mediaElement.GetServerUrl(),streamname:this._mediaElement.GetStreamName()},this._isSwitchStream&&(this._emit(m.SWITCH_STREAM_SUCCESS,{source:this.config.source,entry:this._getEntry(),rule:"none",tag:"",count:this._switchCount,type:"direct",id:this._isSwitchStream}),this._isSwitchStream=!1),this._isUpdateSource&&(this._emit(m.UPDATE_SOURCE_SUCCESS,{source:this.config.source,entry:this._getEntry(),rule:"none",tag:"",count:this._switchCount,type:"update",id:this.isUpdateSource}),this._isUpdateSource=!1),this._emit(m.STREAM_INFO,{streamInfo:this._streamInfo})},y._onStats=function(e){var t=e?0:this._stats.currentTime+.1;this._stats.currentTime=t;var n="stats error";try{n=JSON.stringify(this._stats)}catch(e){}_("nanoplayer ("+this._playerDivId+"): stats - "+n,4),this._emit(m.STATS,{stats:this._stats})},y._onLoading=function(){this._isSwitchStream||this._isUpdateSource||(this._playing=!0,this._setState(this.STATE.LOADING),this._emit(m.LOADING)),this._loadingTimeout=setTimeout(function(){this._isSwitchStream&&(this._emit(m.SWITCH_STREAM_FAIL,{source:this.config.source,entry:this._getEntry(),rule:"none",tag:"",count:this._switchCount,type:"direct",id:this._isSwitchStream,code:i.STREAM.NOT_FOUND,message:"The requested stream can not be found."}),this._isSwitchStream=!1),this._isUpdateSource&&(this._emit(m.UPDATE_SOURCE_FAIL,{source:this.config.source,entry:this._getEntry(),rule:"none",tag:"",count:this._switchCount,type:"update",id:this.isUpdateSource,code:i.STREAM.NOT_FOUND,message:"The requested stream can not be found."}),this._isUpdateSource=!1),this._emitError(i.STREAM.NOT_FOUND,a.STREAM.NOT_FOUND),this.pause(this.state)}.bind(this),T)},y._onPlaying=function(){clearTimeout(this._loadingTimeout),clearTimeout(this._bufferTimeout),this.state===this.STATE.LOADING&&(this._startPlayingTimeout&&clearTimeout(this._startPlayingTimeout),this._startPlayingTimeout=setTimeout(function(){clearTimeout(this._startPlayingTimeout),this._startPlayingTimeout=0,this._setState(this.STATE.PLAYING),this._playing=!0,this.setVolume(this._volume),!this._intervalEmitStats&&this._emit(m.PLAY,{stats:{connecting:0,connected:0,firstFragmentReceived:0,firstFrameRendered:0,playable:0,playing:0}}),!this._intervalEmitStats&&this._startIntervals()}.bind(this),1e3))},y._onStartBuffering=function(){this.state<this.STATE.PLAYING||this._isSwitchStream||this._isUpdateSource||(this._setState(this.STATE.BUFFERING),this._startBufferTimeout&&clearTimeout(this._startBufferTimeout),this._startBufferTimeout=setTimeout(function(){clearTimeout(this._startBufferTimeout),this._startBufferTimeout=0,this.state===this.STATE.BUFFERING&&(this._playing=!1,this._emit(m.START_BUFFERING),this._bufferTimeout=setTimeout(function(){this._emitError(i.STREAM.MEDIA_NOT_AVAILABLE,a.STREAM.MEDIA_NOT_AVAILABLE),this.pause(this.state)}.bind(this),A))}.bind(this),2e3))},y._onStopBuffering=function(){clearTimeout(this._loadingTimeout),clearTimeout(this._bufferTimeout),this._playing=!0,this._setState(this.STATE.PLAYING),this._emit(m.STOP_BUFFERING)},y._onPause=function(){if(!this._isSwitchStream&&!this._isUpdateSource){clearTimeout(this._loadingTimeout),clearTimeout(this._bufferTimeout),this._playing=!1;var e=this._getPauseReason(this._triggered);_("nanoplayer ("+this._playerDivId+'): trigger pause with reason "'+e+'", state "'+this._getState()+'"',3),this._setState(this.STATE.PAUSED),this._stopIntervals(),this._emit(m.PAUSE,{reason:e})}},y._emitMetaData=function(e,t){if(this._metaDataEnabled){_("nanoplayer ("+this._playerDivId+"): onMetaData",2);try{var n=JSON.stringify(t);_("nanoplayer ("+this._playerDivId+"): handlerName="+e+", metaData="+n,2)}catch(e){}var r={handlerName:e,streamTime:0,message:t};this._emit(m.METADATA,r)}},y._onMetaData=function(e){if(Array.isArray(e)){for(var t={},n=0;n<e.length;n+=1)t[e[n].name]=e[n].value;e=t}var r={haveAudio:!!e.audiocodecid,haveVideo:!!e.videocodecid,audioInfo:null,videoInfo:null};r.haveAudio&&(r.audioInfo={sampleRate:e.audiosamplerate,channels:e.stereo?2:1,bitsPerSample:e.audiosamplesize}),r.haveVideo&&(r.videoInfo={width:e.width,height:e.height,frameRate:e.framerate}),this._onStreamInfo(r),this._emitMetaData("MetaData",e)},y._onCuePoint=function(e){this._emitMetaData("CuePoint",e)},y._onVolumeChange=function(){},y._onResize=function(){if(this._streamInfo&&this._streamInfo.haveVideo){this._setMediaElement();var e=this._streamInfo.videoInfo.width,t=this._streamInfo.videoInfo.height,n=this._mediaElement.GetCurrentSizeOfContainer(),r=n[0]/n[1],i=e/t;r<i?(e=n[0],t=Math.round(e/i)):(t=n[1],e=Math.round(t*i)),this._mediaElement.SetResize("true"),this._mediaElement.SetVideoDisplayResolution(e+","+t),this._mediaElement.SetResize("false"),this._mediaElement.SetOnlyThisResolution(e+","+t),this._resizeTimeout&&clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(function(){this._resizeTimeout=0,this._mediaElement.SetResize("true"),this._mediaElement.SetVideoDisplayResolution(e+","+t),this._mediaElement.SetResize("false"),this._mediaElement.SetOnlyThisResolution(e+","+t)}.bind(this),300)}},y._onDebug=function(e){var t="string"==typeof e?e:e.message?e.message:e.data.message?e.data.message:"unknown";_("nanoplayer ("+this._playerDivId+"): "+t,2)},y._onFlashReady=function(){this._onDebug("flash ready")},y._onFlashState=function(e,t){if(void 0!==e){var n="";if("string"==typeof e||e instanceof String)n=e,this._onDebug("onFlashCallState: "+n+" from "+t);else for(var r in this._onDebug("onFlashCallState: "+t),e)Object.prototype.hasOwnProperty.call(e,r)&&(this._onDebug("onFlashCallState: "+r+" = "+e[r]),"state"!==r&&"code"!==r||(n=e[r]));n===this.FLASH_STATE.VIDEO_DISPLAY.LOADING||n===this.FLASH_STATE.NET_STREAM.PLAY.RESET||n===this.FLASH_STATE.NET_STREAM.PLAY.UNPUBLISH_NOTIFY||n===this.FLASH_STATE.NET_STREAM.PLAY.PUBLISH_NOTIFY?this._onLoading():n===this.FLASH_STATE.VIDEO_DISPLAY.REWINDING||n===this.FLASH_STATE.VIDEO_DISPLAY.PLAYING||n===this.FLASH_STATE.NET_STREAM.PLAY.START?(this.state===this.STATE.LOADING&&this._onPlaying(),this.state===this.STATE.BUFFERING&&this._onStopBuffering()):n===this.FLASH_STATE.VIDEO_DISPLAY.BUFFERING?this._onStartBuffering():n!==this.FLASH_STATE.VIDEO_DISPLAY.CONNECTION_ERROR&&n!==this.FLASH_STATE.VIDEO_DISPLAY.STOPPED&&n!==this.FLASH_STATE.VIDEO_DISPLAY.DISCONNECTED&&n!==this.FLASH_STATE.NET_STREAM.PLAY.STOP&&n!==this.FLASH_STATE.NET_STREAM.PLAY.STREAM_NOT_FOUND||this._onPause(),"error"===e.level?this._onDebug("onFlashCallState: ERROR - "+n):this._onDebug("onFlashCallState: state="+n)}},y._setName=function(){this._setMediaElement(),this._mediaElement.SetName(this._mediaElementId)},y.STATE=h,y.FLASH_STATE=b,y.PAUSE_REASON=g,window._flashPlayers={},window.onFlashCallExternalApplicationReady=function(){return!0},window.onFlashCallInternalApplicationReady=function(e){window._flashPlayers[e]&&window._flashPlayers[e]._onFlashReady()},window.onFlashCallMyTrace=function(e,t){window._flashPlayers[e]&&window._flashPlayers[e]._onDebug(t)},window.onFlashCallAutoResizeContainer=function(e,t){window._flashPlayers[e]&&window._flashPlayers[e]._onResize(t)},window.onFlashCallVolumeChange=function(e,t){window._flashPlayers[e]&&window._flashPlayers[e]._onVolumeChange(t)},window.onFlashCallMetaDataReceived=function(e,t){window._flashPlayers[e]&&window._flashPlayers[e]._onMetaData(t)},window.onFlashCallCuePointReceived=function(e,t){window._flashPlayers[e]&&window._flashPlayers[e]._onCuePoint(t)},window.onFlashCallState=function(e,t,n){window._flashPlayers[e]&&window._flashPlayers[e]._onFlashState(t,n)},S}.apply(t,r))||(e.exports=i)},651:function(e,t,n){var r,i;r=[n(6637),n(3778),n(3890),n(492),n(9583),n(9673),n(594),n(680),n(1376),n(7354),n(8333)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l){return{create:function(a){var d,c,f,E,p,m,b,h,g,_,T=l.create("ErrorSelector");const A="loading",S="error";var y=[{type:s.STATE_CHANGE,listener:function(e){switch(d=e.data.state){case r.LOADING:m=!0,h={loading:void 0,error:void 0},U(A),f=!1,c=null,g={bufferDelayCurrent:0,bitrateCurrent:0,framerateCurrent:0},_=null;break;case r.PLAYING:b=setTimeout((function(){m=!1}),3e4);break;case r.BUFFERING:break;default:clearTimeout(b),m=!1}}},{type:s.DOCUMENT_VISIBLE,listener:v},{type:s.DOCUMENT_HIDDEN,listener:v},{type:s.STREAM_INFO,listener:function(){f=!0}},{type:u.STREAM_STATUS,listener:function(e){c=e.data.onStreamStatus.status}},{type:i.STATS,listener:function(e){m&&(g.bufferDelayCurrent=e.data.stats.buffer.delay.current,g.bitrateCurrent=e.data.stats.bitrate.current,g.framerateCurrent=e.data.stats.framerate.current)}},{type:s.STARTUP_STATS_ADDED,listener:R},{type:s.STARTUP_STATS_COMPLETED,listener:R},{type:s.BUFFER_TWEAKS_ERROR,listener:function(e){C(e.data.code,e.data.message,!1,!0)}},{type:s.LOADING_TIMEOUT,listener:function(){f?E||p?C(t.PLAYER.VISIBILITY_HIDDEN,n.PLAYER.VISIBILITY_HIDDEN):C(t.STREAM.NOT_ENOUGH_DATA,n.STREAM.NOT_ENOUGH_DATA):c&&"stopped"===c?C(t.STREAM.SOURCE_STOPPED,n.STREAM.SOURCE_STOPPED):C(t.STREAM.NOT_FOUND,n.STREAM.NOT_FOUND)}},{type:s.BUFFERING_TIMEOUT,listener:function(){c&&"stopped"===c?C(t.STREAM.SOURCE_STOPPED,n.STREAM.SOURCE_STOPPED):C(t.STREAM.MEDIA_NOT_AVAILABLE,n.STREAM.MEDIA_NOT_AVAILABLE)}},{type:s.MIME_TYPE_UNSUPPORTED,listener:function(){C(t.MEDIA.NOT_SUPPORTED,n.MEDIA.NOT_SUPPORTED)}},{type:s.META_DATA_ERROR,listener:function(e){C(e.data.code,e.data.message,!0,!0)}},{type:s.MISSING_RTMP_ERROR,listener:function(){C(t.PLAYER.NO_RTMP_URL_SET,n.PLAYER.NO_RTMP_URL_SET,!1,!0)}},{type:s.NO_SERVER_ERROR,listener:function(){C(t.PLAYER.NO_SERVER_SET,n.PLAYER.NO_SERVER_SET,!1,!0)}},{type:s.SOURCE_STREAM_STOPPED,listener:function(){C(t.STREAM.SOURCE_STOPPED,n.STREAM.SOURCE_STOPPED)}},{type:s.NOT_CONFIGURED,listener:function(){C(t.PLAYER.NOT_CONFIGURED,n.PLAYER.NOT_CONFIGURED)}},{type:s.UPDATE_SOURCE_INVALID,listener:function(e){C(e.data.code,e.data.message)}},{type:s.INVALID_ENTRY_INDEX,listener:function(e){C(e.data.code,e.data.message,!1,!e.data.pauseOnError)}},{type:o.PLAY_START_NOT_ALLOWED_ERROR,listener:function(e){e.data.automuted||C(t.PLAYER.INTERACTION_REQUIRED,n.PLAYER.INTERACTION_REQUIRED)}},{type:o.MEDIA_ERROR,listener:function(e){switch(e.data.code){case t.MEDIA.ABORTED:C(t.MEDIA.ABORTED,n.MEDIA.ABORTED);break;case t.MEDIA.DOWNLOAD_ERROR:C(t.MEDIA.DOWNLOAD_ERROR,n.MEDIA.DOWNLOAD_ERROR);break;case t.MEDIA.DECODE_ERROR:C(t.MEDIA.DECODE_ERROR,n.MEDIA.DECODE_ERROR);break;case t.MEDIA.NOT_SUPPORTED:C(t.MEDIA.NOT_SUPPORTED,n.MEDIA.NOT_SUPPORTED);break;case t.MEDIA.HLS_VIDEO_DECODE_ERROR:C(t.MEDIA.HLS_VIDEO_DECODE_ERROR,n.MEDIA.HLS_VIDEO_DECODE_ERROR);break;case t.MEDIA.MEDIA_SOURCE_ENDED:(E||p)&&d===r.LOADING?C(t.PLAYER.VISIBILITY_HIDDEN,n.PLAYER.VISIBILITY_HIDDEN):C(t.MEDIA.MEDIA_SOURCE_ENDED,n.MEDIA.MEDIA_SOURCE_ENDED);break;case t.PLAYER.PLAYBACK_ERROR:C(t.PLAYER.PLAYBACK_ERROR,n.PLAYER.PLAYBACK_ERROR);break;case t.MEDIA.HLS_BUFFER_UNDERRUN:C(t.MEDIA.HLS_BUFFER_UNDERRUN,n.MEDIA.HLS_BUFFER_UNDERRUN)}}},{type:o.PLAYBACK_SUSPENDED,listener:function(){C(t.PLAYER.PLAYBACK_SUSPENDED,n.PLAYER.PLAYBACK_SUSPENDED)}},{type:o.UPDATE_SOURCE_TIMEOUT,listener:function(e){C(e.data.code,e.data.message)}},{type:u.DISCONNECTED,listener:O},{type:u.INITIALIZATION_ERROR,listener:O},{type:u.CONNECTION_ERROR,listener:O},{type:u.ERROR,listener:O},{type:u.RECONNECTION_CONFIG_INVALID,listener:O}];function v(e){e.name===s.DOCUMENT_HIDDEN?E=!0:(E&&(p=!0),E=!1,setTimeout((function(){p=!1}),1e3))}function R(e){_=e.data.stats}function O(e){4004===e.data.code?C(e.data.code,e.data.message,!0,!0):C(e.data.code,e.data.message)}function I(e,t,n){n?setTimeout(N.bind(this,e,t),0):N(e,t)}function N(e,t){a.emit(e,t)}function C(e,t,n,r){m&&U(S),I(i.ERROR,function(e,t){var n={code:e,message:t};if(m&&_){var r=P(function(){for(var e in delete _.connecting,_.error=h.error-h.loading,g)Object.prototype.hasOwnProperty.call(g,e)&&(_[e]=g[e]);return{playback:{bufferDelayCurrent:_.bufferDelayCurrent,bitrateCurrent:_.bitrateCurrent,framerateCurrent:_.framerateCurrent},state:{connected:_.connected,firstFragmentReceived:_.firstFragmentReceived,firstFrameRendered:_.firstFrameRendered,playable:_.playable,playing:_.playing,error:_.error}}}());for(var i in r)D(r,i)&&!D(n,i)&&(n[i]=r[i])}return n}(e,t),n),r||I(s.ERROR,{state:w(e)},n)}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function w(e){var n;switch(e){case t.PLAYER.INTERACTION_REQUIRED:n=r.PLAYBACK_NOT_STARTED;break;case t.PLAYER.PLAYBACK_SUSPENDED:n=r.PLAYBACK_SUSPENDED;break;case t.PLAYER.VISIBILITY_HIDDEN:n=r.VISIBILITY_HIDDEN;break;case t.STREAM.NOT_ENOUGH_DATA:n=r.NOT_ENOUGH_DATA;break;case t.STREAM.SOURCE_STOPPED:n=r.SOURCE_STREAM_STOPPED;break;case t.STREAM.MEDIA_NOT_AVAILABLE:n=r.MEDIA_NOT_AVAILABLE;break;case t.MEDIA.ABORTED:case t.MEDIA.DOWNLOAD_ERROR:case t.MEDIA.DECODE_ERROR:case t.MEDIA.NOT_SUPPORTED:case t.MEDIA.HLS_VIDEO_DECODE_ERROR:case t.MEDIA.MEDIA_SOURCE_ENDED:case t.PLAYER.PLAYBACK_ERROR:case t.MEDIA.HLS_BUFFER_UNDERRUN:n=r.PLAYBACK_ERROR;break;default:e>=4e3&&e<5e3&&(n=r.CONNECTION_ERROR)}return n}function U(e){-1!==Object.keys(h).indexOf(e)&&(h[e]=Date.now())}function P(e,t){if(t=isNaN(t)?2:parseInt(t,10),"object"==typeof e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];if("object"==typeof r&&null!==r)if(Array.isArray(r))for(var i=0;i<r.length;i++)r[i]=P(r[i],t);else e[n]=P(r,t);else"number"==typeof r&&(e[n]=Math.round(r*Math.pow(10,t))/Math.pow(10,t))}}else e=Math.round(e*Math.pow(10,t))/Math.pow(10,t);return e}return T.debugEnabled()&&T.debug("init"),e.add({target:a,listeners:y}),{destroy:function(){e.remove({target:a,listeners:y})}}}}}.apply(t,r))||(e.exports=i)},6231:function(e,t){var n;void 0===(n=function(){return{BASE:"buffer.",BUFFER_TWEAKS_CREATED:"buffer.tweaksCreated",BUFFER_TWEAKS_ERROR:"buffer.tweaksError"}}.apply(t,[]))||(e.exports=n)},7771:function(e,t){var n;void 0===(n=function(){var e="connection.";return{BASE:e,CONNECT:e+"connect",DISCONNECT:e+"disconnect",VIDEO_SOURCE:e+"videoSource",NETWORK_PLAY:e+"networkPlay",NO_SERVER_ERROR:e+"noServerError",MISSING_RTMP_ERROR:e+"missingRtmpError",SERVER_INFO:e+"serverInfo",NO_KEEP_CONNECTION:e+"noKeepConnection",URL:e+"url",NETWORK_UPDATE_SOURCE:e+"networkUpdateSource",UPDATE_SOURCE_INIT:e+"updateSourceInit",UPDATE_SOURCE_SUCCESS:e+"updateSourceSuccess",UPDATE_SOURCE_FAIL:e+"updateSourceFail",UPDATE_SOURCE_ABORT:e+"updateSourceAbort",SWITCH_STREAM_INIT:e+"switchStreamInit",SWITCH_STREAM_SUCCESS:e+"switchStreamSuccess",SWITCH_STREAM_FAIL:e+"switchStreamFail",SWITCH_STREAM_ABORT:e+"switchStreamAbort"}}.apply(t,[]))||(e.exports=n)},3937:function(e,t){var n;void 0===(n=function(){return{BASE:"latency.",SEEK:"latency.seek",RATE:"latency.rate",BUFFER_GOAL_STATS:"latency.bufferGoalStats",CONTROL_MODE_SET:"latency.controlModeSet"}}.apply(t,[]))||(e.exports=n)},3019:function(e,t){var n;void 0===(n=function(){var e="logicManager.";return{BASE:e,API_PLAY:e+"apiPlay",API_PAUSE:e+"apiPause",NETWORK_CONNECTING:e+"networkConnecting",NETWORK_CONNECTED:e+"networkConnected",NETWORK_DISCONNECTED:e+"networkDisconnected",NETWORK_CONNECTION_OPEN:e+"networkConnectionOpen",NETWORK_RECONNECTION_IMMINENT:e+"networkReconnectionImminent",NETWORK_RECONNECTING:e+"networkReconnecting",NETWORK_CONNECTION_ERROR:e+"networkConnectionError",NETWORK_INITIALIZATION_ERROR:e+"networkInitializationError",NETWORK_MAX_RETRY_REACHED:e+"networkMaxRetryReached",NETWORK_ERROR:e+"networkError",NETWORK_STATE_CHANGE:e+"networkStateChange",SERVER_INFO:e+"serverInfo",STREAM_INFO:e+"streamInfo",STREAM_INFO_UPDATE:e+"streamInfoUpdate",STREAM_QUALITY:e+"streamQuality",STREAM_FRAGMENT:e+"streamFragment",RANDOM_ACCESS_POINT:e+"randomAccessPoint",STREAM_URL:e+"streamUrl",BUFFER_TWEAKS_CREATED:e+"bufferTweaksCreated",PLAYING:e+"playing",PLAYBACK_STARTED:e+"playbackStarted",BUFFERING:e+"buffering",PLAY_STATS:e+"playStats",APPLICATION_STATE_CHANGE:e+"applicationStateChange",DURATION_CHANGE:e+"durationChange",CAN_PLAY:e+"canPlay",CAN_PLAY_THROUGH:e+"canPlayThrough",META_DATA:e+"metaData",FRAME_DROP:e+"frameDrop",VIEWPORT_VISIBLE:e+"viewportvisible",VIEWPORT_HIDDEN:e+"viewporthidden",UPDATE_SOURCE_INIT:e+"updateSourceInit",UPDATE_SOURCE_SUCCESS:e+"updateSourceSuccess",UPDATE_SOURCE_FAIL:e+"updateSourceFail",UPDATE_SOURCE_ABORT:e+"updateSourceAbort",SWITCH_STREAM:e+"switchStream",MEDIA_PLAYING:e+"mediaPlaying",TIME_OFFSET:e+"timeOffset",LOADED_DATA:e+"loadedData",LOADED_META_DATA:e+"loadedMetaData",MEDIA_ERROR:e+"mediaError",MEDIA_ERROR_RECOVER:e+"mediaErrorRecover",CONFIG:e+"config",UPDATE_SOURCE:e+"updateSource",STREAM_SWITCH:e+"streamSwitch",SET_ADAPTION:e+"setAdaption",NETWORK_PLAY:e+"networkPlay",PLAY:e+"play",PUBLIC_EVENT:e+"publicEvent"}}.apply(t,[]))||(e.exports=n)},1683:function(e,t){var n;void 0===(n=function(){return{BASE:"metaData.",RECEIVED:"metaData.received",ERROR:"metaData.error"}}.apply(t,[]))||(e.exports=n)},164:function(e,t){var n;void 0===(n=function(){return{BASE:"source.",STATS:"source.stats",STREAM_SWITCH:"source.streamSwitch"}}.apply(t,[]))||(e.exports=n)},519:function(e,t){var n;void 0===(n=function(){var e="startupstats.";return{BASE:e,ADDED:e+"added",COMPLETED:e+"completed"}}.apply(t,[]))||(e.exports=n)},8983:function(e,t){var n;void 0===(n=function(){var e="streamInfo.";return{BASE:e,CREATED:e+"created",UPDATED:e+"updated",MIME_TYPE_UNSUPPORTED:e+"mimetypeUnsupported"}}.apply(t,[]))||(e.exports=n)},3667:function(e,t){var n;void 0===(n=function(){return{BASE:"timeout.",LOADING_TIMEOUT:"timeout.loadingTimeout",BUFFERING_TIMEOUT:"timeout.bufferingTimeout"}}.apply(t,[]))||(e.exports=n)},2450:function(e,t){var n;void 0===(n=function(){var e="visibility.";return{BASE:e,HIDDEN:e+"hidden",VISIBLE:e+"visible"}}.apply(t,[]))||(e.exports=n)},1797:function(e,t,n){var r,i;r=[n(6637),n(9583),n(594),n(680),n(8333),n(8197)],void 0===(i=function(e,t,n,r,i,a){return{create:function(o){var s,u=i.create("FacadePropagator"),d=1,l=!1,c=[{type:n.VOLUME_CHANGE,listener:function(e){e.data.muted!==l?f((l=e.data.muted)?t.MUTE:t.UNMUTE,{volume:d}):e.data.volume!==d&&(d=e.data.volume,f(t.VOLUME_CHANGE,{volume:d}))}},{type:n.QUALITY_STATS,listener:function(e){s||(s={}),s.quality=e.data}},{type:n.PLAY_STATS,listener:function(e){var n,r,i;s&&s.quality&&(n=s.quality),r&&s.adaptive&&(r=s.adaptive),i&&s.buffergoal&&(i=s.buffergoal),s=e.data.stats,n&&!s.quality&&(s.quality=n),r&&!s.adaptive&&(s.adaptive=r),i&&!s.buffergoal&&(s.buffergoal=i);var a,o="stats error";try{o=JSON.stringify(s),delete(a=JSON.parse(o)).buffer.update}catch(e){}f(t.STATS,{stats:a})}},{type:n.PLAYBACK_FINISHED,listener:function(){f(t.PLAYBACK_FINISHED)}},{type:n.ACTIVE_VIDEO_ELEMENT_CHANGE,listener:function(e){setTimeout(f.bind(this,t.ACTIVE_VIDEO_ELEMENT_CHANGE,e.data),0)}},{type:r.META_DATA_RECEIVED,listener:function(e){setTimeout(f.bind(this,t.METADATA,e.data),0)}},{type:r.UPDATE_SOURCE_INIT,listener:function(e){setTimeout(f.bind(this,t.UPDATE_SOURCE_INIT,e.data),0)}},{type:r.UPDATE_SOURCE_SUCCESS,listener:function(e){setTimeout(f.bind(this,t.UPDATE_SOURCE_SUCCESS,e.data),0)}},{type:r.UPDATE_SOURCE_FAIL,listener:function(e){setTimeout(f.bind(this,t.UPDATE_SOURCE_FAIL,e.data),0)}},{type:r.UPDATE_SOURCE_ABORT,listener:function(e){setTimeout(f.bind(this,t.UPDATE_SOURCE_ABORT,e.data),0)}},{type:r.STREAM_INFO,listener:function(e){var n=a.copy(e.data);delete n.streamInfo.mimeType,setTimeout(f.bind(this,t.STREAM_INFO,n),0)}},{type:r.STREAM_INFO_UPDATE,listener:function(e){var n=a.copy(e.data);delete n.streamInfo.mimeType,setTimeout(f.bind(this,t.STREAM_INFO_UPDATE,n),0)}},{type:r.SWITCH_STREAM_INIT,listener:function(e){setTimeout(f.bind(this,t.SWITCH_STREAM_INIT,e.data),0)}},{type:r.SWITCH_STREAM_SUCCESS,listener:function(e){setTimeout(f.bind(this,t.SWITCH_STREAM_SUCCESS,e.data),0)}},{type:r.SWITCH_STREAM_FAIL,listener:function(e){setTimeout(f.bind(this,t.SWITCH_STREAM_FAIL,e.data),0)}},{type:r.SWITCH_STREAM_ABORT,listener:function(e){setTimeout(f.bind(this,t.SWITCH_STREAM_ABORT,e.data),0)}},{type:r.ADAPTIVE_STATS,listener:function(e){s||(s={}),s.adaptive=e.data}},{type:r.BUFFER_GOAL_STATS,listener:function(e){s||(s={}),s.buffergoal=e.data}},{type:r.SERVER_INFO,listener:function(e){var n={serverInfo:a.copy(e.data.onServerInfo)};delete n.serverInfo.capabilities,delete n.serverInfo.events,delete n.serverInfo.interfaceVersion,n.serverInfo.serverApplicationName=n.serverInfo.serverName,n.serverInfo.serverApplicationVersion=n.serverInfo.serverVersion,delete n.serverInfo.serverName,delete n.serverInfo.serverVersion,setTimeout(f.bind(this,t.SERVER_INFO,n),0)}}];function f(e,t){o.emit(e,a.copy(t))}return u.debugEnabled()&&u.debug("init"),e.add({target:o,listeners:c}),{destroy:function(){e.remove({target:o,listeners:c})}}}}}.apply(t,r))||(e.exports=i)},2909:function(e,t,n){var r,i;r=[n(8333),n(9658),n(6627),n(8197),n(6637),n(5055),n(9336),n(9673),n(680),n(594),n(1376),n(7354),n(7771),n(3019),n(3667),n(8983),n(1683),n(2450),n(164),n(3937),n(519),n(6231),n(387),n(5444),n(4600),n(9665),n(4351),n(5620),n(2805),n(8307),n(7831)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l,c,f,E,p,m,b,h,g,_,T,A,S,y,v,R,O,I,N,C,D){"use strict";return{create:function(n){var w,U,P=new t,M=e.create("LogicManager"),L=[],F=[{from:f.CONNECT,to:s.CONNECT},{from:f.DISCONNECT,to:s.DISCONNECT},{from:f.VIDEO_SOURCE,to:s.VIDEO_SOURCE},{from:f.NETWORK_PLAY,to:s.NETWORK_PLAY},{from:f.NETWORK_UPDATE_SOURCE,to:s.NETWORK_UPDATE_SOURCE},{from:f.NO_SERVER_ERROR,to:u.NO_SERVER_ERROR},{from:f.MISSING_RTMP_ERROR,to:u.MISSING_RTMP_ERROR},{from:f.NO_KEEP_CONNECTION,to:u.NO_KEEP_CONNECTION},{from:f.SERVER_INFO,to:u.SERVER_INFO},{from:f.URL,to:u.STREAM_URL},{from:f.UPDATE_SOURCE_INIT,to:u.UPDATE_SOURCE_INIT},{from:f.UPDATE_SOURCE_SUCCESS,to:u.UPDATE_SOURCE_SUCCESS},{from:f.UPDATE_SOURCE_FAIL,to:u.UPDATE_SOURCE_FAIL},{from:f.UPDATE_SOURCE_ABORT,to:u.UPDATE_SOURCE_ABORT},{from:f.SWITCH_STREAM_INIT,to:u.SWITCH_STREAM_INIT},{from:f.SWITCH_STREAM_SUCCESS,to:u.SWITCH_STREAM_SUCCESS},{from:f.SWITCH_STREAM_FAIL,to:u.SWITCH_STREAM_FAIL},{from:f.SWITCH_STREAM_ABORT,to:u.SWITCH_STREAM_ABORT},{from:p.LOADING_TIMEOUT,to:u.LOADING_TIMEOUT},{from:p.BUFFERING_TIMEOUT,to:u.BUFFERING_TIMEOUT},{from:m.CREATED,to:u.STREAM_INFO},{from:m.UPDATED,to:u.STREAM_INFO_UPDATE},{from:m.MIME_TYPE_UNSUPPORTED,to:u.MIME_TYPE_UNSUPPORTED},{from:b.RECEIVED,to:u.META_DATA_RECEIVED},{from:b.ERROR,to:u.META_DATA_ERROR},{from:h.VISIBLE,to:u.DOCUMENT_VISIBLE},{from:h.HIDDEN,to:u.DOCUMENT_HIDDEN},{from:g.STATS,to:u.ADAPTIVE_STATS},{from:g.STREAM_SWITCH,to:u.STREAM_SWITCH},{from:_.SEEK,to:s.SEEK},{from:_.RATE,to:s.SET_RATE},{from:_.BUFFER_GOAL_STATS,to:u.BUFFER_GOAL_STATS},{from:_.CONTROL_MODE_SET,to:u.LATENCY_CONTROL_MODE_SET},{from:T.ADDED,to:u.STARTUP_STATS_ADDED},{from:T.COMPLETED,to:u.STARTUP_STATS_COMPLETED},{from:A.BUFFER_TWEAKS_CREATED,to:u.BUFFER_TWEAKS_CREATED},{from:A.BUFFER_TWEAKS_ERROR,to:u.BUFFER_TWEAKS_ERROR}],k=[{from:o.PLAY,to:E.API_PLAY},{from:o.PAUSE,to:E.API_PAUSE},{from:d.PLAY_STATS,to:E.PLAY_STATS},{from:d.PLAYING,to:E.PLAYING},{from:d.PLAYBACK_STARTED,to:E.PLAYBACK_STARTED},{from:d.BUFFERING,to:E.BUFFERING},{from:d.DURATION_CHANGE,to:E.DURATION_CHANGE},{from:d.CAN_PLAY,to:E.CAN_PLAY},{from:d.CAN_PLAY_THROUGH,to:E.CAN_PLAY_THROUGH},{from:d.PLAYING,to:E.MEDIA_PLAYING},{from:d.FRAME_DROP,to:E.FRAME_DROP},{from:d.VIEWPORT_VISIBLE,to:E.VIEWPORT_VISIBLE},{from:d.VIEWPORT_HIDDEN,to:E.VIEWPORT_HIDDEN},{from:d.TIME_OFFSET,to:E.TIME_OFFSET},{from:d.LOADED_DATA,to:E.LOADED_DATA},{from:d.LOADED_META_DATA,to:E.LOADED_META_DATA},{from:d.UPDATE_SOURCE_ABORT,to:E.UPDATE_SOURCE_ABORT},{from:d.UPDATE_SOURCE_FAIL,to:E.UPDATE_SOURCE_FAIL},{from:d.MEDIA_ERROR,to:E.MEDIA_ERROR},{from:d.MEDIA_ERROR_RECOVER,to:E.MEDIA_ERROR_RECOVER},{from:l.CONNECTING,to:E.NETWORK_CONNECTING},{from:l.CONNECTED,to:E.NETWORK_CONNECTED},{from:l.CONNECTION_OPEN,to:E.NETWORK_CONNECTION_OPEN},{from:l.DISCONNECTED,to:E.NETWORK_DISCONNECTED},{from:l.DESTROYED,to:E.NETWORK_DISCONNECTED},{from:l.RECONNECTING,to:E.NETWORK_RECONNECTING},{from:l.RECONNECTION_IMMINENT,to:E.NETWORK_RECONNECTION_IMMINENT},{from:l.INITIALIZATION_ERROR,to:E.NETWORK_INITIALIZATION_ERROR},{from:l.ERROR,to:E.NETWORK_ERROR},{from:l.STATE_CHANGE,to:E.NETWORK_STATE_CHANGE},{from:l.RANDOM_ACCESS_POINT,to:E.RANDOM_ACCESS_POINT},{from:l.STREAM_FRAGMENT,to:E.STREAM_FRAGMENT},{from:l.SERVER_INFO,to:E.SERVER_INFO},{from:l.STREAM_INFO,to:E.STREAM_INFO},{from:l.STREAM_INFO_UPDATE,to:E.STREAM_INFO_UPDATE},{from:l.STREAM_QUALITY,to:E.STREAM_QUALITY},{from:l.META_DATA,to:E.META_DATA},{from:l.UPDATE_SOURCE_SUCCESS,to:E.UPDATE_SOURCE_SUCCESS},{from:l.UPDATE_SOURCE_FAIL,to:E.UPDATE_SOURCE_FAIL},{from:l.UPDATE_SOURCE_ABORT,to:E.UPDATE_SOURCE_ABORT},{from:u.UPDATE_SOURCE_INIT,to:E.UPDATE_SOURCE_INIT},{from:u.STATE_CHANGE,to:E.APPLICATION_STATE_CHANGE},{from:u.STREAM_URL,to:E.STREAM_URL},{from:u.STREAM_SWITCH,to:E.STREAM_SWITCH},{from:u.BUFFER_TWEAKS_CREATED,to:E.BUFFER_TWEAKS_CREATED},{from:s.CONFIG,to:E.CONFIG},{from:s.UPDATE_SOURCE,to:E.UPDATE_SOURCE},{from:s.SWITCH_STREAM,to:E.SWITCH_STREAM},{from:s.SET_ADAPTION,to:E.SET_ADAPTION},{from:s.NETWORK_PLAY,to:E.NETWORK_PLAY},{from:s.PLAY,to:E.PLAY}],x=[{type:E.CONFIG,listener:function(e){e.data.config.playback.metadata&&L.push(R.create(P,e.data.config))}}],B=[];function H(e){P.emit(E.PUBLIC_EVENT,{event:r.copy(e)})}return function(){for(var e in M.debugEnabled()&&M.debug("init"),c)Object.prototype.hasOwnProperty.call(c,e)&&-1===c.STATS.indexOf(c[e])&&B.push({type:c[e],listener:H});w=a.create(n,P,k),U=a.create(P,n,F),i.add({target:P,listeners:x}),i.add({target:n,listeners:B}),L.push(N.create(P)),L.push(y.create(P)),L.push(C.create(P)),L.push(D.create(P)),L.push(S.create(P)),L.push(v.create(P)),L.push(O.create(P)),L.push(I.create(P))}(),{destroy:function(){for(w.destroy(),w=null,U.destroy(),U=null;L.length;)L.pop().destroy();i.remove({target:P,listeners:x}),i.remove({target:n,listeners:B})}}}}}.apply(t,r))||(e.exports=i)},6704:function(e,t,n){var r,i;r=[n(6637),n(9583),n(9673),n(594),n(680),n(1376),n(8333)],void 0===(i=function(e,t,n,r,i,a,o){return{create:function(n){var r=o.create("StateMachine"),a=[{type:i.STATE_CHANGE,listener:function(e){var r,i;r=t.STATE_CHANGE,i=e.data,n.emit(r,i)}}];return r.debugEnabled()&&r.debug("init"),e.add({target:n,listeners:a}),{destroy:function(){e.remove({target:n,listeners:a})}}}}}.apply(t,r))||(e.exports=i)},2805:function(e,t,n){var r,i;r=[n(8333),n(8197),n(6627),n(5337),n(6637),n(9474),n(3778),n(941),n(3019),n(8983),n(6231)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l){return{create:function(c){var f,E,p,m=e.create("BufferTweaker"),b={max:8,min:.2,start:.5,target:1.2,limit:1.7},h=t.copy(b),g=t.copy(b),_=a.CLASSIC,T=0,A=0,S=0,y=-1,v=!1,R=!1,O=[{type:u.FRAME_DROP,listener:function(e){if(m.debugEnabled()&&m.debug("frame drop with type "+e.data.type),!p&&n.isFirefox&&_===a.CLASSIC)switch(m.debugEnabled()&&m.debug("frame drop on firefox in classic mode with type "+e.data.type),e.data.type){case"extreme":case"high":case"medium":m.debugEnabled()&&m.debug("frame drop"),m.debugEnabled()&&m.debug(""+JSON.stringify(e)),m.debugEnabled()&&m.debug("current buffer: "+JSON.stringify(h)),m.debugEnabled()&&m.debug("limit: "+g.limit+", start: "+h.start),h.start<g.limit?(m.debugEnabled()&&m.debug("start lower then limit -> tweaking"),U(h.target-h.start),P()):m.debugEnabled()&&m.debug("start higher then limit -> tweaking denied");break;case"low":m.debugEnabled()&&m.debug("just low, no tweaking necessary")}}},{type:u.CONFIG,listener:function(e){var r;if((p=n.mustUseHLS||e.data.config.playback.allowSafariHlsFallback&&n.canUseHLS)||i.add({target:c,listeners:N}),e.data.config.playback.latencyControlMode)for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&a[u]===e.data.config.playback.latencyControlMode&&(_=a[u]);e.data.config.tweaks&&(e.data.config.tweaks.buffer&&((r=s.validateBuffer(e.data.config.tweaks.buffer)).success?(h=t.copy(e.data.config.tweaks.buffer),g=t.copy(h),R=!0):c.emit(l.BUFFER_TWEAKS_ERROR,{code:o.PLAYER.BUFFER_CONFIG_INVALID,message:r.reason})),e.data.config.tweaks.bufferDynamic&&!p&&_===a.CLASSIC&&((r=s.validateBuffer(e.data.config.tweaks.bufferDynamic,"dynamic")).success?(T=e.data.config.tweaks.bufferDynamic.offsetThreshold,A=e.data.config.tweaks.bufferDynamic.offsetStep,S=e.data.config.tweaks.bufferDynamic.cooldownTime):c.emit(l.BUFFER_TWEAKS_ERROR,{code:o.PLAYER.BUFFER_CONFIG_INVALID,message:r.reason}))),P()}},{type:d.CREATED,listener:w},{type:d.UPDATED,listener:function(e){w(e)}}],I=[{type:u.PLAY_STATS,listener:function(e){var t=e.data.stats.buffer.delay.current;t&&E.add(t),!v&&n.isTridentBrowser&&t>2&&(h.target=t,h.limit=h.target+1.5,P()),v=!0}},{type:u.BUFFERING,listener:function(){D(!0);var e=((new Date).getTime()-y)/1e3;-1!==y&&e<T&&h.start<g.limit&&(m.warnEnabled()&&m.warn("buffering "+e+" seconds after stream started, raising buffer values"),U(A),P()),C(),clearInterval(f),f=0}}],N=[{type:u.PLAYBACK_STARTED,listener:function(){D(!1),y=(new Date).getTime(),v&&S&&(f=setInterval((function(){m.debugEnabled()&&m.debug("stream running stable since "+S+" sec"),m.debugEnabled()&&m.debug("buffer min: "+E.minimum+", max: "+E.maximum),h.start>g.start?(h.start-g.start<A?(m.debug("normalize cooldown"),U()):(m.debug(-A+" sec cooldown"),U(-A)),P()):(m.debugEnabled()&&m.debug("no cooldown"),clearInterval(f),f=0)}),1e3*S))}}];function C(){E=r.create(10*S)}function D(e){i.add({target:c,listeners:e?N:I}),i.remove({target:c,listeners:e?I:N})}function w(e){e.data.streamInfo.videoInfo&&e.data.streamInfo.haveVideo&&e.data.streamInfo.videoInfo.frameRate<=30&&n.isTridentBrowser&&!R&&(h=t.copy(b),U(Math.sqrt(30)-Math.sqrt(e.data.streamInfo.videoInfo.frameRate),1),h.start+=(h.target-h.start)/2,h.min+=(h.start-h.min)/2,P())}function U(e,t){t=t||1,["start","target","limit"].forEach((function(n){void 0===typeof e||isNaN(t)?h[n]=g[n]:(h[n]*=t,h[n]+=e)}))}function P(){m.debugEnabled()&&m.debug("new buffer: "+JSON.stringify(h)),m.debugEnabled()&&m.debug("latencyControlMode: "+_),c.emit(l.BUFFER_TWEAKS_CREATED,{tweaks:{buffer:t.copy(h)},latencyControlMode:_})}return m.debugEnabled()&&m.debug("initialize"),C(),i.add({target:c,listeners:O}),{destroy:function(){E=null,[O,I,N].forEach((function(e){i.remove({target:c,listeners:e})}))}}}}}.apply(t,r))||(e.exports=i)},387:function(e,t,n){var r,i;r=[n(8333),n(6627),n(6637),n(7771),n(3019),n(2706),n(6432),n(8405),n(492),n(3778),n(8730)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l){return{create:function(c){var f,E,p,m,b,h,g,_=e.create("Connection"),T=a.create(_),A=o.create(),S=[],y={},v=s.UNITIALIZED,R=!1,O=!1,I=!1,N=!1,C=!0,D=!1,w=0,U=[{type:i.NETWORK_STATE_CHANGE,listener:function(e){_.debug(e.name+": network state change from "+B(v)+" to "+B(e.data.connectionState)),v=e.data.connectionState}},{type:i.SERVER_INFO,listener:function(e){if(h=e.data.onServerInfo,O){var t=h.capabilities,n=h.serverVersion,i=parseFloat(n);-1===t.indexOf("onPlay")&&-1===t.indexOf("onPause")&&(O=!1,c.emit(r.NO_KEEP_CONNECTION,{message:i<1.8?"The keepConnection feature is enabled by the players config, but is not supported by this server version ("+n+"). Use at least server version 1.8.0.0. The feature will be disabled.":"The keepConnection feature is enabled by the players config, but is not enabled by this server ("+n+"). The feature will be disabled."}),C||L())}c.emit(r.SERVER_INFO,e.data)}},{type:i.UPDATE_SOURCE_SUCCESS,listener:P},{type:i.UPDATE_SOURCE_FAIL,listener:function(e){S.length>1&&("update"===e.data.type?S.shift():S.pop()),"update"===e.data.type?c.emit(r.UPDATE_SOURCE_FAIL,{source:p.source,entry:p.entry,rule:p.rule,tag:e.data.tag,count:e.data.count,code:e.data.code,message:e.data.message,type:e.data.type,id:e.data.id}):c.emit(r.SWITCH_STREAM_FAIL,{source:p.source,entry:p.entry,rule:p.rule,tag:e.data.tag,count:e.data.count,code:e.data.code,message:e.data.message,type:e.data.type,id:e.data.id}),e.data.code===d.NETWORK.SOURCE_TIMEOUT&&V(p),_.debugEnabled()&&_.debug("set updating to false in onUpdateSourceFail"),H(!1),O&&!C&&(L(!0),M())}},{type:i.UPDATE_SOURCE_ABORT,listener:function(e){var t=!1;S.length>1&&("update"===e.data.type?S.shift():S.pop()),"superseded"===e.data.reason&&m&&(t=!0),"update"===e.data.type?"equalsource"===e.data.reason?c.emit(r.UPDATE_SOURCE_SUCCESS,{source:p.source,entry:p.entry,rule:p.rule,tag:e.data.tag,count:e.data.count,type:e.data.type,id:e.data.id}):c.emit(r.UPDATE_SOURCE_ABORT,{source:t?m.source:p.source,entry:t?m.entry:p.entry,rule:t?m.rule:p.rule,tag:e.data.tag,count:e.data.count,reason:e.data.reason,type:e.data.type,id:e.data.id}):c.emit(r.SWITCH_STREAM_ABORT,{source:I?e.data.source:p.source,entry:I?e.data.entry:p.entry,rule:I?e.data.rule:p.rule,tag:e.data.tag,count:e.data.count,reason:"equalsource"===e.data.reason?"equal":e.data.reason,type:e.data.type,id:e.data.id}),"recover"===e.data.reason?m?(_.debugEnabled()&&_.debug("set updating to updatingPrevious in onUpdateSourceAbort"),H(m),G(!1)):(_.debugEnabled()&&_.debug("recover abort without updatePrevious, do nothing"),_.debugEnabled()&&_.debug("updating in abort is "+JSON.stringify(p))):t?G(!1):(_.debugEnabled()&&_.debug("set updating to false in onUpdateSourceAbort"),H(!1))}},{type:i.CONFIG,listener:function(e){E=e.data.config,f=E.id,R=E.playback.metadata,O=E.playback.keepConnection,C=E.playback.autoplay,I=t.mustUseHLS||E.playback.allowSafariHlsFallback&&t.canUseHLS,N=E.playback.faststart}},{type:i.STREAM_SWITCH,listener:function(e){var t=e.data.entry,n=e.data.options;if("init"===e.data.type){for(;S.length;)S.pop();return F(t.h5live),void(O&&M())}w+=1,n.tag=n.tag||"",n.count=w,"update"===e.data.type?c.emit(r.UPDATE_SOURCE_INIT,{source:e.data.source,entry:t,rule:e.data.rule,options:n,tag:n.tag,count:n.count,type:e.data.type,id:e.data.id}):c.emit(r.SWITCH_STREAM_INIT,{source:e.data.source,entry:t,rule:e.data.rule,options:n,tag:n.tag,count:n.count,type:e.data.type,id:e.data.id}),D?"update"===e.data.type?c.emit(r.UPDATE_SOURCE_ABORT,{source:e.data.source,entry:t,rule:e.data.rule,reason:"frequency",tag:n.tag,count:n.count,type:e.data.type,id:e.data.id}):c.emit(r.SWITCH_STREAM_ABORT,{source:e.data.source,entry:t,rule:e.data.rule,reason:"frequency",tag:n.tag,count:n.count,type:e.data.type,id:e.data.id}):!I||!p||"update"!==p.type&&"recover"!==p.type||"update"===e.data.type?(D=!0,setTimeout((function(){D=!1}),500),p&&G(p),_.debugEnabled()&&_.debug("set updating to e.data in onStreamSwitch"),H(e.data),"update"===e.data.type?_.debugEnabled()&&_.debug("update source: "+JSON.stringify(e.data.source)):_.debugEnabled()&&_.debug("switch stream: "+JSON.stringify(t)),S.length>1&&S.pop(),F(t.h5live),C||O&&!I&&!C?(_.debugEnabled()&&_.debug("connect to new source without terminating the old one"),e.data.options.forcePlay&&!C&&(C=!0),M(e.data)):(S.shift(),_.debugEnabled()&&_.debug("replaced source"),P({data:{tag:e.data.options.tag,count:w,type:e.data.type,id:e.data.id}}))):c.emit(r.SWITCH_STREAM_ABORT,{source:e.data.source,entry:t,rule:e.data.rule,reason:"recover"===p.type?"recover":"updateProgress",tag:n.tag,count:n.count,type:e.data.type,id:e.data.id})}},{type:i.API_PLAY,listener:function(){if(_.debugEnabled()&&_.debug("api play"),C=!0,O?(_.debugEnabled()&&_.debug("send network play"),c.emit(r.NETWORK_PLAY)):M(p&&p.options.forcePlay?p:void 0),I){var e=k("hls").url;c.emit(r.VIDEO_SOURCE,{src:e,type:l.HLS})}}},{type:i.API_PAUSE,listener:function(){_.debugEnabled()&&_.debug("api pause"),C=!1,(!O||p)&&L(),I&&c.emit(r.VIDEO_SOURCE,{src:"",type:l.HLS})}},{type:i.APPLICATION_STATE_CHANGE,listener:function(e){switch(e.data.state){case u.PAUSED:p&&P({data:{tag:p.options.tag,count:p.options.count,type:p.type,id:p.id}})}}},{type:i.CAN_PLAY,listener:function(){p&&I&&(_.debugEnabled()&&_.debug("updating onCanPlay is "+JSON.stringify(p)),clearTimeout(g),P({data:{tag:p.options.tag,count:p.options.count,type:p.type,id:p.id}}))}}];function P(e){S.length>1&&S.shift(),b&&b.id===e.data.id&&(_.debugEnabled()&&_.debug("set updating to updatingTimeoutObject in onUpdateSourceSuccess"),H(b),V(null)),"update"===e.data.type?c.emit(r.UPDATE_SOURCE_SUCCESS,{source:p.source,entry:p.entry,rule:p.rule,tag:e.data.tag,count:e.data.count,type:e.data.type,id:e.data.id}):c.emit(r.SWITCH_STREAM_SUCCESS,{source:p.source,entry:p.entry,rule:p.rule,tag:e.data.tag,count:e.data.count,type:e.data.type,id:e.data.id}),_.debugEnabled()&&_.debug("set updating to false in onUpdateSourceSuccess"),H(!1),clearTimeout(g)}function M(e){var t,n,i=e?S.length-1:0;if(R||S[i].security||!I){x(!C,"paused"),x(R&&I,"metastreamonly"),x(!R&&!!S[i].security&&I,"checkandclose"),x(e?e.faststart:N,"faststart"),t=(n=k("websocket",i)).url;var a=e?r.NETWORK_UPDATE_SOURCE:r.CONNECT;_.debugEnabled()&&_.debug("connect to: "+t,1),c.emit(a,{url:t,config:n,update:e||!1,reconnect:E.playback.reconnect,timeouts:E.playback.timeouts}),I||c.emit(r.URL,{url:t})}I&&(x(e?e.faststart:N,"faststart"),t=(n=k("hls")).url,c.emit(r.URL,{url:t}),c.emit(r.VIDEO_SOURCE,{src:t,type:l.HLS}))}function L(e){_.debugEnabled()&&_.debug("disconnecting"),c.emit(r.DISCONNECT,{silent:!!e})}function F(e){var n=e.rtmp,i=e.params;T.initConfig().setServer(e.server).setToken(e.token).setQueryParams(i).setSecurity(e.security),T.connectionConfig.server.websocket.length||T.connectionConfig.server.hls.length||c.emit(r.NO_SERVER_ERROR),"object"==typeof n&&n.url&&n.url.length&&n.streamname&&n.streamname.length||i?T.setRtmp(n):c.emit(r.MISSING_RTMP_ERROR),(t.isIOSDesktopMode||t.isIOS)&&T.addQueryParam("os","ios"),S.push(T.connectionConfig)}function k(e,t){var n=void 0!==typeof t&&t>-1&&void 0!==typeof S[t]?t:S.length-1,r=S[n];return A.initURL(r,e).processConfigFlags(y).processConfigQuery(f).processSecurity().buildConnectionURL(),A.connectionConfig}function x(e,t){!0===e&&void 0===y[t]?y[t]=!0:!1===e&&y[t]&&delete y[t]}function B(e){for(var t in s)if(Object.prototype.hasOwnProperty.call(s,t)&&s[t]===e)return t}function H(e){_.debugEnabled()&&_.debug("set updating to "+JSON.stringify(e)+" from "+JSON.stringify(p)),p=e}function G(e){_.debugEnabled()&&_.debug("set updatingPrevious to "+JSON.stringify(e)+" from "+JSON.stringify(m)),m=e}function V(e){_.debugEnabled()&&_.debug("set updatingTimeoutObject to "+JSON.stringify(e)+" from "+JSON.stringify(b)),b=e}return _.debugEnabled()&&_.debug("init"),n.add({target:c,listeners:U}),{destroy:function(){n.remove({target:c,listeners:U})}}}}}.apply(t,r))||(e.exports=i)},3445:function(e,t,n){var r,i;r=[n(8333),n(6627),n(1933),n(9474),n(7146),n(561),n(4813)],void 0===(i=function(e,t,n,r,i,a,o){return{create:function(s,u){var d,l,c,f,E,p,m=e.create("AdjustControllerAdapter"),b={default:i,fastadaptive:a,balancedadaptive:a},h="balancedadaptive";return m.debugEnabled()&&m.debug("init"),c=u.playback.latencyControlMode,f=t.isTridentBrowser,E=n.isManagedMediaSourceH264Supported&&t.isIOS,p=t.mustUseHLS||u.playback.allowSafariHlsFallback&&t.canUseHLS,l="default",c!==r.FAST_ADAPTIVE||f?c!==r.BALANCED_ADAPTIVE||f||(l=h):E||p?(l=h,c=r.BALANCED_ADAPTIVE):l="fastadaptive",m.debugEnabled()&&m.debug("use adjustController type "+l),s.emit(o.CONTROL_MODE_SET,{latencyControlMode:c}),d=b[l].create(s,c),{calcBufferGoal:function(e){return d.calcBufferGoal(e)},destroy:function(){d.destroy(),d=null}}}}}.apply(t,r))||(e.exports=i)},561:function(e,t,n){var r,i;r=[n(8333),n(6637),n(492),n(9474),n(4234)],void 0===(i=function(e,t,n,r,i){return{create:function(a,o){var s,u=e.create("AdaptiveAdjustController"),d={real:0,base:0,min:0,max:0},l=0,c=0,f=0,E=0,p=0,m=1e3,b=0,h=0,g=0,_=0,T=.998,A=0,S=0,y={fastadaptive:{minClamp:.3,range:.4},balancedadaptive:{minClamp:.5,range:.7}},v=[{type:i.APPLICATION_STATE_CHANGE,listener:function(e){switch(e.data.state){case n.PAUSED:l=0,c=0,f=0,E=0,p=0,m=1e3,b=0,h=0,g=0,_=0;break;case n.BUFFERING:case n.PLAYING:}}},{type:i.BUFFER_TWEAKS_CREATED,listener:function(e){s=e.data.tweaks.buffer,d.base||(d.base=s.start),d.min=Math.max(s.min+.1+.125*(s.min-.2),A),d.max=d.min+S}}];return u.debugEnabled()&&u.debug("init"),t.add({target:a,listeners:v}),Object.prototype.hasOwnProperty.call(y,o)||(o=r.FAST_ADAPTIVE,u.debugEnabled()&&u.debug("use default mode fast")),A=y[o].minClamp,S=y[o].range,u.debugEnabled()&&u.debug("use mode "+o),{destroy:function(){t.remove({target:a,listeners:v})},calcBufferGoal:function(e){if(f=e.stats.buffer.end,E=window.performance.now(),_<8)d.base=d.min,_++;else{l&&c&&(p=p*T+(1e3*(f-l)-(E-c)),m=Math.min(m,p)*T,b=Math.max(b,p)*T,h=(b-m)/2,g=Math.max(Math.abs(m),Math.abs(h))),c=E,l=f;var t=s.min+Math.abs(2*g)/1e3;t=Math.min(d.max,t),t=Math.max(d.min,t),t=Math.round(100*t)/100,d.base=t}return d}}}}}.apply(t,r))||(e.exports=i)},7146:function(e,t,n){var r,i;r=[n(8333),n(6637),n(492),n(5337),n(4234)],void 0===(i=function(e,t,n,r,i){return{create:function(r){var a,o=e.create("DefaultAdjustController"),s={real:0,base:0,min:0,max:0},u=[{type:i.APPLICATION_STATE_CHANGE,listener:function(e){switch(e.data.state){case n.PAUSED:case n.BUFFERING:case n.PLAYING:}}},{type:i.BUFFER_TWEAKS_CREATED,listener:function(e){a=e.data.tweaks.buffer,s.base||(s.base=a.target)}}];return o.debugEnabled()&&o.debug("init"),t.add({target:r,listeners:u}),{destroy:function(){t.remove({target:r,listeners:u})},calcBufferGoal:function(){return s}}}}}.apply(t,r))||(e.exports=i)},4842:function(e,t,n){var r,i;r=[n(8333),n(492),n(6637),n(4234)],void 0===(i=function(e,t,n,r){return{create:function(i,a){var o,s,u,d,l,c,f=e.create("HLSDefaultConservativeLatencyController"),E=0,p=0,m=1,b=[{type:r.APPLICATION_STATE_CHANGE,listener:function(e){switch(e.data.state){case t.PLAYING:break;case t.PAUSED:g()}}},{type:r.BUFFER_TWEAKS_CREATED,listener:function(e){s=e.data.tweaks.buffer}}];function h(e){var t=0;return e&&c?(t=(window.performance.now()-c)/1e3,c=0):e||c||(c=window.performance.now()),t}function g(){E=0}return f.debugEnabled()&&f.debug("init"),g(),n.add({target:i,listeners:b}),{checkLatency:function(e,t){o=e.stats,m=o.playbackrate.current,u=t.base,l=1,p=o.buffer.delay.avg;var n=Math.abs(m-1)<1e-6;if(d=u+0,E=o.buffer.end>E+.1?o.buffer.end:E,s.limit<p)1.1!==m&&(f.debugEnabled()&&f.debug("avg over limit, set speed to 1.1"),l=1.1,h(),a.setRate(m,l));else if((d-.2>=p||s.min+.2>=p)&&!n){var r=h(!0);r&&f.debugEnabled()&&f.debug("normalize speed after "+r.toFixed(2)+" seconds",2),l=1,a.setRate(m,l)}return d},destroy:function(){n.remove({target:i,listeners:b}),a.destroy(),a=null}}}}}.apply(t,r))||(e.exports=i)},9076:function(e,t,n){var r,i;r=[n(8333),n(492),n(6637),n(4234)],void 0===(i=function(e,t,n,r){return{create:function(i,a){var o,s,u,d,l,c,f,E=e.create("HLSWebkitProgressiveLatencyController"),p=0,m=0,b=1,h=0,g=[{type:r.APPLICATION_STATE_CHANGE,listener:function(e){switch(e.data.state){case t.PLAYING:break;case t.PAUSED:T()}}},{type:r.BUFFER_TWEAKS_CREATED,listener:function(e){s=e.data.tweaks.buffer}}];function _(e){var t=0;return e&&f?(t=(window.performance.now()-f)/1e3,f=0):e||f||(f=window.performance.now()),t}function T(){p=0,clearTimeout(c),c=0}return E.debugEnabled()&&E.debug("init"),T(),n.add({target:i,listeners:g}),{checkLatency:function(e,t){o=e.stats,b=o.playbackrate.current,u=t.base,l=1,m=o.buffer.delay.avg;var n=Math.abs(b-1)<1e-6;if(h=Math.round(1e3*(n?o.buffer.delay.max-m:m-o.buffer.delay.min))/1e3,d=u+h,p=o.buffer.end>p+.1?o.buffer.end:p,s.limit<m||s.limit<m+.25&&1.1===b)1.1!==b&&(E.debugEnabled()&&E.debug("avg over limit, set speed to 1.1"),l=1.1,_(),a.setRate(b,l));else if(n&&d+.25<m||!n&&d<m&&s.min+.05<m){if(!c){var r=1e3*(f?2+2*Math.random():.5+1.5*Math.random());E.debugEnabled()&&E.debug("avg over bufferGoalReal but under limit, make check in "+r+"ms"),c=setTimeout((function(){E.debugEnabled()&&E.debug("check timeout fired"),c=0,d<m&&s.min+.05<m?(_(),l=1.05,a.setRate(b,l)):E.debugEnabled()&&E.debug("after check timeout avg not over bufferGoalReal, do nothing",2)}),r)}}else if((d-.15>=m||s.min+.05>=m)&&!n){var i=_(!0);i&&E.debugEnabled()&&E.debug("normalize speed after "+i.toFixed(2)+" seconds",2),l=1,a.setRate(b,l)}return d},destroy:function(){n.remove({target:i,listeners:g})}}}}}.apply(t,r))||(e.exports=i)},3184:function(e,t,n){var r,i;r=[n(8333),n(492),n(6637),n(4234)],void 0===(i=function(e,t,n,r){return{create:function(i,a){var o,s,u,d,l,c,f,E=e.create("WSSChromiumProgressiveLatencyController"),p=0,m=0,b=1,h=0,g=0,_=[{type:r.APPLICATION_STATE_CHANGE,listener:function(e){switch(e.data.state){case t.PLAYING:break;case t.PAUSED:S()}}},{type:r.BUFFER_TWEAKS_CREATED,listener:function(e){s=e.data.tweaks.buffer}}];function T(e){var t=0;return e&&f?(t=(window.performance.now()-f)/1e3,f=0):e||f||(f=window.performance.now()),t}function A(){return 1===b}function S(){p=0,clearTimeout(c),c=0}return E.debugEnabled()&&E.debug("init"),S(),n.add({target:i,listeners:_}),{checkLatency:function(e,t){if(o=e.stats,b=o.playbackrate.current,h=o.currentTime,u=t.base,l=1,m=o.buffer.delay.avg,g=Math.round(1e3*(+A()?o.buffer.delay.max-m:m-o.buffer.delay.min))/1e3,d=u+g,p=o.buffer.end>p+.1?o.buffer.end:p,s.max<m&&function(e){return e&&!isNaN(e.currentTime)&&e.currentTime>0}(o))E.debug("max buffer reached, seeking to goal..."),a.setSeek(h,p-u);else if(s.limit<m)1.1!==b&&(E.debugEnabled()&&E.debug("avg over limit, set speed to 1.1"),l=1.1,T(),a.setRate(b,l));else if(A()&&d+.1<m||!A()&&d<m){if(!c){var n=1e3*(f?2+2*Math.random():.5+1.5*Math.random());E.debugEnabled()&&E.debug("avg over bufferGoalReal but under limit, make check in "+n+"ms"),c=setTimeout((function(){E.debugEnabled()&&E.debug("check timeout fired"),c=0,A()&&d+.1<m||!A()&&d<m?f||(T(),l=function(){var e=s.limit-d,t=Math.max(0,Math.min(e,o.buffer.delay.avg-d)),n=Math.round(t/e*100),r=1+Math.round(.1*Math.sqrt(n/100)*100)/100;return E.debugEnabled()&&E.debug("avg at "+n+"% between target and limit",2),E.debugEnabled()&&E.debug("after check timeout still avg with "+n+"% over target, set speed to "+r+" with sqrt function",2),r}(),a.setRate(b,l)):E.debugEnabled()&&E.debug("after check timeout avg not over bufferGoalReal, do nothing",2)}),n)}}else if(d>=m&&1!==b){var r=T(!0);r&&E.debugEnabled()&&E.debug("normalize speed after "+r.toFixed(2)+" seconds",2),l=1,a.setRate(b,l)}return d},destroy:function(){n.remove({target:i,listeners:_}),a.destroy(),a=null}}}}}.apply(t,r))||(e.exports=i)},2531:function(e,t,n){var r,i;r=[n(8333),n(492),n(6637),n(4234)],void 0===(i=function(e,t,n,r){return{create:function(i,a){var o,s,u,d,l,c,f=e.create("WSSDefaultConservativeLatencyController"),E=0,p=0,m=1,b=0,h=[{type:r.APPLICATION_STATE_CHANGE,listener:function(e){switch(e.data.state){case t.PLAYING:break;case t.PAUSED:_()}}},{type:r.BUFFER_TWEAKS_CREATED,listener:function(e){s=e.data.tweaks.buffer}}];function g(e){var t=0;return e&&c?(t=(window.performance.now()-c)/1e3,c=0):e||c||(c=window.performance.now()),t}function _(){E=0}return f.debugEnabled()&&f.debug("init"),_(),n.add({target:i,listeners:h}),{checkLatency:function(e,t){if(o=e.stats,m=o.playbackrate.current,b=o.currentTime,u=t.base,l=1,p=o.buffer.delay.avg,d=u+0,E=o.buffer.end>E+.1?o.buffer.end:E,s.max<p&&function(e){return e&&!isNaN(e.currentTime)&&e.currentTime>0}(o))f.debug("max buffer reached, seeking to goal..."),a.setSeek(b,E-u);else if(s.limit<p)1.1!==m&&(f.debugEnabled()&&f.debug("avg over limit, set speed to 1.1"),l=1.1,g(),a.setRate(m,l));else if(d>=p&&1!==m){var n=g(!0);n&&f.debugEnabled()&&f.debug("normalize speed after "+n.toFixed(2)+" seconds",2),l=1,a.setRate(m,l)}return d},destroy:function(){n.remove({target:i,listeners:h}),a.destroy(),a=null}}}}}.apply(t,r))||(e.exports=i)},8538:function(e,t,n){var r,i;r=[n(8333),n(492),n(6637),n(4234)],void 0===(i=function(e,t,n,r){return{create:function(i,a){var o,s,u,d,l,c,f,E,p,m=e.create("WSSFirefoxProgressiveLatencyController"),b=0,h=0,g=1,_=0,T=0,A=0,S=0,y=!1,v=!1,R=1,O=0,I=6e4,N=[{type:r.APPLICATION_STATE_CHANGE,listener:function(e){switch(e.data.state){case t.PLAYING:break;case t.PAUSED:F()}}},{type:r.BUFFER_TWEAKS_CREATED,listener:function(e){s=e.data.tweaks.buffer}},{type:r.FRAME_DROP,listener:function(e){var t=e.data.type;switch(m.debugEnabled()&&m.debug("framedrop event with type "+t),t){case"extreme":case"high":case"medium":v?m.debugEnabled()&&m.debug("frame drop handle blocked"):(m.debugEnabled()&&m.debug("frame drop handle unblocked, starting"),U(!0,"framedrop event with type "+t),y?(m.debugEnabled()&&m.debug("frame drop handle still activated, restart cooldown timeout"),P()):(m.debugEnabled()&&m.debug("set buffer goal to buffer goal max"),T=d,m.debugEnabled()&&m.debug("check framedrop cooldown factor timeout"),S?(m.debugEnabled()&&m.debug("framedrop cooldown factor timeout is running, clearing"),L(),R<=4?(m.debugEnabled()&&m.debug("framedrop cooldown factor lower or 4, multiply"),R*=2,m.debugEnabled()&&m.debug("new framedrop cooldown factor is "+R.toString())):m.debugEnabled()&&m.debug("framedrop cooldown factor still at max ("+R.toString()+"), do nothing")):m.debugEnabled()&&m.debug("framedrop cooldown factor timeout is not running, use current factor ("+R.toString()+")")))}}}];function C(e){var t=0;return e&&E?(t=(window.performance.now()-E)/1e3,E=0):e||E||(E=window.performance.now()),t}function D(){return 1===g}function w(){return g>1}function U(e,t){m.debugEnabled()&&m.debug("set framedrop blocked to "+e.toString()+" from handle: '"+t+"'"),e?v=!0:(v=!1,P())}function P(){M(),L(),m.debugEnabled()&&m.debug("set framedrop cooldown timeout with "+(I*R/1e3).toString()+" s"),A=setTimeout((function(){m.debugEnabled()&&m.debug("framedrop cooldown timeout reached, set handle to inactive"),M(),y=!1,L(),m.debugEnabled()&&m.debug("set framedrop cooldown factor timeout with "+(I*R/1e3).toString()+" s"),S=setTimeout((function(){m.debugEnabled()&&m.debug("framedrop cooldown factor timeout reached, check for decrease cooldown factor"),L(),R>1?(m.debugEnabled()&&m.debug("framedrop cooldown factor higher 1, divide"),R/=2,m.debugEnabled()&&m.debug("new framedrop cooldown factor is "+R.toString())):m.debugEnabled()&&m.debug("framedrop cooldown factor still at min ("+R.toString()+"), do nothing")}),I*R)}),I*R)}function M(){m.debugEnabled()&&m.debug("clear framedrop cooldown timeout and set to 0"),clearTimeout(A),A=0}function L(){m.debugEnabled()&&m.debug("clear framedrop cooldown factor timeout and set to 0"),clearTimeout(S),S=0}function F(){b=0,clearTimeout(f),f=0,clearTimeout(A),A=0,clearTimeout(S),S=0,y=!1,v=!1,R=1}return m.debugEnabled()&&m.debug("init"),F(),n.add({target:i,listeners:N}),{checkLatency:function(e,t){if(o=e.stats,g=o.playbackrate.current,_=o.currentTime,u=t.base,d=t.max,c=1,h=o.buffer.delay.avg,O=Math.round(1e3*(w()?o.buffer.delay.max-h:h-o.buffer.delay.min))/1e3,v||y||(T*=.998),l=Math.max(u,T)+O,b=o.buffer.end>b+.1?o.buffer.end:b,s.max<h&&function(e){return e&&!isNaN(e.currentTime)&&e.currentTime>0}(o))v&&U(!1,"over buffer max"),m.debug("max buffer reached, seeking to goal..."),a.setSeek(_,b-u);else if(s.limit<h)v&&U(!1,"between buffer limit and max"),1.1!==g&&(m.debugEnabled()&&m.debug("avg over limit, set speed to 1.1"),c=1.1,C(),a.setRate(g,c));else if(D()&&l+.1<h||w()&&l<h){if(!f){var n=1e3*(E?2+2*Math.random():.5+1.5*Math.random());m.debugEnabled()&&m.debug("avg over bufferGoalReal but under limit, make check in "+n+"ms"),f=setTimeout((function(){m.debugEnabled()&&m.debug("check timeout fired"),f=0,D()&&l+.1<h||w()&&l<h?E||(C(),c=function(){var e=s.limit-l,t=Math.max(0,Math.min(e,o.buffer.delay.avg-l)),n=Math.round(t/e*100),r=1+Math.round(.1*Math.sqrt(n/100)*100)/100;return m.debugEnabled()&&m.debug("avg at "+n+"% between target and limit"),m.debugEnabled()&&m.debug("after check timeout still avg with "+n+"% over target, set speed to "+r+" with sqrt function"),r}(),a.setRate(g,c)):m.debugEnabled()&&m.debug("after check timeout avg not over bufferGoalReal, do nothing")}),n)}}else!v&&l>=h&&w()?((p=C(!0))&&m.debugEnabled()&&m.debug("normalize speed after "+p.toFixed(2)+" seconds"),c=1,a.setRate(g,c)):v&&y&&l<=h+.1?((p=C(!0))&&m.debugEnabled()&&m.debug("normalize speed after "+p.toFixed(2)+" seconds"),m.debugEnabled()&&m.debug("normalize speed after reached bufferGoalReal again after frame drop"),v&&U(!1,"buffer target reached after framedrop"),c=1,a.setRate(g,c)):v&&!y&&(m.debugEnabled()&&m.debug("slow speed to reach bufferGoalReal after frame drop"),C(),c=.97,a.setRate(g,c),y=!0);return l},destroy:function(){n.remove({target:i,listeners:N}),a.destroy(),a=null}}}}}.apply(t,r))||(e.exports=i)},9321:function(e,t,n){var r,i;r=[n(8333),n(492),n(6637),n(4234)],void 0===(i=function(e,t,n,r){return{create:function(i,a){var o,s,u,d,l=e.create("WSSTridentConservativeLatencyController"),c=0,f=0,E=0,p=[{type:r.APPLICATION_STATE_CHANGE,listener:function(e){switch(e.data.state){case t.PLAYING:break;case t.PAUSED:m()}}},{type:r.BUFFER_TWEAKS_CREATED,listener:function(e){s=e.data.tweaks.buffer}}];function m(){c=0}return l.debugEnabled()&&l.debug("init"),m(),n.add({target:i,listeners:p}),{checkLatency:function(e,t){return o=e.stats,E=o.currentTime,u=t.base,f=o.buffer.delay.avg,d=u+0,c=o.buffer.end>c+.1?o.buffer.end:c,s.max<f&&function(e){return e&&!isNaN(e.currentTime)&&e.currentTime>0}(o)?(l.debug("max buffer reached, seeking to goal..."),a.setSeek(E,c-u)):s.limit<f&&(l.debugEnabled()&&l.debug("seek to buffer goal"),a.setSeek(E,c-d)),d},destroy:function(){n.remove({target:i,listeners:p})}}}}}.apply(t,r))||(e.exports=i)},2395:function(e,t,n){var r,i;r=[n(8333),n(492),n(6637),n(4234)],void 0===(i=function(e,t,n,r){return{create:function(i,a){var o,s,u,d,l,c,f=e.create("WSSWebkitConservativeLatencyController"),E=0,p=0,m=1,b=0,h=[{type:r.APPLICATION_STATE_CHANGE,listener:function(e){switch(e.data.state){case t.PLAYING:break;case t.PAUSED:_()}}},{type:r.BUFFER_TWEAKS_CREATED,listener:function(e){s=e.data.tweaks.buffer}}];function g(e){var t=0;return e&&c?(t=(window.performance.now()-c)/1e3,c=0):e||c||(c=window.performance.now()),t}function _(){E=0}return f.debugEnabled()&&f.debug("init"),_(),n.add({target:i,listeners:h}),{checkLatency:function(e,t){o=e.stats,m=o.playbackrate.current,b=o.currentTime,u=t.base,l=1,p=o.buffer.delay.avg;var n=Math.abs(m-1)<1e-6;if(d=u+0,E=o.buffer.end>E+.1?o.buffer.end:E,s.max<p&&function(e){return e&&!isNaN(e.currentTime)&&e.currentTime>0}(o))f.debug("max buffer reached, seeking to goal..."),a.setSeek(b,E-u);else if(s.limit<p||s.limit<p+.25&&1.1===m)1.1!==m&&(f.debugEnabled()&&f.debug("avg over limit, set speed to 1.1"),l=1.1,g(),a.setRate(m,l));else if((d-.15>=p||s.min+.05>=p)&&!n){var r=g(!0);r&&f.debugEnabled()&&f.debug("normalize speed after "+r.toFixed(2)+" seconds",2),l=1,a.setRate(m,l)}return d},destroy:function(){n.remove({target:i,listeners:h}),a.destroy(),a=null}}}}}.apply(t,r))||(e.exports=i)},4422:function(e,t,n){var r,i;r=[n(8333),n(492),n(6637),n(4234)],void 0===(i=function(e,t,n,r){return{create:function(i,a){var o,s,u,d,l,c,f,E=e.create("WSSWebkitProgressiveLatencyController"),p=0,m=0,b=1,h=0,g=0,_=[{type:r.APPLICATION_STATE_CHANGE,listener:function(e){switch(e.data.state){case t.PLAYING:break;case t.PAUSED:A()}}},{type:r.BUFFER_TWEAKS_CREATED,listener:function(e){s=e.data.tweaks.buffer}}];function T(e){var t=0;return e&&f?(t=(window.performance.now()-f)/1e3,f=0):e||f||(f=window.performance.now()),t}function A(){p=0,clearTimeout(c),c=0}return E.debugEnabled()&&E.debug("init"),A(),n.add({target:i,listeners:_}),{checkLatency:function(e,t){o=e.stats,b=o.playbackrate.current,h=o.currentTime,u=t.base,l=1,m=o.buffer.delay.avg;var n=Math.abs(b-1)<1e-6;if(g=Math.round(1e3*(n?o.buffer.delay.max-m:m-o.buffer.delay.min))/1e3,d=u+g,p=o.buffer.end>p+.1?o.buffer.end:p,s.max<m&&function(e){return e&&!isNaN(e.currentTime)&&e.currentTime>0}(o))E.debug("max buffer reached, seeking to goal..."),a.setSeek(h,p-u);else if(s.limit<m||s.limit<m+.25&&1.1===b)1.1!==b&&(E.debugEnabled()&&E.debug("avg over limit, set speed to 1.1"),l=1.1,T(),a.setRate(b,l));else if(n&&d+.25<m||!n&&d<m&&s.min+.05<m){if(!c){var r=1e3*(f?2+2*Math.random():.5+1.5*Math.random());E.debugEnabled()&&E.debug("avg over bufferGoalReal but under limit, make check in "+r+"ms"),c=setTimeout((function(){E.debugEnabled()&&E.debug("check timeout fired"),c=0,d<m&&s.min+.05<m?(T(),l=1.05,a.setRate(b,l)):E.debugEnabled()&&E.debug("after check timeout avg not over bufferGoalReal, do nothing",2)}),r)}}else if((d-.15>=m||s.min+.05>=m)&&!n){var i=T(!0);i&&E.debugEnabled()&&E.debug("normalize speed after "+i.toFixed(2)+" seconds",2),l=1,a.setRate(b,l)}return d},destroy:function(){n.remove({target:i,listeners:_})}}}}}.apply(t,r))||(e.exports=i)},4813:function(e,t){var n;void 0===(n=function(){var e="adjustControllerAdapter.";return{BASE:e,CONTROL_MODE_SET:e+"controlModeSet"}}.apply(t,[]))||(e.exports=n)},1148:function(e,t){var n;void 0===(n=function(){var e="adjustLatencyHandler.";return{BASE:e,SEEK:e+"seek",RATE:e+"rate"}}.apply(t,[]))||(e.exports=n)},4234:function(e,t){var n;void 0===(n=function(){var e="latencyManager.";return{BASE:e,BUFFER_TWEAKS_CREATED:e+"bufferTweaksCreated",FRAME_DROP:e+"frameDrop",RANDOM_ACCESS_POINT:e+"randomAccessPoint",TIME_OFFSET:e+"timeOffset",CONFIG:e+"config",PLAY_STATS:e+"playStats",APPLICATION_STATE_CHANGE:e+"applicationStateChange",DOCUMENT_VISIBLE:e+"documentVisible",DOCUMENT_HIDDEN:e+"documentHidden"}}.apply(t,[]))||(e.exports=n)},2158:function(e,t){var n;void 0===(n=function(){var e="liveController.";return{BASE:e,BUFFER_GOAL_STATS:e+"bufferGoalStats"}}.apply(t,[]))||(e.exports=n)},4285:function(e,t,n){var r,i;r=[n(8333),n(6627),n(9474),n(8930),n(2531),n(2395),n(9321),n(3184),n(8538),n(4422),n(4842),n(9076)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l,c){return{create:function(f,E){var p,m,b,h,g,_,T,A,S=e.create("LatencyControllerAdapter"),y={wssdefaultconservative:i,wsswebkitconservative:a,wsstridentconservative:o,wsschromiumprogressive:s,wssfirefoxprogressive:u,wsswebkitprogressive:d,hlsdefaultconservative:l,hlswebkitprogressive:c},v="wssdefaultconservative",R="wsswebkitconservative",O="wsstridentconservative",I="hlsdefaultconservative",N="wsschromiumprogressive",C="wssfirefoxprogressive",D="wsswebkitprogressive",w="hlswebkitprogressive";return S.debugEnabled()&&S.debug("init"),g=t.mustUseHLS||E.playback.allowSafariHlsFallback&&t.canUseHLS,h=E.playback.latencyControlMode,_=t.isTridentBrowser,T=t.isWebkitBrowser,A=t.isFirefox,b=r.create(f),m=_?O:h===n.FAST_ADAPTIVE||h===n.BALANCED_ADAPTIVE?T&&g?w:T?D:A?C:N:T&&g?I:T?R:v,S.debugEnabled()&&S.debug("use latencyController type "+m),p=y[m].create(f,b),{checkLatency:function(e,t){return p.checkLatency(e,t)},destroy:function(){p.destroy(),p=null,b.destroy(),b=null},seek:function(e,t){return b.setSeek(e,t)}}}}}.apply(t,r))||(e.exports=i)},7831:function(e,t,n){var r,i;r=[n(8333),n(9658),n(5055),n(2450),n(3937),n(3019),n(4234),n(1148),n(4813),n(2158),n(8449)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l){"use strict";return{create:function(c){var f,E,p=new t,m=e.create("LatencyManager"),b=[],h=[{from:s.SEEK,to:i.SEEK},{from:s.RATE,to:i.RATE},{from:d.BUFFER_GOAL_STATS,to:i.BUFFER_GOAL_STATS},{from:u.CONTROL_MODE_SET,to:i.CONTROL_MODE_SET}],g=[{from:a.BUFFER_TWEAKS_CREATED,to:o.BUFFER_TWEAKS_CREATED},{from:a.FRAME_DROP,to:o.FRAME_DROP},{from:a.RANDOM_ACCESS_POINT,to:o.RANDOM_ACCESS_POINT},{from:a.TIME_OFFSET,to:o.TIME_OFFSET},{from:a.CONFIG,to:o.CONFIG},{from:a.PLAY_STATS,to:o.PLAY_STATS},{from:a.APPLICATION_STATE_CHANGE,to:o.APPLICATION_STATE_CHANGE},{from:r.VISIBLE,to:o.DOCUMENT_VISIBLE},{from:r.HIDDEN,to:o.DOCUMENT_HIDDEN}];return m.debugEnabled()&&m.debug("init"),f=n.create(c,p,g),E=n.create(p,c,h),b.push(l.create(p)),{destroy:function(){for(f.destroy(),f=null,E.destroy(),E=null;b.length;)b.pop().destroy()}}}}}.apply(t,r))||(e.exports=i)},8449:function(e,t,n){var r,i;r=[n(8333),n(492),n(6637),n(4234),n(2158),n(3445),n(4285),n(6631)],void 0===(i=function(e,t,n,r,i,a,o,s){return{create:function(u){var d,l,c,f,E,p=e.create("LiveController"),m=[{type:r.APPLICATION_STATE_CHANGE,listener:function(e){switch(n.remove({target:u,listeners:b}),e.data.state){case t.LOADING:case t.PLAYING:case t.BUFFERING:n.add({target:u,listeners:b})}}},{type:r.CONFIG,listener:function(e){c=a.create(u,e.data.config),f=o.create(u,e.data.config),E=s.create(u,f,e.data.config)}}],b=[{type:r.PLAY_STATS,listener:function(e){d=e.data,E.disable(),(l=c.calcBufferGoal(d)).real=f.checkLatency(d,l),u.emit(i.BUFFER_GOAL_STATS,{real:Math.round(100*l.real)/100,base:Math.round(100*l.base)/100,min:Math.round(100*l.min)/100,max:Math.round(100*l.max)/100}),E.update(d,l),E.enable()}}];return p.debugEnabled()&&p.debug("init"),n.add({target:u,listeners:m}),{destroy:function(){n.remove({target:u,listeners:m}),c.destroy(),f.destroy(),E.destroy()}}}}}.apply(t,r))||(e.exports=i)},8930:function(e,t,n){var r,i;r=[n(8333),n(6627),n(492),n(6637),n(4234),n(1148)],void 0===(i=function(e,t,n,r,i,a){return{create:function(o){var s=e.create("AdjustLatencyHandler"),u=[],d=0,l=[{type:i.APPLICATION_STATE_CHANGE,listener:function(e){switch(e.data.state){case n.PLAYING:break;case n.PAUSED:c()}}},{type:i.RANDOM_ACCESS_POINT,listener:function(e){for(u.push(e.data.onRandomAccessPoint.streamTime/1e3+d/1e3);u.length>10;)u.shift()}},{type:i.TIME_OFFSET,listener:function(e){d=e.data.offset}}];function c(){for(;u.length;)u.shift();d=0}return s.debugEnabled()&&s.debug("init"),c(),r.add({target:o,listeners:l}),{setSeek:function(e,n){s.debugEnabled()&&s.debug("should seeking to "+n),t.isTridentBrowser&&(n=function(e,t){for(var n=0;n<u.length;++n)if(u[n]>e&&u[n]<=t)return u[n];return-1}(e,n),s.debugEnabled()&&s.debug("seeking to RAP "+n)),n>=0&&(s.debugEnabled()&&s.debug("seeking to "+n),o.emit(a.SEEK,{position:n}))},setRate:function(e,t){Math.abs(e.toFixed(3)-t)>0&&(s.debugEnabled()&&s.debug("set rate to "+t),o.emit(a.RATE,{rate:t}))},destroy:function(){c(),r.remove({target:o,listeners:l})}}}}}.apply(t,r))||(e.exports=i)},6631:function(e,t,n){var r,i;r=[n(8333),n(6627),n(492),n(6637),n(4234)],void 0===(i=function(e,t,n,r,i){return{create:function(a,o,s){var u,d,l,c,f,E,p=e.create("VisibilityLatencyHandler"),m=0,b=t.mustUseHLS||s.playback.allowSafariHlsFallback&&t.canUseHLS,h=!0,g=!0,_=0,T=[150,500,2e3,4e3,6e3],A=[{type:i.APPLICATION_STATE_CHANGE,listener:function(e){switch(u=e.data.state){case n.PLAYING:h=!0;break;case n.PAUSED:h=!1}}},{type:i.DOCUMENT_HIDDEN,listener:S},{type:i.DOCUMENT_VISIBLE,listener:S}];function S(e){c=e.name===i.DOCUMENT_HIDDEN,p.debug(c?"hidden":"visible"),O(d)&&I()?y(c):p.debug("seek is not allowed or possible")}function y(e){if(!h&&!e&&!g)return p.debug("handling visibility skipped, saved for later"),void(g=!0);if(e)R(),E=performance.now(),m=d.buffer.delay.avg,p.debug("stored bufferValue hidden state: "+m);else{var t=performance.now()-E;p.debug("checking latency on visibility handler"),t<1e3&&(_=1),v(m+.15)}}function v(e){_>=5?R():(f&&clearTimeout(f),f=setTimeout((function(){if(p.debug("latencyCheckpointIndex: "+_),p.debug("bufferThreshold: "+e),p.debug("buffer delay: "+d.buffer.delay.avg),!O(d)||!I())return p.debug("seek is not allowed or possible"),void R();d.buffer.delay.avg>e&&(p.debug("visibility seek done"),o.seek(d.currentTime,d.buffer.end-l.base),v(e))}),T[_]),_++)}function R(){h=!0,_=0,clearTimeout(f),m=0,E=0}function O(e){return e&&!isNaN(e.currentTime)&&e.currentTime>0}function I(){return!b&&l&&d.duration&&!isNaN(d.duration.current)&&u!==n.PAUSED}return p.debugEnabled()&&p.debug("init"),r.add({target:a,listeners:A}),{destroy:function(){r.remove({target:a,listeners:A}),R()},disable:function(){h=!1},enable:function(){h=!0,g&&(p.debug("handling previously skipped event"),y(c),g=!1)},update:function(e,t){d=e.stats,l=t}}}}}.apply(t,r))||(e.exports=i)},9665:function(e,t,n){var r,i;r=[n(8333),n(6627),n(6637),n(3778),n(3890),n(492),n(3019),n(7771),n(1683)],void 0===(i=function(e,t,n,r,i,a,o,s,u){return{create:function(d,l){var c,f,E,p,m,b,h,g,_,T,A,S,y,v=e.create("MetaData"),R=0,O=[{type:o.APPLICATION_STATE_CHANGE,listener:function(e){switch(e.data.state){case a.LOADING:N(),n.add({target:d,listeners:I});break;case a.PAUSING:n.remove({target:d,listeners:I})}}},{type:o.TIME_OFFSET,listener:function(e){R=e.data.offset}},{type:o.STREAM_INFO,listener:function(){N()}},{type:s.UPDATE_SOURCE_SUCCESS,listener:function(){N()}},{type:s.SWITCH_STREAM_SUCCESS,listener:function(){N()}}],I=[{type:o.META_DATA,listener:function(e){v.debugEnabled()&&v.debug("onMetaData");var t,n,a=e.data[e.data.eventType];if(1===a.chunkIndex)"function"==typeof p.message.push&&0!==p.message.length&&d.emit(u.ERROR,{code:r.STREAM.METADATA_STILL_PROCESSING,message:i.STREAM.METADATA_STILL_PROCESSING}),E=!0,t=c&&f?T+A+.25:a.streamTime+R/1e3,n=isNaN(n)?3:parseInt(n,10),S=Math.floor(t*Math.pow(10,n))/Math.pow(10,n),y=a.handlerName,p={handlerName:y,streamTime:S,message:[]};else{if(0===p.message.length||"function"!=typeof p.message.push)return void(E&&(d.emit(u.ERROR,{code:r.STREAM.METADATA_NO_START_INDEX,message:i.STREAM.METADATA_NO_START_INDEX}),E=!1,p.message=[]));if(!E)return}if(p.message.push(a.message),p.message.length!==a.chunkIndex)E&&(d.emit(u.ERROR,{code:r.STREAM.METADATA_WRONG_INDEX,message:i.STREAM.METADATA_WRONG_INDEX}),E=!1,p.message=[]);else if(a.chunkCount-a.chunkIndex==0)try{g=p.message.join(""),y=p.handlerName,v.debugEnabled()&&v.debug("handlerName="+y+", metaData="+g),g=JSON.parse(g),p.message=g,_={handlerName:p.handlerName,streamTime:p.streamTime,message:p.message},m.push(_)}catch(e){d.emit(u.ERROR,{code:r.STREAM.METADATA_INVALID_JSON,message:i.STREAM.METADATA_INVALID_JSON})}}},{type:o.PLAY_STATS,listener:function(e){for(T=e.data.stats.currentTime,A=e.data.stats.buffer.delay.current;m.length;)(h=m.shift()).streamTime<=T?d.emit(u.RECEIVED,h):b.push(h);for(;b.length;)m.push(b.shift())}}];function N(){T=0,A=0,E=!0,p={handlerName:"",streamTime:0,serverTime:0,diffTime:0,message:[]},m=[],b=[]}return v.debugEnabled()&&v.debug("init"),c=t.mustUseHLS||l.playback.allowSafariHlsFallback&&t.canUseHLS,f=l.playback.metadataLowDelay,n.add({target:d,listeners:O}),{destroy:function(){n.remove({target:d,listeners:O})}}}}}.apply(t,r))||(e.exports=i)},6701:function(e,t,n){var r,i;r=[n(6637),n(8333),n(4762),n(708),n(5739),n(7844),n(6627)],void 0===(i=function(e,t,n,r,i,a,o){return{create:function(r){var s=t.create("Adaptive.AdaptionController"),u=!1,d={},l=[{type:n.CONFIG,listener:function(e){var t=e.data.config.source.options.adaption.rule,n=e.data.config.source.options.adaption;u=o.mustUseHLS||e.data.config.playback.allowSafariHlsFallback&&o.canUseHLS,n.useHLS=u,f(t)}},{type:n.UPDATE_SOURCE,listener:function(e){var t=e.data.source.options.adaption.rule,n=e.data.source.options.adaption;n.useHLS=u,f(t)}},{type:n.SWITCH_STREAM,listener:function(e){"direct"===e.data.type&&f("none")}},{type:n.SET_ADAPTION,listener:function(e){var t=e.data.adaption.rule,n=e.data.adaption;n.useHLS=u,f(t)}}],c={deviationOfMean:i,deviationOfMean2:a};function f(e,t){for(var n in d){const t=d[n];n!==e?(s.debugEnabled()&&s.debug("component disabled: "+n),t.disable()):(s.debugEnabled()&&s.debug("component enabled: "+n),t.enable())}}return function(){for(var t in s.debugEnabled()&&s.debug("initialize"),e.add({target:r,listeners:l}),c)d[t]=c[t].create(r)}(),{destroy:function(){for(var t in d)d[t].destroy();e.remove({target:r,listeners:l})}}}}}.apply(t,r))||(e.exports=i)},708:function(e,t){var n;void 0===(n=function(){var e="adaptionController.";return{BASE:e,SWITCH_SUGGESTION:e+"switchSuggestion"}}.apply(t,[]))||(e.exports=n)},8134:function(e,t){var n;void 0===(n=function(){var e="ressourceController.";return{BASE:e,STATS:e+"stats",BUFFERING:e+"buffering",INITIAL_SWITCH_UP:e+"initialSwitchUp",STREAM_INFO:e+"streamInfo",STREAM_QUALITY:e+"streamQuality",PAUSED:e+"paused",BUFFERING_LONG:e+"longBuffering"}}.apply(t,[]))||(e.exports=n)},3049:function(e,t,n){var r,i;r=[n(6637),n(8333),n(8197),n(4762),n(8134),n(3349),n(6400)],void 0===(i=function(e,t,n,r,i,a,o){return{create:function(n){var i=t.create("Adaptive.RessourceController"),s=[],u=[{type:r.CONFIG,listener:function(e){l(e.data.config.source.options.adaption.rule,e.data.config.source.options.adaption)}},{type:r.UPDATE_SOURCE,listener:function(e){l(e.data.source.options.adaption.rule,e.data.source.options.adaption)}},{type:r.SWITCH_STREAM,listener:function(e){"direct"===e.data.type&&l("none")}},{type:r.SET_ADAPTION,listener:function(e){l(e.data.adaption.rule,e.data.adaption)}}],d={deviationOfMean:a,deviationOfMean2:o};function l(e,t){for(;s.length;)s.pop().destroy();Object.prototype.hasOwnProperty.call(d,e)&&s.push(d[e].create(n,t))}return i.debugEnabled()&&i.debug("initialize"),e.add({target:n,listeners:u}),{destroy:function(){for(;s.length;)s.pop().destroy();e.remove({target:n,listeners:u})}}}}}.apply(t,r))||(e.exports=i)},7844:function(e,t,n){var r,i;r=[n(6637),n(8333),n(4762),n(708),n(8134),n(4035)],void 0===(i=function(e,t,n,r,i,a){return{create:function(o){var s,u,d=t.create("Adaptive.DeviationOfMean2.Adaption"),l=!0,c=!1,f=void 0,E=!1,p=0,m=!1,b=!1,h=!1,g=[{type:n.UPDATE_SOURCE_SUCCESS,listener:R},{type:n.UPDATE_SOURCE_FAIL,listener:O},{type:n.UPDATE_SOURCE_ABORT,listener:O},{type:n.SWITCH_STREAM_SUCCESS,listener:R},{type:n.SWITCH_STREAM_FAIL,listener:O},{type:n.SWITCH_STREAM_ABORT,listener:O},{type:n.LOADED_DATA,listener:function(){d.debugEnabled()&&d.debug("onLoadedData"),b=!0}},{type:n.TIME_OFFSET,listener:function(){d.debugEnabled()&&d.debug("onFirstFragmentRendered"),h=!0}},{type:i.STATS,listener:function(e){f&&(m||R(!1),function(e){if(!l){d.debugEnabled()&&d.debug("making switch suggestion allowed");var t,n,i=e.buffer.delay.bufferDelaysStandardDeviationsDev.length;d.debugEnabled()&&d.debug("bufferDelaysStandardDeviationsLength >= 5 && !wasAbortedHighest ?"),i>=5&&!N()&&(d.debugEnabled()&&d.debug("bufferDelaysStandardDeviationsLength >= 5 && !wasAbortedHighest !"),t=S(e.buffer.delay.bufferDelaysStandardDeviationsDev,5),n=S(e.buffer.delay.bufferDelaysArithmeticMeans,5),d.debugEnabled()&&d.debug("bufferDevationAboveValue && bufferCurrentHasMinimumValue ?"),function(e,t){d.debugEnabled()&&d.debug("bufferDevationAboveValue with limit 0.045");for(var n=!0,r=0;r<=e.length-1;r++)if(!T(e[r],.045)){n=!1;break}return n}(t)&&function(e,t){for(var n=!1,r=0;r<=e.length-1;r++)if(_(e[r],.5)){n=!0;break}return n}(n)&&(d.debugEnabled()&&d.debug("make suggestion to switch down"),y(!0),v(r.SWITCH_SUGGESTION,{suggestion:"down"}))),d.debugEnabled()&&d.debug("bufferDelaysStandardDeviationsLength >= 8 && !wasAbortedLowest ?"),i>=8&&!C()&&(d.debugEnabled()&&d.debug("bufferDelaysStandardDeviationsLength >= 8 && !wasAbortedLowest !"),function(e,t){d.debugEnabled()&&d.debug("bufferDevationBelowValue with limit 0.016");for(var n=!0,r=0;r<=e.length-1;r++)if(!_(e[r],.016)){n=!1;break}return n}(t=S(e.buffer.delay.bufferDelaysStandardDeviationsDev,8))&&(d.debugEnabled()&&d.debug("make suggestion to switch up"),y(!0),v(r.SWITCH_SUGGESTION,{suggestion:"up"})))}}(e.data.deviationOfMean2))}},{type:i.BUFFERING,listener:function(e){f&&(function(e){var t,n=e.data.startBufferings.length;l||N()||(d.debugEnabled()&&d.debug("evaluating buffering events allowed"),n>=2&&(d.debugEnabled()&&d.debug("startBufferingsLength "+n),t=S(e.data.startBufferings,3),d.debugEnabled()&&d.debug("startBufferingsCutOffLength >= 3 && isCriticalEventHistory ?"),t.length>=3&&A(t,10)?(d.debugEnabled()&&d.debug("startBufferingsCutOffLength >= 3 && isCriticalEventHistory !"),y(!0),v(r.SWITCH_SUGGESTION,{suggestion:"down",priority:1})):t.length>=2&&(t=S(e.data.startBufferings,2),d.debugEnabled()&&d.debug("startBufferingsCutOffLength >= 2 && isCriticalEventHistory ?"),A(t,10)&&(d.debugEnabled()&&d.debug("startBufferingsCutOffLength >= 2 && isCriticalEventHistory !"),y(!0),v(r.SWITCH_SUGGESTION,{suggestion:"down",priority:0})))))}(e),I())}},{type:i.STREAM_INFO,listener:function(){f&&R(!1)}},{type:i.STREAM_QUALITY,listener:function(e){f&&(p=e.data.streamQuality.timestamp.standardDeviation,d.debugEnabled()&&d.debug("serverStandardDeviation "+p))}},{type:i.PAUSED,listener:function(){f&&(D(),I())}},{type:i.BUFFERING_LONG,listener:function(){f&&(d.debugEnabled()&&d.debug("onBufferingLong"),y(!0),v(r.SWITCH_SUGGESTION,{suggestion:"down",priority:1}))}},{type:a.SUGGESTION_ABORT,listener:function(e){f&&(D(e.data.reason),O())}}];function _(e,t){return e<t}function T(e,t){return e>t}function A(e,t){d.debugEnabled()&&d.debug("isCriticalEventHistory with allowedTimeDifferenceSeconds "+t);var n=e.length;return function(e,t,n){return(t-e)/1e3<n}(e[0].timestamp,e[n-1].timestamp,t)}function S(e,t){var n=e.length;return n>0?e.slice(Math.max(n-t,0),n):[]}function y(e){d.debug((e?"allow":"deny")+" prediction"),e?(d.debugEnabled()&&d.debug("deny prediction"),clearTimeout(u),u=0,l=!0):u?d.debugEnabled()&&d.debug("allow prediction already in timeout"):(d.debugEnabled()&&d.debug("allow prediction in 3 seconds"),u=setTimeout((function(){d.debugEnabled()&&d.debug("allow prediction after timeout"),l=!1,u=0}),3e3))}function v(e,t){d.debugEnabled()&&d.debug("make suggestion to switch "+t.suggestion+(t.priority?" with priority "+t.priority:" without priority")),o.emit(e,t)}function R(e){f&&(d.debugEnabled()&&d.debug("success"),c||e||(m=!0,s&&clearTimeout(s),s=setTimeout((function(){d.debugEnabled()&&d.debug("initialSwitchUpTimeout elapsed"),(b||h)&&(d.debugEnabled()&&d.debug("initialSwitchUpTimeout to switch up"),y(!0),v(r.SWITCH_SUGGESTION,{suggestion:"up"}),h=!1,b=!1)}),5e3)),D(),y(!1))}function O(){f&&(d.debugEnabled()&&d.debug("error"),y(!1),I())}function I(){d.debugEnabled()&&d.debug("destroy initial switch up"),clearTimeout(s),c=!0}function N(){return"highest"===E}function C(){return"lowest"===E}function D(e){(E=e||!1)?d.debugEnabled()&&d.debug("aborted with reason: "+E):d.debugEnabled()&&d.debug("reset abort reason"),C()&&I()}return d.debugEnabled()&&d.debug("initialize"),e.add({target:o,listeners:g}),{destroy:function(){e.remove({target:o,listeners:g})},enable:function(){f=!0,d.debugEnabled()&&d.debug("enable initial switch up"),m=!1,c=!1,clearTimeout(s)},disable:function(){f=!1,I()}}}}}.apply(t,r))||(e.exports=i)},6400:function(e,t,n){var r,i;r=[n(492),n(6637),n(8333),n(5337),n(4762),n(8134)],void 0===(i=function(e,t,n,r,i,a){return{create:function(o){var s,u,d,l,c,f,E,p=n.create("Adaptive.DeviationOfMean2.Ressource"),m=!1,b=[],h=[],g=[],_=[],T=[{type:i.APPLICATION_STATE_CHANGE,listener:function(t){for(s||p.debugEnabled()&&p.debug("initial player state"),(s=t.data.state)===e.PAUSED&&"playbackrestart"!==t.data.reason&&(v(),o.emit(a.PAUSED,{paused:{}})),s===e.PLAYING&&h.length&&h[h.length-1].state===e.LOADING&&(p.debugEnabled()&&p.debug("setRessourceBlockTimeout from playing"),S());h.length>100;)h.shift();h.push({state:s,timestamp:performance.now()}),l&&R()}},{type:i.PLAY_STATS,listener:function(e){var t,n;m||(c.add(e.data.stats.buffer.delay.current),c.count%10==0&&(f.add(c.arithmetic),E.add(f.values[f.values.length-1]),g.add(E.deviation),_.add(g.deviation),t=c,(n=u.adaptive.buffer.delay).avg=t.arithmetic,n.min=t.minimum,n.max=t.maximum,n.deviation=t.deviation,n.samples=t.values.length,n.count=t.count,n.bufferDelaysArithmeticMeans=f.values,n.bufferDelaysStandardDeviations=g.values,n.bufferDelaysStandardDeviationsDev=_.values,o.emit(a.STATS,{deviationOfMean2:u.adaptive})))}},{type:i.BUFFERING,listener:function(t){for(p.debugEnabled()&&p.debug("push startBuffering!"),b.push({event:t.data,timestamp:performance.now()});b.length>10;)b.shift();m?p.debugEnabled()&&p.debug("block emit startBuffering!"):(p.debugEnabled()&&p.debug("emit startBuffering!"),o.emit(a.BUFFERING,{startBufferings:b})),p.debugEnabled()&&p.debug("setBufferingLongTimeout"),R(),l=setTimeout((function(){p.debugEnabled()&&p.debug("setBufferingLongTimeout fired"),s===e.BUFFERING?(p.debugEnabled()&&p.debug("setBufferingLongTimeout fired and still in buffering state"),o.emit(a.BUFFERING_LONG)):p.debugEnabled()&&p.debug("setBufferingLongTimeout fired and not in buffering state")}),3e3)}},{type:i.STREAM_INFO,listener:function(){o.emit(a.STREAM_INFO,{streamInfo:{}}),v()}},{type:i.STREAM_QUALITY,listener:function(e){o.emit(a.STREAM_QUALITY,{streamQuality:e.data.onStreamQuality})}},{type:i.UPDATE_SOURCE_SUCCESS,listener:A},{type:i.SWITCH_STREAM_SUCCESS,listener:A}];function A(){p.debugEnabled()&&p.debug("setRessourceBlockTimeout from success"),S()}function S(){p.debugEnabled()&&p.debug("setRessourceBlockTimeout"),y(!0),clearTimeout(d),d=setTimeout((function(){p.debugEnabled()&&p.debug("setRessourceBlockTimeout fired"),y(!1),s===e.BUFFERING?(p.debugEnabled()&&p.debug("setRessourceBlockTimeout fired but in buffering state"),o.emit(a.BUFFERING,{startBufferings:b})):(p.debugEnabled()&&p.debug("setRessourceBlockTimeout fired & not in buffering state"),v())}),2e3)}function y(e){p.debugEnabled()&&p.debug("setRessourceBlock "+(e?"true":"false")),m=e}function v(){for(p.debugEnabled()&&p.debug("reset stats"),u={adaptive:{buffer:{delay:{samples:0,frequency:1,avg:0,min:0,max:0,deviation:0,count:0}}}},f=r.create(20,1),E=r.create(10,1),c=r.create(10,1),g=r.create(10,1),_=r.create(10,1);b.length;)b.pop()}function R(){p.debugEnabled()&&p.debug("clearBufferingLongTimeout"),clearTimeout(l),l=0}return p.debugEnabled()&&p.debug("initialize"),v(),t.add({target:o,listeners:T}),{destroy:function(){t.remove({target:o,listeners:T})}}}}}.apply(t,r))||(e.exports=i)},5739:function(e,t,n){var r,i;r=[n(6637),n(8333),n(4762),n(708),n(8134),n(4035)],void 0===(i=function(e,t,n,r,i,a){return{create:function(o,s){var u,d,l=t.create("Adaptive.DeviationOfMean.Adaption"),c=!0,f=s&&s.useHLS?.035:.02,E=!1,p=void 0,m=!1,b=0,h=!1,g=!1,_=!1,T=[{type:n.UPDATE_SOURCE_SUCCESS,listener:I},{type:n.UPDATE_SOURCE_FAIL,listener:N},{type:n.UPDATE_SOURCE_ABORT,listener:N},{type:n.SWITCH_STREAM_SUCCESS,listener:I},{type:n.SWITCH_STREAM_FAIL,listener:N},{type:n.SWITCH_STREAM_ABORT,listener:N},{type:n.LOADED_DATA,listener:function(){l.debugEnabled()&&l.debug("onLoadedData"),g=!0}},{type:n.TIME_OFFSET,listener:function(){l.debugEnabled()&&l.debug("onFirstFragmentRendered"),_=!0}},{type:i.STATS,listener:function(e){p&&(h||I(!0),function(e){if(l.debugEnabled()&&l.debug("make switch suggestion ?"),!c){l.debugEnabled()&&l.debug("making switch suggestion allowed");var t,n,i=e.buffer.delay.bufferDelaysStandardDeviations.length;l.debugEnabled()&&l.debug("bufferDelaysStandardDeviationsLength >= 5 && !wasAbortedHighest ?"),i>=5&&!D()&&(l.debugEnabled()&&l.debug("bufferDelaysStandardDeviationsLength >= 5 && !wasAbortedHighest !"),t=v(e.buffer.delay.bufferDelaysStandardDeviations,5),n=v(e.buffer.delay.bufferDelaysArithmeticMeans,5),l.debugEnabled()&&l.debug("bufferDevationAboveValue && bufferCurrentHasMinimumValue ?"),function(e,t){l.debugEnabled()&&l.debug("bufferDevationAboveValue with limit 0.075");for(var n=!0,r=0;r<=e.length-1;r++)if(!S(e[r],.075)){n=!1;break}return n}(t)&&function(e,t){l.debugEnabled()&&l.debug("bufferCurrentHasMinimumValue with limit 0.5");for(var n=!1,r=0;r<=e.length-1;r++)if(A(e[r],.5)){n=!0;break}return n}(n)&&(l.debugEnabled()&&l.debug("bufferDevationAboveValue && bufferCurrentHasMinimumValue !"),l.debugEnabled()&&l.debug("make suggestion to switch down"),R(!0),O(r.SWITCH_SUGGESTION,{suggestion:"down"}))),l.debugEnabled()&&l.debug("bufferDelaysStandardDeviationsLength >= 8 && !wasAbortedLowest ?"),i>=8&&!w()&&(l.debugEnabled()&&l.debug("bufferDelaysStandardDeviationsLength >= 8 && !wasAbortedLowest !"),t=v(e.buffer.delay.bufferDelaysStandardDeviations,8),l.debugEnabled()&&l.debug("bufferDevationBelowValue ?"),function(e,t){l.debugEnabled()&&l.debug("bufferDevationBelowValue with limit "+t);for(var n=!0,r=0;r<=e.length-1;r++)if(!A(e[r],t)){n=!1;break}return n}(t,f)&&(l.debugEnabled()&&l.debug("bufferDevationBelowValue !"),l.debugEnabled()&&l.debug("make suggestion to switch up"),R(!0),O(r.SWITCH_SUGGESTION,{suggestion:"up"})))}}(e.data.deviationOfMean))}},{type:i.BUFFERING,listener:function(e){p&&(function(e){var t,n=e.data.startBufferings.length;l.debugEnabled()&&l.debug("evaluate buffering events ?"),c||D()||(l.debugEnabled()&&l.debug("evaluating buffering events allowed"),n>=2&&(l.debugEnabled()&&l.debug("startBufferingsLength "+n),t=v(e.data.startBufferings,3),l.debugEnabled()&&l.debug("startBufferingsCutOffLength >= 3 && isCriticalEventHistory ?"),t.length>=3&&y(t,10)?(l.debugEnabled()&&l.debug("startBufferingsCutOffLength >= 3 && isCriticalEventHistory !"),R(!0),O(r.SWITCH_SUGGESTION,{suggestion:"down",priority:1})):t.length>=2&&(t=v(e.data.startBufferings,2),l.debugEnabled()&&l.debug("startBufferingsCutOffLength >= 2 && isCriticalEventHistory ?"),y(t,10)&&(l.debugEnabled()&&l.debug("startBufferingsCutOffLength >= 2 && isCriticalEventHistory !"),R(!0),O(r.SWITCH_SUGGESTION,{suggestion:"down",priority:0})))))}(e),C())}},{type:i.STREAM_INFO,listener:function(){p&&I(!0)}},{type:i.STREAM_QUALITY,listener:function(e){p&&(b=e.data.streamQuality.timestamp.standardDeviation,l.debugEnabled()&&l.debug("serverStandardDeviation "+b))}},{type:i.PAUSED,listener:function(){p&&(U(),C())}},{type:i.BUFFERING_LONG,listener:function(){p&&(l.debugEnabled()&&l.debug("onBufferingLong"),R(!0),O(r.SWITCH_SUGGESTION,{suggestion:"down",priority:1}))}},{type:a.SUGGESTION_ABORT,listener:function(e){p&&(U(e.data.reason),N())}}];function A(e,t){return e<t}function S(e,t){return e>t}function y(e,t){l.debugEnabled()&&l.debug("isCriticalEventHistory with allowedTimeDifferenceSeconds "+t);var n=e.length;return function(e,t,n){return(t-e)/1e3<n}(e[0].timestamp,e[n-1].timestamp,t)}function v(e,t){var n=e.length;return n>0?e.slice(Math.max(n-t,0),n):[]}function R(e){l.debug((e?"allow":"deny")+" prediction"),e?(l.debugEnabled()&&l.debug("deny prediction"),clearTimeout(d),d=0,c=!0):d?l.debugEnabled()&&l.debug("allow prediction already in timeout"):(l.debugEnabled()&&l.debug("allow prediction in 3 seconds"),d=setTimeout((function(){l.debugEnabled()&&l.debug("allow prediction after timeout"),c=!1,d=0}),3e3))}function O(e,t){l.debugEnabled()&&l.debug("make suggestion to switch "+t.suggestion+(t.priority?" with priority "+t.priority:" without priority")),o.emit(e,t)}function I(e){p&&(l.debugEnabled()&&l.debug("success"),E||e||(h=!0,u&&clearTimeout(u),u=setTimeout((function(){l.debugEnabled()&&l.debug("initialSwitchUpTimeout elapsed"),(g||_)&&(l.debugEnabled()&&l.debug("initialSwitchUpTimeout to switch up"),R(!0),O(r.SWITCH_SUGGESTION,{suggestion:"up"}),_=!1,g=!1)}),5e3)),U(),R(!1))}function N(){p&&(l.debugEnabled()&&l.debug("error"),R(!1),C())}function C(){l.debugEnabled()&&l.debug("destroy initial switch up"),clearTimeout(u),E=!0}function D(){return"highest"===m}function w(){return"lowest"===m}function U(e){(m=e||!1)?l.debugEnabled()&&l.debug("aborted with reason: "+m):l.debugEnabled()&&l.debug("reset abort reason"),w()&&C()}return l.debugEnabled()&&l.debug("initialize"),e.add({target:o,listeners:T}),{destroy:function(){e.remove({target:o,listeners:T})},enable:function(){p=!0,l.debugEnabled()&&l.debug("reset initial switch up"),h=!1,E=!1,clearTimeout(u)},disable:function(){p=!1,C()}}}}}.apply(t,r))||(e.exports=i)},3349:function(e,t,n){var r,i;r=[n(492),n(6637),n(8333),n(8197),n(5337),n(4762),n(8134)],void 0===(i=function(e,t,n,r,i,a,o){return{create:function(r){var s,u,d,l,c,f,E,p=n.create("Adaptive.DeviationOfMean.Ressource"),m=!1,b=[],h=[],g=[],_=[{type:a.APPLICATION_STATE_CHANGE,listener:function(t){for(s||p.debugEnabled()&&p.debug("initial player state"),(s=t.data.state)===e.PAUSED&&"playbackrestart"!==t.data.reason&&(y(),r.emit(o.PAUSED,{paused:{}})),s===e.PLAYING&&h.length&&h[h.length-1].state===e.LOADING&&(p.debugEnabled()&&p.debug("setRessourceBlockTimeout from playing"),A());h.length>100;)h.shift();h.push({state:s,timestamp:performance.now()}),l&&v()}},{type:a.PLAY_STATS,listener:function(e){var t,n;m||(c.add(e.data.stats.buffer.delay.current),c.count%10==0&&(f.add(c.arithmetic),E.add(f.values[f.values.length-1]),g.add(E.deviation),t=c,(n=u.adaptive.buffer.delay).avg=t.arithmetic,n.min=t.minimum,n.max=t.maximum,n.deviation=t.deviation,n.samples=t.values.length,n.count=t.count,n.bufferDelaysArithmeticMeans=f.values,n.bufferDelaysStandardDeviations=g.values,r.emit(o.STATS,{deviationOfMean:u.adaptive})))}},{type:a.BUFFERING,listener:function(t){for(p.debugEnabled()&&p.debug("push startBuffering!"),b.push({event:t.data,timestamp:performance.now()});b.length>10;)b.shift();m?p.debugEnabled()&&p.debug("block emit startBuffering!"):(p.debugEnabled()&&p.debug("emit startBuffering!"),r.emit(o.BUFFERING,{startBufferings:b})),p.debugEnabled()&&p.debug("setBufferingLongTimeout"),v(),l=setTimeout((function(){p.debugEnabled()&&p.debug("setBufferingLongTimeout fired"),s===e.BUFFERING?(p.debugEnabled()&&p.debug("setBufferingLongTimeout fired and still in buffering state"),r.emit(o.BUFFERING_LONG)):p.debugEnabled()&&p.debug("setBufferingLongTimeout fired and not in buffering state")}),3e3)}},{type:a.STREAM_INFO,listener:function(){r.emit(o.STREAM_INFO,{streamInfo:{}}),y()}},{type:a.STREAM_QUALITY,listener:function(e){r.emit(o.STREAM_QUALITY,{streamQuality:e.data.onStreamQuality})}},{type:a.UPDATE_SOURCE_SUCCESS,listener:T},{type:a.SWITCH_STREAM_SUCCESS,listener:T}];function T(){p.debugEnabled()&&p.debug("setRessourceBlockTimeout from success"),A()}function A(){p.debugEnabled()&&p.debug("setRessourceBlockTimeout"),S(!0),clearTimeout(d),d=setTimeout((function(){p.debugEnabled()&&p.debug("setRessourceBlockTimeout fired"),S(!1),s===e.BUFFERING?(p.debugEnabled()&&p.debug("setRessourceBlockTimeout fired but in buffering state"),r.emit(o.BUFFERING,{startBufferings:b})):(p.debugEnabled()&&p.debug("setRessourceBlockTimeout fired & not in buffering state"),y())}),2e3)}function S(e){p.debugEnabled()&&p.debug("setRessourceBlock "+(e?"true":"false")),m=e}function y(){for(p.debugEnabled()&&p.debug("reset stats"),u={adaptive:{buffer:{delay:{samples:0,frequency:1,avg:0,min:0,max:0,deviation:0,count:0}}}},f=i.create(20,1),E=i.create(10,1),c=i.create(10,1),g=i.create(20,1);b.length;)b.pop()}function v(){p.debugEnabled()&&p.debug("clearBufferingLongTimeout"),clearTimeout(l),l=0}return p.debugEnabled()&&p.debug("initialize"),y(),t.add({target:r,listeners:_}),{destroy:function(){t.remove({target:r,listeners:_})}}}}}.apply(t,r))||(e.exports=i)},4762:function(e,t){var n;void 0===(n=function(){var e="sourceManager.";return{BASE:e,SERVER_INFO:e+"serverInfo",STREAM_INFO:e+"streamInfo",STREAM_INFO_UPDATE:e+"streamInfoUpdate",STREAM_QUALITY:e+"streamQuality",STREAM_FRAGMENT:e+"streamFragment",RANDOM_ACCESS_POINT:e+"randomAccessPoint",STREAM_URL:e+"streamUrl",CONFIG:e+"config",PLAYING:e+"playing",BUFFERING:e+"buffering",PLAY_STATS:e+"playStats",APPLICATION_STATE_CHANGE:e+"applicationStateChange",UPDATE_SOURCE:e+"updateSource",UPDATE_SOURCE_INIT:e+"updateSourceInit",UPDATE_SOURCE_SUCCESS:e+"updateSourceSuccess",UPDATE_SOURCE_FAIL:e+"updateSourceFail",UPDATE_SOURCE_ABORT:e+"updateSourceAbort",SWITCH_STREAM:e+"switchStream",SWITCH_STREAM_INIT:e+"switchStreamInit",SWITCH_STREAM_SUCCESS:e+"switchStreamSuccess",SWITCH_STREAM_FAIL:e+"switchStreamFail",SWITCH_STREAM_ABORT:e+"switchStreamAbort",SET_ADAPTION:e+"setAdaption",LOADED_DATA:e+"loadedData",TIME_OFFSET:e+"timeOffset",PUBLIC_EVENT:e+"publicEvent"}}.apply(t,[]))||(e.exports=n)},4035:function(e,t){var n;void 0===(n=function(){var e="switchController.";return{BASE:e,STREAM_SWITCH:e+"streamSwitch",SUGGESTION_ABORT:e+"suggestionAbort"}}.apply(t,[]))||(e.exports=n)},8307:function(e,t,n){var r,i;r=[n(8333),n(9658),n(6627),n(8197),n(6637),n(5055),n(164),n(3019),n(8983),n(7771),n(4762),n(708),n(8134),n(4035),n(6701),n(3049),n(4122)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l,c,f,E,p,m,b){"use strict";return{create:function(n){var r,i,c=new t,h=e.create("SourceManager"),g=[],_=[{from:f.STATS,to:o.STATS},{from:E.STREAM_SWITCH,to:o.STREAM_SWITCH}],T=[{from:s.CONFIG,to:l.CONFIG},{from:s.PLAY_STATS,to:l.PLAY_STATS},{from:s.FRAME_DROP,to:l.FRAME_DROP},{from:s.RANDOM_ACCESS_POINT,to:l.RANDOM_ACCESS_POINT},{from:s.STREAM_QUALITY,to:l.STREAM_QUALITY},{from:s.APPLICATION_STATE_CHANGE,to:l.APPLICATION_STATE_CHANGE},{from:s.UPDATE_SOURCE,to:l.UPDATE_SOURCE},{from:s.SWITCH_STREAM,to:l.SWITCH_STREAM},{from:s.PUBLIC_EVENT,to:l.PUBLIC_EVENT},{from:s.BUFFERING,to:l.BUFFERING},{from:s.SET_ADAPTION,to:l.SET_ADAPTION},{from:s.LOADED_DATA,to:l.LOADED_DATA},{from:s.TIME_OFFSET,to:l.TIME_OFFSET},{from:d.SERVER_INFO,to:l.SERVER_INFO},{from:d.UPDATE_SOURCE_INIT,to:l.UPDATE_SOURCE_INIT},{from:d.UPDATE_SOURCE_SUCCESS,to:l.UPDATE_SOURCE_SUCCESS},{from:d.UPDATE_SOURCE_FAIL,to:l.UPDATE_SOURCE_FAIL},{from:d.UPDATE_SOURCE_ABORT,to:l.UPDATE_SOURCE_ABORT},{from:d.SWITCH_STREAM_INIT,to:l.SWITCH_STREAM_INIT},{from:d.SWITCH_STREAM_SUCCESS,to:l.SWITCH_STREAM_SUCCESS},{from:d.SWITCH_STREAM_FAIL,to:l.SWITCH_STREAM_FAIL},{from:d.SWITCH_STREAM_ABORT,to:l.SWITCH_STREAM_ABORT},{from:u.CREATED,to:l.STREAM_INFO},{from:u.UPDATED,to:l.STREAM_INFO_UPDATE}];return h.debugEnabled()&&h.debug("init"),r=a.create(n,c,T),i=a.create(c,n,_),g.push(b.create(c)),g.push(p.create(c)),g.push(m.create(c)),{destroy:function(){for(r.destroy(),r=null,i.destroy(),i=null;g.length;)g.pop().destroy()}}}}}.apply(t,r))||(e.exports=i)},4122:function(e,t,n){var r,i;r=[n(6637),n(8333),n(8197),n(492),n(4762),n(4035),n(708)],void 0===(i=function(e,t,n,r,i,a,o){return{create:function(s){var u,d,l,c,f,E,p,m,b,h,g,_,T,A,S,y,v,R,O,I,N=t.create("SwitchRequestController"),C={},D=0,w=!1,U={},P=0,M=!1,L=0,F=0,k=[],x=0,B=60,H=120,G=null,V=!1,W=0,Y=!1,j=[{type:i.CONFIG,listener:function(e){var t;K(e.data.config.source),t=e.data.config.playback,l=t.faststart,z("init")}},{type:i.SWITCH_STREAM,listener:function(e){if("recover"===e.data.type){for(var t=0;t<Object.keys(U).length;t+=1){var n=Object.keys(U)[t];if(Object.prototype.hasOwnProperty.call(U,n)&&"down"===U[n][0]){e.data.index=U[n][1];break}}void 0===e.data.index&&(e.data.index=c)}var r;N.debugEnabled()&&N.debug("forced to switch to stream with index "+e.data.index),N.debugEnabled()&&N.debug("current stream has index "+c+" of "+(E-1)),(r=e.data.index)<E&&r>-1&&(f=e.data.index,"direct"===(w=e.data.type)&&(u.options.adaption.rule="none"),z(w))}},{type:i.UPDATE_SOURCE,listener:function(e){K(e.data.source),z(w="update")}},{type:i.APPLICATION_STATE_CHANGE,listener:function(e){switch(d||N.debugEnabled()&&N.debug("initial player state"),d=e.data.state){case r.PAUSED:ne()}}},{type:i.UPDATE_SOURCE_SUCCESS,listener:function(){w=!1,ne()}},{type:i.UPDATE_SOURCE_FAIL,listener:function(){w=!1}},{type:i.UPDATE_SOURCE_ABORT,listener:function(){w=!1}},{type:i.SWITCH_STREAM_INIT,listener:function(e){var t=e.data.tag;N.debugEnabled()&&N.debug('stream switch init with tag "'+t+'"')}},{type:i.SWITCH_STREAM_SUCCESS,listener:function(e){delete U[e.data.id];var t=e.data.tag,n=t.split(" streamSwitch "),r=e.data.type;"down"===r&&(M=!0,L=X()),"up"===r&&(F=X(),k.push(F)),N.debugEnabled()&&N.debug('stream switch success with tag "'+t+'"'),N.debugEnabled()&&N.debug("switch with id "+n[1]+" was successful, switch index changed from "+c+" to "+C[n[1]]),q(C[n[1]]),w=!1,ne()}},{type:i.SWITCH_STREAM_FAIL,listener:function(e){delete U[e.data.id];var t=e.data.tag,n=t.split(" streamSwitch ");N.debugEnabled()&&N.debug('stream switch fail with tag "'+t+'"'),N.debugEnabled()&&N.debug("switch with id "+n[1]+" has been failed with code "+e.data.code+", switch index stays at "+c),w=!1,G=e.data.entry.index,R=e.data.type,ee("switchStreamFailCount"),N.debugEnabled()&&N.debug("switchStreamFailCount: "+W)}},{type:i.SWITCH_STREAM_ABORT,listener:function(e){delete U[e.data.id];var t=e.data.tag,n=t.split(" streamSwitch ");N.debugEnabled()&&N.debug('stream switch abort with tag "'+t+'"'),N.debugEnabled()&&N.debug("switch with id "+n[1]+" has been aborted"+(e.data&&e.data.reason?" with reason '"+e.data.reason+"'":"")+", switch index stays at "+c),w=!1}},{type:i.SET_ADAPTION,listener:function(e){u.options.adaption=e.data.adaption}},{type:o.SWITCH_SUGGESTION,listener:function(e){var t,n=(t=e.data.suggestion,N.debugEnabled()&&N.debug("lastFailedSwitchID: "+G+", nextStreamIndex: "+f),(null===G||G===f)&&t===R||(ne(),!1));if(N.debugEnabled()&&N.debug("suggest stream to switch "+e.data.suggestion),N.debugEnabled()&&N.debug("current stream has index "+c+" of "+(E-1)),w&&(!e.data.priority||e.data.priority&&1!==e.data.priority))N.debugEnabled()&&N.debug("switch already initialized, abort"),ie("initialized");else if(w&&f===E-1&&e.data.priority)N.debugEnabled()&&N.debug("switch with priority to highest index already initialized, abort"),ie("initialized");else if((W>=3||1===W&&x>0)&&n)!function(){if(V||Y){if(V&&Y){ie("switch fail timeout in progress");var e=X()-y,t=J()-e;N.debugEnabled()&&N.debug("switchSuggestionTime "+P.toFixed(2)+"; timeout in sec: "+p+"; time left in sec: "+t.toFixed(2))}}else!function(){Y=!0;var e=J();N.debugEnabled()&&N.debug("timeout value based on retryCooldownCounter: "+e),y=X(),ie("switch fail timeout started"),ee("retryCooldownCounter"),v=setTimeout((function(){te(),V=!1}),1e3*e)}()}();else{if(w=void 0,e.data.suggestion)if("down"===e.data.suggestion)c<E-1?void 0===(f=Q("down",e.data.priority,u.options.adaption.downStep))?(N.debugEnabled()&&N.debug("suggest to switch down to the next possible quality but not possible due to omitted qualities, abort"),ie("omitted")):(w="down",V=!1,N.debugEnabled()&&N.debug("downswitch suggestion, no timeout applied")):(N.debugEnabled()&&N.debug("suggest to switch down but highest index reached, abort"),ie("highest"));else if("up"===e.data.suggestion){P=X(),b=Math.max(F,L),p=M?J():0,h=F>L?"up":"down";var r=P-b;if(0===c)N.debugEnabled()&&N.debug("suggest to switch up but lowest index reached, abort"),ie("lowest"),V=!1;else if(M&&r<p)switch(g=p-r,N.debugEnabled()&&N.debug("switchSuggestionTime "+P.toFixed(2)+"; lastSwitchTime "+b.toFixed(2)+"; timeout in sec: "+p+"; timeLeft: "+g.toFixed(2)),h){case"down":N.debugEnabled()&&N.debug("suggest to switch up but too less time passed since the last switch down"),ie("toofast");break;case"up":N.debugEnabled()&&N.debug("suggest to switch up but too less time passed since the last upswitch"),ie("toofast")}else void 0===(f=Q("up"))?(N.debugEnabled()&&N.debug("suggest to switch up to the next possible quality but not possible due to omitted qualities, abort"),ie("omitted")):(w="up",V=!1,N.debugEnabled()&&N.debug("after upswitch, no timeout applied"),I=H)}w?z(w):N.debugEnabled()&&N.debug("switch not initialized")}}}];function K(e){E=(u=e).entries.length,c=u.startIndex,f=u.startIndex}function z(e){N.debugEnabled()&&N.debug("apply switch to stream with index "+f),D=Math.round(1e11*Math.random()),C[D]=f,U[D]=[e,f],N.debugEnabled()&&N.debug("switch with id "+D+" should change switch index from "+c+" to "+f);var t,r,i=n.copy(u.options.switch);"recover"===e&&(i.timeout=10,i.method="client"),i.tag="update"===e?i.tag:(t=f,((r=u.entries[t].h5live).rtmp?r.rtmp.streamname:r.params&&r.params.stream)+" streamSwitch "+D),i.pauseOnError="update"===e||i.pauseOnError,N.debugEnabled()&&N.debug('switch has tag "'+i.tag+'"');var o={source:n.copy(u),rule:n.copy(u.options.adaption.rule),downStep:n.copy(u.options.adaption.downStep),entry:n.copy(u.entries[f]),options:n.copy(i),faststart:("init"===e||"update"===e)&&l,type:e,id:D};switch(s.emit(a.STREAM_SWITCH,o),e){case"init":N.debugEnabled()&&N.debug('stream switch init with tag "'+i.tag+'"'),N.debugEnabled()&&N.debug("switch with id "+D+" is type 'init', set initial index to "+f),q(f),re();break;case"update":case"direct":case"recover":re()}}function q(e){c=e}function X(){return(new Date).getTime()/1e3}function Q(e,t,n){N.debugEnabled()&&N.debug("getPossibleNextStreamIndex switchType: "+e+", priority: "+t);var r,i,a,o=(r=u.options.adaption.omitRenditions,i=[],a={high:0,"medium-high":Math.round(1*(E-1)/5),medium:Math.round(1*(E-1)/2),"medium-low":Math.round(4*(E-1)/5),low:E-1},Array.isArray(r)&&(i=(i=r.map((function(e){return isNaN(e)?a[e]:parseInt(e,10)}))).filter((function(e){return"number"==typeof e&&e>=0&&e<E})).filter((function(e,t,n){return n.indexOf(e)==t}))),i),s="down"===e,d=s?1===t?E-1:Math.min(c+n,E-1):c-1;if(!o||0===o.length)return N.debugEnabled()&&N.debug("no omitted qualities, return startIndex: "+d),d;for(var l=new Array(E),f=0;f<E;f++)l[f]=!0;for(var p=0;p<o.length;p++)l[o[p]]=!1;var m=s?function(e,t){var n;for(N.debugEnabled()&&N.debug("findDownSwitchCandidate downwards from startIndex: "+e),n=e;n<E;n++)if(t[n])return n;for(N.debugEnabled()&&N.debug("findDownSwitchCandidate upwards from startIndex: "+e),n=e-1;n>c;n--)if(t[n])return n}(d,l):function(e,t){N.debugEnabled()&&N.debug("findUpSwitchCandidate upwards from startIndex: "+e);for(var n=e;n>=0;n--)if(t[n])return n}(d,l);return N.debugEnabled()&&N.debug("indexCandidate: "+m),m}function J(){if(m=X(),O=p,Y){if(V)p=O;else switch(x){case 0:$(30);break;case 1:$(60);break;case 2:default:$(90)}return p}if(m<b)return 0;var e=Z(m,L),t=Math.abs(F-L);S=Z(m,_),A=Z(m,T);var n=O+10<e,r=!!(e>(O<=B?B:I+60));if(V)p=O;else if(F>0&&!V)if(t<30&&e<=I+10)$(_&&(F-_||F-T>0)&&(S>60&&S<180||A<300)?240:H);else if(!V&&n&&r)switch(O){case 30:case B:$(30);break;case H:$(B);break;case 240:$(H)}else $(B);else $(B);return p}function $(e){p=e,I=30===e?B:e,V=!0,N.debugEnabled()&&N.debug("applied timeout: "+e),240===p?T=X():p===H&&(_=X())}function Z(e,t){return e-t}function ee(e){if(null===G||G===f)switch(e){case"switchStreamFailCount":W++;break;case"retryCooldownCounter":x++}}function te(){W=0,Y=!1}function ne(){v&&(clearTimeout(v),v=null),te(),x=0}function re(){P=0,L=0,F=0,b=0,M=!1,V=!1,k=[],I=0,te(),x=0,N.debugEnabled()&&N.debug("reset time values")}function ie(e){s.emit(a.SUGGESTION_ABORT,{reason:e})}return N.debugEnabled()&&N.debug("initialize"),e.add({target:s,listeners:j}),{destroy:function(){e.remove({target:s,listeners:j})}}}}}.apply(t,r))||(e.exports=i)},5620:function(e,t,n){var r,i;r=[n(4556),n(8333),n(6627),n(6637),n(492),n(3019),n(519),n(8983)],void 0===(i=function(e,t,n,r,i,a,o,s){return{create:function(u){var d,l,c,f=t.create("StartupStatsCollector"),E=[],p=E[0]="connecting",m=E[1]="connected",b=E[2]="firstFragmentReceived",h=E[3]="firstFrameRendered",g=E[4]="playable",_=E[5]="playing",T={},A=null,S=!1,y=0,v=!1,R=[{type:a.APPLICATION_STATE_CHANGE,listener:function(e){switch(l=e.data.state){case i.LOADING:w(),r.add({target:u,listeners:d?C:O});break;default:w(),r.remove({target:u,listeners:d?C:O})}}},{type:a.CONFIG,listener:function(e){c=e.data.config.id,d=n.mustUseHLS||e.data.config.playback.allowSafariHlsFallback&&n.canUseHLS,v=e.data.config.playback.keepConnection,!d&&(O=O.concat(v?N:I)),S=e.data.config.playback.faststart}},{type:s.CREATED,listener:function(e){y=e.data.streamInfo.prerollDuration?e.data.streamInfo.prerollDuration:0}}],O=[{type:a.STREAM_FRAGMENT,listener:L},{type:a.LOADED_DATA,listener:F},{type:a.CAN_PLAY_THROUGH,listener:k},{type:a.PLAYING,listener:x}],I=[{type:a.NETWORK_CONNECTING,listener:P},{type:a.NETWORK_CONNECTED,listener:M}],N=[{type:a.NETWORK_PLAY,listener:P},{type:a.NETWORK_PLAY,listener:M}],C=[{type:a.PLAY,listener:P},{type:a.DURATION_CHANGE,listener:M},{type:a.LOADED_META_DATA,listener:L},{type:a.LOADED_DATA,listener:F},{type:a.CAN_PLAY_THROUGH,listener:k},{type:a.PLAYING,listener:x}];function D(t){if(l===i.LOADING)if(f.debugEnabled()&&f.debug("enabled, should set stat: "+t),-1===T[t])for(var n=function(e){for(var t=[],n=E.indexOf(e);n>=0;)-1===T[E[n]]&&(e!==_||e===_&&-1!==[b,h,g].indexOf(A))?(t.unshift(E[n]),n--):n=-1;return t.length&&(A=e),f.debugEnabled()&&f.debug(t.length?'valid labels are "'+t.join('", "')+'"':"no valid labels found"),t}(t),r=0,a=n.length;r<a;r+=1)t=n[r],-1===T[t]&&(f.debugEnabled()&&f.debug("set stat: "+t),T[t]=e.now(),e.mark(["nano",c,t].join(".")),f.debug(t+": "+T[t]),U());else f.debugEnabled()&&f.debug("stat already set");else f.debugEnabled()&&f.debug("disabled, shouldn't set stat: "+t)}function w(){A=null;for(var e=0;e<E.length;e++)T[E[e]]=-1}function U(){for(var e=E.length-1;e>0;e--)(T[E[e]]<T[E[e-1]]||-1===T[E[e-1]])&&-1!==T[E[e]]&&(T[E[e-1]]=T[E[e]]);var t=T[p],n={};for(var r in T)Object.prototype.hasOwnProperty.call(T,r)&&-1!==T[r]&&(n[r]=Math.round(T[r]-t));var i={stats:n,faststart:S,prerollDuration:1e3*y};6===n.length||A===_?function(e){u.emit(o.COMPLETED,e),f.debugEnabled()&&f.debug("created startup stats: "+JSON.stringify(e))}(i):function(e){u.emit(o.ADDED,e),f.debugEnabled()&&f.debug("added startup stats: "+JSON.stringify(e))}(i)}function P(e){(!d||d&&e.data.external)&&D(p)}function M(){D(m),d&&B("remove",a.DURATION_CHANGE,M)}function L(){D(b),!d&&B("remove",a.STREAM_FRAGMENT,L)}function F(){D(h)}function k(){D(g)}function x(){D(_)}function B(e,t,n){r[e]({target:u,listeners:[{type:t,listener:n}]})}return w(),r.add({target:u,listeners:R}),{destroy:function(){r.remove({target:u,listeners:R})}}}}}.apply(t,r))||(e.exports=i)},5444:function(e,t,n){var r,i;r=[n(8333),n(6627),n(6637),n(3019),n(8983),n(492),n(7605),n(8730)],void 0===(i=function(e,t,n,r,i,a,o,s){return{create:function(u){var d,l,c,f,E,p=e.create("StreamInfo"),m=[{type:r.APPLICATION_STATE_CHANGE,listener:function(e){d=e.data.state}},{type:r.CONFIG,listener:function(e){l=t.mustUseHLS||e.data.config.playback.allowSafariHlsFallback&&t.canUseHLS}},{type:r.STREAM_INFO,listener:function(e){d!==a.READY&&b(i.CREATED,e)}},{type:r.STREAM_INFO_UPDATE,listener:function(e){d!==a.BUFFERING&&d!==a.PLAYING||b(i.UPDATED,e)}},{type:r.STREAM_URL,listener:function(e){f=e.data.url,E=function(e){for(var t={},n=e.indexOf("?")+1,r=("&"+e.substring(n)).split("&"),i=0;i<r.length;i+=1){var a=r[i].split("=");2===a.length&&(t[a[0]]=decodeURIComponent(a[1]))}return t}(f)}},{type:r.CAN_PLAY,listener:function(e){l&&(p.debugEnabled()&&p.debug("create streamInfo for hls on canPlay"),(c={haveAudio:e.data.haveAudio,haveVideo:e.data.haveVideo,prerollDuration:0,audioInfo:e.data.haveAudio?{bitsPerSample:null,channels:null,sampleRate:null}:null,videoInfo:e.data.haveVideo?{width:e.data.videoWidth,height:e.data.videoHeight,frameRate:null}:null}).url=f,c.rtmp=h(),p.debugEnabled()&&p.debug("created streamInfo for hls: "+JSON.stringify(c)),setTimeout((function(){u.emit(i.CREATED,{streamInfo:c})}),0))}}];function b(e,t){c=t.data.onStreamInfo,p.debugEnabled()&&p.debug("handle streamInfo with "+e+": "+JSON.stringify(c));var n=c&&c.mimeType?c.mimeType:s.MP4_MS;if(window.MediaSource&&window.MediaSource.isTypeSupported(n)||window.ManagedMediaSource&&window.ManagedMediaSource.isTypeSupported(n)){var r={},a=[];for(var d in o)if(Object.prototype.hasOwnProperty.call(o,d)){var l=o[d];Object.prototype.hasOwnProperty.call(o,d)&&Object.prototype.hasOwnProperty.call(c,l)&&-1===a.indexOf(l)&&(r[l]=c[l])}(c=r).url=f,c.rtmp=h(),p.debugEnabled()&&p.debug("parsed streamInfo with "+e+": "+JSON.stringify(c)),u.emit(e,{streamInfo:c})}else u.emit(i.MIME_TYPE_UNSUPPORTED)}function h(){return{streamname:E.stream?E.stream:"",url:E.url?E.url:""}}return p.debugEnabled()&&p.debug("init"),n.add({target:u,listeners:m}),{destroy:function(){n.remove({target:u,listeners:m})}}}}}.apply(t,r))||(e.exports=i)},4600:function(e,t,n){var r,i;r=[n(8333),n(6627),n(6637),n(3019),n(3667),n(492)],void 0===(i=function(e,t,n,r,i,a){var o=2e4,s=2e4;return{create:function(t){var u,d=e.create("Timeout"),l=0,c=0,f=[{type:r.APPLICATION_STATE_CHANGE,listener:function(e){switch(u=e.data.state){case a.READY:case a.PLAYING:case a.PAUSED:clearTimeout(l),clearTimeout(c)}var n;u===a.BUFFERING?(clearTimeout(c),c=setTimeout((function(){t.emit(i.BUFFERING_TIMEOUT,{delay:s})}),s)):clearTimeout(c),u===a.LOADING&&(n=e.data.connectDelay,clearTimeout(l),l=setTimeout((function(){t.emit(i.LOADING_TIMEOUT,{delay:o+n})}),o+n))}},{type:r.CONFIG,listener:function(e){var t=e.data.config,n=1e3*t.playback.timeouts.loading,r=1e3*t.playback.timeouts.buffering;o=Math.max(Math.min(n,6e4),1e4),s=Math.max(Math.min(r,6e4),1e4)}},{type:r.UPDATE_SOURCE_INIT,listener:function(){clearTimeout(l),clearTimeout(c)}},{type:r.MEDIA_ERROR_RECOVER,listener:function(){clearTimeout(l),clearTimeout(c)}}];return d.debugEnabled()&&d.debug("init"),n.add({target:t,listeners:f}),{destroy:function(){clearTimeout(l),clearTimeout(c),n.remove({target:t,listeners:f})}}}}}.apply(t,r))||(e.exports=i)},4351:function(e,t,n){var r,i;r=[n(6637),n(8333),n(3019),n(2450)],void 0===(i=function(e,t,n,r){return{create:function(i){var a,o,s,u=t.create("VisibilityProxy"),d=!1,l=[{type:n.APPLICATION_STATE_CHANGE,listener:function(e){s||(u.debugEnabled()&&u.debug("initial player state"),c()),s=e.data.state}}];function c(){d=document[a],u.debug(d?"hidden":"visible"),i.emit(d?r.HIDDEN:r.VISIBLE)}return u.debugEnabled()&&u.debug("initialize"),e.add({target:i,listeners:l}),void 0!==document.hidden?(a="hidden",o="visibilitychange"):void 0!==document.msHidden?(a="msHidden",o="msvisibilitychange"):void 0!==document.webkitHidden&&(a="webkitHidden",o="webkitvisibilitychange"),document.addEventListener(o,c),{destroy:function(){e.remove({target:i,listeners:l}),document.removeEventListener(o,c)}}}}}.apply(t,r))||(e.exports=i)},941:function(e,t){var n;void 0===(n=function(){return{validateBuffer:function(e,t){var n="dynamic"===(t=t||"")?["offsetThreshold","offsetStep","cooldownTime"]:["min","start","target","limit","max"],r=n.filter((function(t){return!Object.prototype.hasOwnProperty.call(e,t)}));if(r.length)return{success:!1,reason:"The buffer config is invalid, it must contain "+r.join(", ")+". Reset to default."};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&"number"!=typeof e[n[i]])return{success:!1,reason:"The "+(t.length?t+" ":t)+"buffer config is invalid, the value '"+n[i]+"' have to be a number. Reset to default."};return{success:!0}}}}.apply(t,[]))||(e.exports=n)},6432:function(e,t,n){var r,i;r=[n(8197)],void 0===(i=function(e){var t="?",n=null,r=null;return{create:function(){var i=function(){n=null,t="?",r=null};return{initURL:function(a,o){return i(),r=e.copy(a),n=r.server[o],t="?",this},processConfigQuery:function(e){for(var n in r.query)if(!1!==r.query[n]&&Object.prototype.hasOwnProperty.call(r.query,n)){let i=null;i="cid"===n?Math.round(1e6*Math.random()).toString():"pid"!==n||r.query[n].length?r.query[n]:e,null===i&&void 0!==i||!i.length||(t+=n+"="+encodeURIComponent(i)+"&",r.query[n]=i)}return this},processConfigFlags:function(e){return r.query.flags=Object.keys(e).join(","),this},processSecurity:function(){for(var e in r.security)Object.prototype.hasOwnProperty.call(r.security,e)&&r.security[e].length&&(t+=e+"="+encodeURIComponent(r.security[e])+"&");return this},buildConnectionURL:function(){return t.lastIndexOf("&")===t.length-1&&(t=t.substring(0,t.length-1)),r.url=n+t,this},reset:i,get connectionConfig(){return r}}}}}.apply(t,r))||(e.exports=i)},2706:function(e,t){var n;void 0===(n=function(){var e=null;function t(){return{server:{websocket:"",hls:"",progressive:""},query:{url:"",stream:"",cid:"",pid:"",token:"",flags:""},security:null}}return{create:function(n){var r=function(){e=null};return{initConfig:function(){return r(),e=new t,n.debugEnabled()&&n.debug("set connection config",3),this},setServer:function(t){if("object"!=typeof t)return this;for(var r=["websocket","hls","progressive"],i=0;i<r.length;i++)t[r[i]]&&"string"==typeof t[r[i]]&&0!==t[r[i]].length&&(e.server[r[i]]=t[r[i]]);return n.debugEnabled()&&n.debug("set connection server: "+JSON.stringify(e.server),3),this},setRtmp:function(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=r.replace("name","");Object.prototype.hasOwnProperty.call(e.query,i)&&(e.query[i]=t[r],n.debugEnabled()&&n.debug("set connection config rtmp: "+i+":"+e.query[i]))}return this},setToken:function(t){return t?(Object.prototype.hasOwnProperty.call(e.query,"token")&&(e.query.token=t,n.debugEnabled()&&n.debug("set connection config token: "+e.query.token)),this):this},setQueryParams:function(t){if("object"!=typeof t)return this;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e.query[r]=t[r],n.debugEnabled()&&n.debug("set connection param: "+r+":"+e.query[r]));return this},addQueryParam:function(t,n){return t&&(e.query[t]=n),this},setSecurity:function(t){if(t)for(var r in e.security={},n.debugEnabled()&&n.debug("set security config",3),t)Object.prototype.hasOwnProperty.call(t,r)&&t[r].length&&(e.security[r]=t[r],n.debugEnabled()&&n.debug("set security config "+r+": "+e.security[r]));return this},reset:r,get connectionConfig(){return e}}}}}.apply(t,[]))||(e.exports=n)},3763:function(e,t){var n;void 0===(n=function(){return{BASE:"",LOAD_START:"loadstart",PROGRESS:"progress",SUSPEND:"suspend",ABORT:"abort",EMPTIED:"emptied",STALLED:"stalled",PLAY:"play",PAUSE:"pause",LOADED_META_DATA:"loadedmetadata",LOADED_DATA:"loadeddata",WAITING:"waiting",ERROR:"error",PLAYING:"playing",CAN_PLAY:"canplay",CAN_PLAY_THROUGH:"canplaythrough",SEEKING:"seeking",SEEKED:"seeked",TIME_UPDATE:"timeupdate",ENDED:"ended",RATE_CHANGE:"ratechange",DURATION_CHANGE:"durationchange",VOLUME_CHANGE:"volumechange"}}.apply(t,[]))||(e.exports=n)},5304:function(e,t){var n;void 0===(n=function(){return{ABORT_ERROR:"AbortError",NOT_ALLOWED_ERROR:"NotAllowedError"}}.apply(t,[]))||(e.exports=n)},855:function(e,t){var n;void 0===(n=function(){return Object.freeze({MEDIA_ERR_ABORTED:MediaError.MEDIA_ERR_ABORTED,MEDIA_ERR_NETWORK:MediaError.MEDIA_ERR_NETWORK,MEDIA_ERR_DECODE:MediaError.MEDIA_ERR_DECODE,MEDIA_ERR_SRC_NOT_SUPPORTED:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED,MEDIA_ERR_HLS_VIDEO_DECODE:5,MEDIA_ERR_MEDIA_SOURCE_ENDED:100,MEDIA_ERR_HLS_BUFFER_UNDERRUN:101,MEDIA_ERR_HLS_MAX_RANGE:102,MEDIA_ERR_HLS_JUMP:1008})}.apply(t,[]))||(e.exports=n)},5865:function(e,t){var n;void 0===(n=function(){return{BASE:"",SOURCE_OPEN:"sourceopen",SOURCE_ENDED:"sourceended",SOURCE_CLOSED:"sourceclosed"}}.apply(t,[]))||(e.exports=n)},7990:function(e,t){var n;void 0===(n=function(){return{BASE:"",ABORT:"abort",ERROR:"error",UPDATE:"update",UPDATE_START:"updatestart",UPDATE_END:"updateend"}}.apply(t,[]))||(e.exports=n)},8250:function(e,t){var n;void 0===(n=function(){var e="mediaControl.";return{BASE:e,CREATE_VIDEO:e+"createVideo",DESTROY_VIDEO:e+"destroyVideo",VIDEO_SOURCE:e+"videoSource",UPDATE_SOURCE:e+"updateSource",PLAY:e+"play",PAUSE:e+"pause",SEEK:e+"seek",MUTE:e+"mute",UNMUTE:e+"unmute",SET_VOLUME:e+"volume",SET_RATE:e+"playbackRate"}}.apply(t,[]))||(e.exports=n)},9437:function(e,t){var n;void 0===(n=function(){var e="mediaManager.";return{BASE:e,CONFIG:e+"config",SERVER_INFO:e+"serverInfo",STREAM_INFO:e+"streamInfo",STREAM_INFO_UPDATE:e+"streamInfoUpdate",STREAM_FRAGMENT:e+"streamFragment",RANDOM_ACCESS_POINT:e+"randomAccessPoint",APPLICATION_STATE_CHANGE:e+"applicationStateChange",STARTUP_STATS_ADDED:e+"startupStatsAdded",STARTUP_STATS_COMPLETED:e+"startupStatsCompleted",DOCUMENT_VISIBLE:e+"documentVisible",DOCUMENT_HIDDEN:e+"documentHidden",NETWORK_ONLINE:e+"networkOnline",NETWORK_OFFLINE:e+"networkOffline",SWITCH_STREAM_INIT:e+"switchStreamInit",SWITCH_STREAM_SUCCESS:e+"switchStreamSuccess",SWITCH_STREAM_ABORT:e+"switchStreamAbort",SWITCH_STREAM_FAIL:e+"switchStreamFail",UPDATE_SOURCE_INIT:e+"updateSourceInit",UPDATE_SOURCE_SUCCESS:e+"updateSourceSuccess",UPDATE_SOURCE_ABORT:e+"updateSourceAbort",UPDATE_SOURCE_FAIL:e+"updateSourceFail",BUFFER_TWEAKS_CREATED:e+"bufferTweaksCreated"}}.apply(t,[]))||(e.exports=n)},1667:function(e,t){var n;void 0===(n=function(){var e="statsCollector.";return{BASE:e,PLAY_STATS:e+"playStats",MEDIA_ERROR_RECOVER_STATS:e+"mediaErrorRecoverStats"}}.apply(t,[]))||(e.exports=n)},1358:function(e,t,n){var r,i;r=[n(9658),n(6637),n(5055),n(9673),n(680),n(594),n(1376),n(8250),n(9437),n(1667),n(4856),n(5075),n(2657)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l,c,f){"use strict";return{create:function(t){var E,p,m=new e,b=[],h=[{from:c.LOADED_META_DATA,to:a.LOADED_META_DATA},{from:c.LOADED_DATA,to:a.LOADED_DATA},{from:c.PLAYING,to:a.PLAYING},{from:c.CAN_PLAY,to:a.CAN_PLAY},{from:c.CAN_PLAY_THROUGH,to:a.CAN_PLAY_THROUGH},{from:c.DURATION_CHANGE,to:a.DURATION_CHANGE},{from:c.VOLUME_CHANGE,to:a.VOLUME_CHANGE},{from:c.PLAY_START_ABORT_ERROR,to:a.PLAY_START_ABORT_ERROR},{from:c.PLAY_START_NOT_ALLOWED_ERROR,to:a.PLAY_START_NOT_ALLOWED_ERROR},{from:c.VIEWPORT_VISIBLE,to:a.VIEWPORT_VISIBLE},{from:c.VIEWPORT_HIDDEN,to:a.VIEWPORT_HIDDEN},{from:c.UPDATE_SOURCE_ABORT,to:a.UPDATE_SOURCE_ABORT},{from:c.UPDATE_SOURCE_FAIL,to:a.UPDATE_SOURCE_FAIL},{from:c.UPDATE_SOURCE_TIMEOUT,to:a.UPDATE_SOURCE_TIMEOUT},{from:c.ACTIVE_VIDEO_ELEMENT_CHANGE,to:a.ACTIVE_VIDEO_ELEMENT_CHANGE},{from:c.SWITCH_STREAM,to:s.SWITCH_STREAM},{from:c.MEDIA_ERROR,to:a.MEDIA_ERROR},{from:c.MEDIA_ERROR_RECOVER,to:a.MEDIA_ERROR_RECOVER},{from:c.MEDIA_ERROR_RECOVERED,to:a.MEDIA_ERROR_RECOVERED},{from:c.PLAYBACK_SUSPENDED,to:a.PLAYBACK_SUSPENDED},{from:c.OFFLINE_BUFFER_UNDERRUN,to:a.OFFLINE_BUFFER_UNDERRUN},{from:c.QUALITY_STATS,to:a.QUALITY_STATS},{from:c.FRAME_DROP,to:a.FRAME_DROP},{from:c.FRAME_CORRUPTED,to:a.FRAME_CORRUPTED},{from:c.SOURCE_ENDED,to:a.PLAYBACK_FINISHED},{from:c.PLAYBACK_STARTED,to:a.PLAYBACK_STARTED},{from:c.BUFFERING,to:a.BUFFERING},{from:c.TIME_OFFSET,to:a.TIME_OFFSET},{from:d.PLAY_STATS,to:a.PLAY_STATS},{from:d.MEDIA_ERROR_RECOVER_STATS,to:a.MEDIA_ERROR_RECOVER_STATS}],g=[{from:r.CREATE_VIDEO,to:s.CREATE_VIDEO},{from:r.DESTROY_VIDEO,to:s.DESTROY_VIDEO},{from:r.VIDEO_SOURCE,to:s.VIDEO_SOURCE},{from:r.PLAY,to:s.PLAY},{from:r.PAUSE,to:s.PAUSE},{from:r.SEEK,to:s.SEEK},{from:r.MUTE,to:s.MUTE},{from:r.UNMUTE,to:s.UNMUTE},{from:r.SET_VOLUME,to:s.SET_VOLUME},{from:r.SET_RATE,to:s.SET_RATE},{from:r.UPDATE_SOURCE,to:s.UPDATE_SOURCE},{from:r.CONFIG,to:u.CONFIG},{from:o.SERVER_INFO,to:u.SERVER_INFO},{from:o.STREAM_FRAGMENT,to:u.STREAM_FRAGMENT},{from:o.RANDOM_ACCESS_POINT,to:u.RANDOM_ACCESS_POINT},{from:o.ONLINE,to:u.NETWORK_ONLINE},{from:o.OFFLINE,to:u.NETWORK_OFFLINE},{from:i.STATE_CHANGE,to:u.APPLICATION_STATE_CHANGE},{from:i.STARTUP_STATS_ADDED,to:u.STARTUP_STATS_ADDED},{from:i.STARTUP_STATS_COMPLETED,to:u.STARTUP_STATS_COMPLETED},{from:i.DOCUMENT_VISIBLE,to:u.DOCUMENT_VISIBLE},{from:i.DOCUMENT_HIDDEN,to:u.DOCUMENT_HIDDEN},{from:i.STREAM_INFO,to:u.STREAM_INFO},{from:i.STREAM_INFO_UPDATE,to:u.STREAM_INFO_UPDATE},{from:i.SWITCH_STREAM_INIT,to:u.SWITCH_STREAM_INIT},{from:i.SWITCH_STREAM_SUCCESS,to:u.SWITCH_STREAM_SUCCESS},{from:i.SWITCH_STREAM_ABORT,to:u.SWITCH_STREAM_ABORT},{from:i.SWITCH_STREAM_FAIL,to:u.SWITCH_STREAM_FAIL},{from:i.UPDATE_SOURCE_INIT,to:u.UPDATE_SOURCE_INIT},{from:i.UPDATE_SOURCE_SUCCESS,to:u.UPDATE_SOURCE_SUCCESS},{from:i.BUFFER_TWEAKS_CREATED,to:u.BUFFER_TWEAKS_CREATED}];return E=n.create(t,m,g),p=n.create(m,t,h),b.push(f.create(m)),b.push(l.create(m)),{destroy:function(){for(;b.length;)b.pop().destroy();E.destroy(),E=null,p.destroy(),p=null}}}}}.apply(t,r))||(e.exports=i)},476:function(e,t,n){var r,i;r=[n(8333),n(6637),n(5698),n(291)],void 0===(i=function(e,t,n,r){return{create:function(i){var a,o=e.create("FakeAudioContext"),s=[{type:n.STREAM_INFO,listener:function(e){u(),e.data.streamInfo.haveAudio||(window.AudioContext=window.AudioContext||window.webkitAudioContext||function(){return{close:function(){}}},a=new AudioContext)}},{type:r.PAUSE,listener:u}];function u(){a&&"function"==typeof a.close&&(a.close(),a=null)}return o.debugEnabled()&&o.debug("initialize"),t.add({target:i,listeners:s}),{destroy:function(){u(),t.remove({target:i,listeners:s})}}}}}.apply(t,r))||(e.exports=i)},4972:function(e,t,n){var r,i;r=[n(8333),n(6627),n(6637),n(5698),n(9804),n(2653),n(1447),n(855),n(492)],void 0===(i=function(e,t,n,r,i,a,o,s,u){return{create:function(d){var l,c=e.create("FrameCorruptedHandler"),f=!1,E=!1,p=!1,m=[{type:r.APPLICATION_STATE_CHANGE,listener:function(e){switch(l=e.data.state){case u.PLAYING:case u.BUFFERING:break;case u.PAUSED:p=!1}}},{type:r.CONFIG,listener:function(e){E=t.mustUseHLS||e.data.config.playback.allowSafariHlsFallback&&t.canUseHLS}},{type:r.DOCUMENT_VISIBLE,listener:b},{type:r.DOCUMENT_HIDDEN,listener:b},{type:o.FRAME_CORRUPTED,listener:function(e){if(!p&&(c.debugEnabled()&&c.debug("frame corrupted"),c.debugEnabled()&&c.debug(JSON.stringify(e.data)),"extreme"===e.data.type&&!f&&E&&l===u.PLAYING)){c.debugEnabled()&&c.debug("visible and extreme frame corrupted detected (hls)");var t={code:s.MEDIA_ERR_HLS_VIDEO_DECODE};d.emit(i.ERROR,t)}}},{type:a.RECOVER,listener:function(){c.debugEnabled()&&c.debug("media error recover"),p=!0}},{type:a.RECOVERED,listener:function(){c.debugEnabled()&&c.debug("media error recovered"),p=!1}}];function b(e){f=e.name===r.DOCUMENT_HIDDEN,c.debug(f?"hidden":"visible")}return c.debugEnabled()&&c.debug("initialize"),n.add({target:d,listeners:m}),{destroy:function(){n.remove({target:d,listeners:m})}}}}}.apply(t,r))||(e.exports=i)},1705:function(e,t,n){var r,i;r=[n(8333),n(6637),n(5698),n(683),n(1447),n(5997),n(492)],void 0===(i=function(e,t,n,r,i,a,o){return{create:function(s){var u,d=e.create("FrameDropHandler"),l=[],c=!1,f=0,E=[{type:n.APPLICATION_STATE_CHANGE,listener:function(e){switch(u=e.data.state){case o.PLAYING:case o.BUFFERING:break;case o.PAUSED:b()}}},{type:n.RANDOM_ACCESS_POINT,listener:function(e){for(l.push(e.data.onRandomAccessPoint.streamTime/1e3+f/1e3);l.length>10;)l.shift()}},{type:r.TIME_OFFSET,listener:function(e){f=e.data.offset}},{type:i.FRAME_DROP,listener:function(e){var t;d.debugEnabled()&&d.debug("frame drop"),d.debugEnabled()&&d.debug(JSON.stringify(e.data)),"extreme"!==e.data.type||c||u!==o.PLAYING||(d.debugEnabled()&&d.debug("visible and extreme frame drop detected (edge)"),d.debugEnabled()&&d.debug("try seeking to last RAP to get stable playback"),t=l.length?l[l.length-1]:0,d.debugEnabled()&&d.debug("seeking to "+t),s.emit(n.SEEK,{position:t}))}}],p=[{type:a.VIEWPORT_VISIBLE,listener:m},{type:a.VIEWPORT_HIDDEN,listener:m}];function m(e){c=e.name!==a.VIEWPORT_VISIBLE,d.debugEnabled()&&d.debug("viewport changed to "+(c?"hidden":"visible"))}function b(){for(;l.length;)l.shift();f=0}return d.debugEnabled()&&d.debug("initialize"),b(),t.add({target:s,listeners:E}),t.add({target:s,listeners:p}),{destroy:function(){t.remove({target:s,listeners:E}),t.remove({target:s,listeners:p})}}}}}.apply(t,r))||(e.exports=i)},2885:function(e,t,n){var r,i;r=[n(8333),n(6627),n(6637),n(5698),n(291),n(5980),n(492)],void 0===(i=function(e,t,n,r,i,a,o){return{create:function(s){var u,d,l=.3,c=e.create("GapHandler"),f=0,E=0,p=[{type:r.APPLICATION_STATE_CHANGE,listener:function(e){u=e.data.state,n.remove({target:s,listeners:m}),(t.isTridentBrowser&&u===o.PLAYING||!t.isTridentBrowser&&u!==o.BUFFERING&&u!==o.PAUSED)&&(f=0,n.add({target:s,listeners:m}))}}],m=[{type:a.PRIVATE_MEDIA_STATS,listener:function(e){if(function(e){return e&&e.length>0}(e.data.mediaStats.buffered)){var t=e.data.mediaStats.buffered,n=e.data.mediaStats.exactCurrentTime,r=h(n,t),a=function(e,t){for(var n=0;t&&n<t.length-1&&t.start(n)<=e;)n++;return n}(n,t),o=function(e){return e&&e.length-1}(t),u=(v=d,R=n,Math.abs(v-R)<.001),p=function(e,t){var n=h(e,t);return t&&n<t.length-1&&e>t.end(n)&&e<t.start(n+1)}(n,t);if(0<E&&E--,u||p){var m=!1,_="",T=void 0;if(f<10&&f++,0<E||f<2)return;var A=.1*f;if(a>r&&g(t,a)>l&&b(n,t,A)?(m=!0,_="next",T=t.start(a)):a>r&&o>a&&g(t,a)<l&&g(t,o)>l&&b(n,t,A)?(m=!0,_="last",T=t.start(o)):a===r&&g(t,o)>l&&function(e,t){return t&&e<t.start(h(e,t))}(n,t)?(m=!0,_="current",T=t.start(r)):10===f&&(m=!0,_="max",T=n+.1),m&&!isNaN(T)){if(c.debugEnabled()){var S=T-n,y=t.end(r)-n;c.debug("seek from/to "+n.toFixed(3)+"/"+T.toFixed(3)+" equalTime:"+u+" betweenRanges:"+p+" target:"+_+" "+S.toFixed(3)+" "+y.toFixed(3),3),function(e,t){for(var n=e,r="ranges";n<t.length;)r+=" "+t.start(n).toFixed(3)+"-"+t.end(n).toFixed(3),n++;c.debug(r,3)}(r,t)}s.emit(i.SEEK,{position:T}),s.emit(i.PLAY,{external:!1}),E=10,f=0}}else f=0;d=n}var v,R}}];function b(e,t,n){return t&&e+n>=t.end(h(e,t))}function h(e,t){for(var n=0;t&&n<t.length-1&&t.start(n+1)<=e;)n++;return n}function g(e,t){return e&&t<e.length?e.end(t)-e.start(t):0}return c.debugEnabled()&&c.debug("initialize"),n.add({target:s,listeners:p}),{destroy:function(){n.remove({target:s,listeners:p}),n.remove({target:s,listeners:m})}}}}}.apply(t,r))||(e.exports=i)},3824:function(e,t,n){var r,i;r=[n(8333),n(6627),n(8197),n(6835),n(6637),n(5698),n(5997),n(4210),n(2653),n(291),n(7628),n(3778),n(3890),n(492),n(5493)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l,c,f,E,p){var m=e.create("MediaElementHandler");return{create:function(e){var b,h,g,_,T,A,S,y,v,R,O,I,N,C,D,w,U,P,M,L,F,k,x,B,H,G=[{type:a.CONFIG,listener:function(e){var n;ye(e)&&(n=e.data.config,T=n,b=t.mustUseHLS||T.playback.allowSafariHlsFallback&&t.canUseHLS,h=0,F=0,ze(S=T.source.startIndex),T.playback&&(j=!!T.playback.muted,X=!!T.playback.automute,Q=T.playback.crossOrigin))}},{type:d.CREATE_VIDEO,listener:function(t){var n,r;ye(t)&&(t.data.elementIds&&(D=t.data.elementIds),t.data.container&&(w=t.data.container)),F=D.length;for(var i=0;i<F;i++)r={elementId:D[i],index:i},n=l.create(e,r.elementId,w,r.index,b,j,X,!1,Q),W.push(n),oe[i]=[];e.emit(o.ELEMENT_CREATED,{video:be(W[h])}),e.emit(o.VOLUME_CHANGE,{muted:j,volume:q}),ge(W[h]),Ve(h),Te(W[h]),B=Ke(),H=Ke()}},{type:d.DESTROY_VIDEO,listener:function(){for(var e=0;e<W.length;e++)(t=W[e])?t.destroyVideo():m.debugEnabled()&&m.debug("mediaElement could not be found");var t}},{type:d.VIDEO_SOURCE,listener:function(e){var t,n,r=He();m.debugEnabled()&&m.debug("received video source"),m.debugEnabled()&&m.debug("src: "+e.data.src),m.debugEnabled()&&m.debug("type: "+e.data.type),ye(e)&&(I=O||e.data.src,t=!(O=e.data.src).length,N=e.data.type,n=(r||K)&&Y?C:h,m.debugEnabled()&&m.debug("sourceTemplate set"),W.length&&(!b||b&&(t||!k&&(Y&&K||!Y&&!K)))&&(Me(W[n]),Le(W[n]),b||Se(W[n]),b&&K&&Ee(W[C]),Y&&!t&&(m.debugEnabled()&&m.debug("call play while playing after video source received"),ce(W[n],void 0,r)),Re(),Oe(),t||(m.debugEnabled()&&m.debug("add time update interval for play stats"),Ie(),void 0!==me(W[n])&&(m.debugEnabled()&&m.debug("add quality update interval"),Ne()))))}},{type:d.PLAY,listener:function(e){if(W[h]){if(b){ge(W[h]);var t=h?0:1;_e(W[t]),(!e||e&&e.data.external)&&((n=W[t])?(n.setMute(),n.unlock()):m.debugEnabled()&&m.debug("mediaElement could not be found")),(!e||e&&e.data.external)&&!j&&le()}var n;m.debugEnabled()&&m.debug("onPlay index: "+h),ce(W[h],e,!1),!isNaN(C)&&Ae(W[C])&&e.data.buffer&&(m.debugEnabled()&&m.debug("call raw play on paused switch element after buffering during switch"),ce(W[C],e,!1))}else m.debugEnabled()&&m.debug("mediaElement could not be found")}},{type:d.PAUSE,listener:function(e){m.debugEnabled()&&m.debug("onPause index: "+h),fe(W[h],e,e.data.buffer),isNaN(C)||fe(W[C],e,e.data.buffer),e.data.buffer||(je(),m.debugEnabled()&&m.debug("reset time offset"),B=Ke()),function(){for(var e in oe)if(Object.prototype.hasOwnProperty.call(oe,e))for(;oe[e].length;)oe[e].pop()}()}},{type:d.MUTE,listener:function(){m.debugEnabled()&&m.debug("mute index: "+h),Ee(W[h],!0)}},{type:d.UNMUTE,listener:le},{type:d.SEEK,listener:function(e){m.debugEnabled()&&m.debug("onSeek index: "+h),function(e,t){e?e.seek(t):m.debugEnabled()&&m.debug("mediaElement could not be found")}(W[h],e)}},{type:d.SET_VOLUME,listener:function(e){ye(e)&&(m.debugEnabled()&&m.debug("onSetVolume index: "+h),q=Math.min(1,Math.max(0,e.data.volume)),he(W[h],q))}},{type:d.SET_RATE,listener:function(e){if(ye(e)){m.debugEnabled()&&m.debug("onSetRate index: "+h);var t=e.data.rate;!function(e,t){e?e.setRate(t):m.debugEnabled()&&m.debug("mediaElement could not be found")}(W[h],t)}}},{type:s.LOAD_START,listener:de},{type:s.PROGRESS,listener:de},{type:s.SUSPEND,listener:de},{type:s.ABORT,listener:de},{type:s.EMPTIED,listener:de},{type:s.STALLED,listener:de},{type:s.PLAY,listener:de},{type:s.PAUSE,listener:de},{type:s.LOADED_META_DATA,listener:de},{type:s.LOADED_DATA,listener:de},{type:s.WAITING,listener:de},{type:s.ERROR,listener:de},{type:s.PLAYING,listener:de},{type:s.CAN_PLAY,listener:de},{type:s.CAN_PLAY_THROUGH,listener:de},{type:s.SEEKING,listener:de},{type:s.SEEKED,listener:de},{type:s.TIME_UPDATE,listener:de},{type:s.QUALITY_UPDATE,listener:de},{type:s.ENDED,listener:de},{type:s.RATE_CHANGE,listener:de},{type:s.DURATION_CHANGE,listener:de},{type:s.VOLUME_CHANGE,listener:de},{type:s.ELEMENT_CREATED,listener:de},{type:s.PLAY_START_SUCCESS,listener:de},{type:s.PLAY_START_ABORT_ERROR,listener:de},{type:s.PLAY_START_NOT_ALLOWED_ERROR,listener:de},{type:s.VIEWPORT_VISIBLE,listener:de},{type:s.VIEWPORT_HIDDEN,listener:de},{type:a.SWITCH_STREAM_INIT,listener:function(e){Y&&Fe(e)}},{type:a.SWITCH_STREAM_SUCCESS,listener:function(e){b&&ye(e)&&(Y?U&&e.data.id===U.id&&K&&(z=!0,K=!1,(J=!0)&&m.debugEnabled()&&m.debug("initialized true - onSwitchStreamSuccess"),ze(U.entry.index)):Object.prototype.hasOwnProperty.call(e.data,"entry")&&Object.prototype.hasOwnProperty.call(e.data.entry,"index")&&ze(e.data.entry.index))}},{type:a.UPDATE_SOURCE_INIT,listener:function(e){Y&&(Fe(e),M=void 0)}},{type:a.UPDATE_SOURCE_SUCCESS,listener:function(e){b&&ye(e)&&(Y?U&&e.data.id===U.id&&K&&(z=!0,K=!1,(J=!0)&&m.debugEnabled()&&m.debug("initialized true - onUpdateSourceSuccess"),ze(L)):Object.prototype.hasOwnProperty.call(e.data,"source")&&Object.prototype.hasOwnProperty.call(e.data.source,"startIndex")&&ze(e.data.source.startIndex))}},{type:a.APPLICATION_STATE_CHANGE,listener:function(e){switch(e.data.state){case E.PAUSED:(K||z)&&void 0!==C&&-1===[p.BUFFER,p.STREAM_NOT_FOUND].indexOf(e.data.reason)?(ge(W[C]),_e(W[h]),Ve(C),h=C,k?(ze(k.source.startIndex),S=k.source.startIndex):ze(L),Ue(),we(),k=void 0):(_e(W[C]),Ue(),we(),p.STREAM_NOT_FOUND===e.data.reason&&M&&(ze(M),M=void 0)),Y=!1,(J=!1)&&m.debugEnabled()&&m.debug("initialized true - mediaElementPrepareSwitch"),ae=!1,qe(!1),Qe(!1),Je(!1),$e(!1),Ze(!1),et(!1),Xe(!1);break;case E.PLAYING:}}},{type:u.RECOVER,listener:function(t){if(m.debugEnabled()&&m.debug("media error recover"),b)switch(m.debugEnabled()&&m.debug("recovering..."),qe(t.data.code),t.data.code){case c.MEDIA.DECODE_ERROR:m.debugEnabled()&&m.debug("switch stream to recover after media error decode error"),e.emit(o.SWITCH_STREAM,{type:"recover"});break;case c.MEDIA.HLS_VIDEO_DECODE_ERROR:m.debugEnabled()&&m.debug("switch stream to recover after media error hls video decode error"),e.emit(o.SWITCH_STREAM,{type:"recover"});break;case c.MEDIA.HLS_BUFFER_UNDERRUN:t.data.reconnect?(m.debugEnabled()&&m.debug("get timeOffset from previous stats after media error hls ended"),We(V[0]),m.debugEnabled()&&m.debug("switch stream to recover after media error hls ended"),e.emit(o.SWITCH_STREAM,{type:"recover"})):(m.debugEnabled()&&m.debug("call raw play to recover after media error hls ended"),We(),ce(W[h],{data:{hlsended:!0}},!1),ne&&re&&(m.debugEnabled()&&m.debug("was canPlay during switch & media error queued"),et(!1),Qe(!0)));break;case c.MEDIA.HLS_MAX_RANGE:m.debugEnabled()&&m.debug("get timeOffset from previous stats after media error playback error"),We(V[0]),m.debugEnabled()&&m.debug("switch stream to recover after media error hls max range"),e.emit(o.SWITCH_STREAM,{type:"recover"});break;case c.PLAYER.PLAYBACK_ERROR:m.debugEnabled()&&m.debug("get timeOffset from previous stats after media error playback error"),We(V[0]),m.debugEnabled()&&m.debug("call raw pause after media error playback error"),fe(W[h],{data:{error:!0}},!0),m.debugEnabled()&&m.debug("switch stream to recover after media error playback error"),e.emit(o.SWITCH_STREAM,{type:"recover"})}}},{type:u.QUEUED,listener:function(e){if(m.debugEnabled()&&m.debug("media error queued"),Xe(!0),K)switch(m.debugEnabled()&&m.debug("media error queued & switch initialized"),e.data.code){case c.MEDIA.HLS_VIDEO_DECODE_ERROR:case c.MEDIA.HLS_BUFFER_UNDERRUN:break;case c.PLAYER.PLAYBACK_ERROR:fe(W[h],{data:{error:!0}},!0)}}},{type:u.UNQUEUED,listener:function(){m.debugEnabled()&&m.debug("media error unqueued"),Xe(!1),et(!1)}}],V=[],W=[],Y=!1,j=!1,K=!1,z=!1,q=1,X=!1,Q="not-set",J=!1,$=!1,Z=!1,ee=!1,te=!1,ne=!1,re=!1,ie=!1,ae=!1,oe={0:[]},se=!1,ue=!1;function de(t){if(t&&t.name&&t.data){var n=t.data.index;R=Te(W[n]);var i=t.data,a=nt(R,t.data,!1),u=t.name,d=function(e){return"mediaElementHandler."+function(e){var t=e.indexOf(".")+1;return e.substring(t)}(e)}(u);if(u!==s.TIME_UPDATE)for(oe[n].unshift(u);oe[n].length>20;)oe[n].pop();if(h===n)switch(u){case s.SEEKING:ae===c.MEDIA.HLS_BUFFER_UNDERRUN&&$e(!0),e.emit(d,a);break;case s.SEEKED:ae===c.MEDIA.HLS_BUFFER_UNDERRUN&&Ze(!0),e.emit(d,a);break;case s.CAN_PLAY:if(ae===c.MEDIA.HLS_BUFFER_UNDERRUN){if(Ae(W[n])&&(m.debugEnabled()&&m.debug("video paused at can play in recovery on current media element"),m.debugEnabled()&&m.debug("call raw play"),ce(W[n],{data:{hlsended:!0}},!1)),te&&V[0].currentTime>i.currentTime&&i.currentTime<1)return $e(!1),Ze(!1),m.debugEnabled()&&m.debug("pause because seek back during buffer recovery detected"),fe(W[h],{data:{error:!0}},!0),m.debugEnabled()&&m.debug("switch stream to recover after seek back during buffering"),void e.emit(o.SWITCH_STREAM,{index:P,type:"recover"});m.debugEnabled()&&m.debug("now wait for progress for completion"),Qe(!0)}J||(!b||K||!Y)&&b||(e.emit(d,a),(J=!0)&&m.debugEnabled()&&m.debug("initialized true - onMediaElementEvent CAN_PLAY on currentMediaElementIndex: "+h),Ue()),et(!(!K||!re));break;case s.PROGRESS:ae&&!K&&ae===c.MEDIA.HLS_BUFFER_UNDERRUN&&$&&(Ae(W[n])||(m.debugEnabled()&&m.debug("video not paused & wait for progress in recovery on current media element"),ee&&!te?m.debugEnabled()&&m.debug("ongoing seek, wait for seeked in next progress"):ee&&te?(m.debugEnabled()&&m.debug("media error "+ae+" recovered in progress after seek"),$e(!1),Ze(!1),e.emit(o.MEDIA_ERROR_RECOVERED,{data:{code:ae}}),qe(!1),Qe(!1),m.debugEnabled()&&m.debug("merge pending time offset after seeked"),Ye(!0),je()):ee||te||(m.debugEnabled()&&m.debug("media error "+ae+" recovered in progress without seek"),e.emit(o.MEDIA_ERROR_RECOVERED,{data:{code:ae}}),qe(!1),Qe(!1),je()))),e.emit(d,a);break;case s.PAUSE:ae===c.MEDIA.HLS_BUFFER_UNDERRUN&&m.debugEnabled()&&m.debug("pause event during recovery of 3101"),e.emit(d,a);break;default:e.emit(d,a)}else if(n===C&&C!==h&&Y)switch(m.debugEnabled()&&m.debug("onMediaElementEvent switchMediaElementIndex: "+C),u){case s.PLAY:case s.DURATION_CHANGE:case s.LOADED_META_DATA:case s.LOADED_DATA:e.emit(d,a);break;case s.CAN_PLAY:m.debugEnabled()&&m.debug("onMediaElementEvent CAN_PLAY on switchMediaElementIndex: "+C),J||(m.debugEnabled()&&m.debug("onMediaElementEvent emit CAN_PLAY"),e.emit(d,a),(J=!0)&&m.debugEnabled()&&m.debug("initialized true - onMediaElementEvent CAN_PLAY on switchMediaElementIndex: "+C));break;case s.CAN_PLAY_THROUGH:m.debugEnabled()&&m.debug("onMediaElementEvent CAN_PLAY_THROUGH on switchMediaElementIndex: "+C),z&&(m.debugEnabled()&&m.debug("onMediaElementEvent CAN_PLAY_THROUGH wait for progress"),Je(!0),e.emit(d,a));break;case s.PROGRESS:m.debugEnabled()&&m.debug("onMediaElementEvent PROGRESS on switchMediaElementIndex: "+C),z&&Z&&(m.debugEnabled()&&m.debug("onMediaElementEvent PROGRESS call mediaElementSwitch"),Je(!1),function(){if(b&&void 0!==C&&z)if(m.debugEnabled()&&m.debug("switch mediaElement after successfull "+(He()?"updateSource":"switchStream")),ue)m.debugEnabled()&&m.debug("there is a lock on media element switch, skipping the execution");else{m.debugEnabled()&&m.debug("starting to complete switch"),tt(!0),we();var e=Pe.bind(this,W[C]),t=ve.bind(this,W[C]);r.performInSyncedUIBehavior(e,t,150).then((function(){try{m.debugEnabled()&&m.debug("switch mediaElement UI preparation is done"),ke(),tt(!1)}catch(e){m.debugEnabled()&&m.debug("error in performInSyncedUIBehavior success calback")}})).catch((function(){try{m.debugEnabled()&&m.debug("switch mediaElement UI preparation is failed"),ke(),tt(!1)}catch(e){m.debugEnabled()&&m.debug("error in performInSyncedUIBehavior catch calback")}}))}}());break;case s.PLAYING:e.emit(d,a)}}}function le(){m.debugEnabled()&&m.debug("unmute index: "+h);for(var e=0;e<W.length;e++)pe(W[e],!0);setTimeout((function(){for(var e=0;e<W.length;e++)e!==h&&Ee(W[e],!1)}),50)}function ce(e,t,n){e?(e.play(t),n||(Y=!0)):m.debugEnabled()&&m.debug("mediaElement could not be found")}function fe(e,t,n){e?(e.pause(t),n||(Y=!1)):m.debugEnabled()&&m.debug("mediaElement could not be found")}function Ee(e,t){e?(t&&(j=!0),e.setMute()):m.debugEnabled()&&m.debug("mediaElement could not be found")}function pe(e,t){e?(t&&(j=!1),e.setUnmute()):m.debugEnabled()&&m.debug("mediaElement could not be found")}function me(e){if(e)return e.getVideoPlaybackQuality();m.debugEnabled()&&m.debug("mediaElement could not be found")}function be(e){if(e)return e.getVideoElement();m.debugEnabled()&&m.debug("mediaElement could not be found")}function he(e,t){e?(e.setVolume(t),q=t):m.debugEnabled()&&m.debug("mediaElement could not be found")}function ge(e){e?e.show():m.debugEnabled()&&m.debug("mediaElement could not be found")}function _e(e){e?e.hide():m.debugEnabled()&&m.debug("mediaElement could not be found")}function Te(e){return e?(se||(x=e.getMediaElementPayload()),x.timeOffset=B,x):(m.debugEnabled()&&m.debug("mediaElement could not be found"),{index:0})}function Ae(e){if(e)return e.getVideoPausedState();m.debugEnabled()&&m.debug("mediaElement could not be found")}function Se(e){e?e.loadVideo():m.debugEnabled()&&m.debug("mediaElement could not be found")}function ye(e,t){var n=e&&Object.prototype.hasOwnProperty.call(e,"data");return t?n&&Object.prototype.hasOwnProperty.call(e.data,t):n}function ve(e){return e?e.isShownOnTop():(m.debugEnabled()&&m.debug("mediaElement could not be found"),!1)}function Re(){clearInterval(g),g=void 0}function Oe(){clearInterval(_),_=void 0}function Ie(){g=setInterval(Ce,100)}function Ne(){_=setInterval(De,1e3)}function Ce(){for(y=Te(W[h]);V.length>2;)V.shift();V.push(y),e.emit(s.TIME_UPDATE,y)}function De(){(v=Te(W[h])).quality=me(W[h]),e.emit(s.QUALITY_UPDATE,v)}function we(){A&&(clearTimeout(A),A=0)}function Ue(){m.debugEnabled()&&m.debug("reset switch variables"),C=void 0,(J=!0)&&m.debugEnabled()&&m.debug("initialized true - resetSwitchVariables"),K=!1,z=!1,U=void 0,L=void 0}function Pe(e){e&&e.showOnTop()}function Me(e,t){e&&e.setSource({source:t?I:O})}function Le(e){e&&e.setType({type:N})}function Fe(e){var t,r,i,a;if(b&&ye(e)&&Object.prototype.hasOwnProperty.call(e.data,"entry"))if(i=e.data.entry.index,t=k?"update"===k.type:He(),r="update"===e.data.type,m.debugEnabled()&&m.debug((r?"updateSourceInit":"switchStreamInit")+" with entryIndex: "+i),ie)m.debugEnabled()&&m.debug((r?"updating":"switching")+" is disabled, abort");else{if(!r&&ae&&"recover"!==e.data.type)return m.debugEnabled()&&m.debug("abort switch attempt during recovery"),(a=n.copy(e.data)).reason="recover",void Be(a);if(K&&(!t||t&&r)||k&&(!t||t&&r))m.debugEnabled()&&m.debug("abort ongoing "+(t?"update":"switch")+" process"),(a=n.copy(k||U)).reason="superseded",Be(a),we(),k?k=void 0:(fe(W[C],void 0,!0),Ue());else if(K&&t&&!r||k&&t&&!r)return void(m.debugEnabled()&&m.debug("ongoing updateSource process!"));r||P!==i||"recover"===e.data.type?(m.debugEnabled()&&m.debug("new "+(r?"update":"switch")),z?(m.debugEnabled()&&m.debug("do not handle switch, still ongoing switch!"),m.debugEnabled()&&m.debug("add to queue!"),k=e.data):(m.debugEnabled()&&m.debug("handle switch without ongoing"),Ge(e.data,i,r))):(m.debugEnabled()&&m.debug("abort switch attempt on equal index"),(a=n.copy(e.data)).reason="equalsource",Ue(),we(),Be(a)),ie=!0,setTimeout((function(){ie=!1}),500)}}function ke(){m.debugEnabled()&&m.debug("starting to swap media elements"),ge(W[C]),_e(W[h]),Ve(C),be(W[h])&&(j=be(W[h]).muted),Ee(W[h]),j?Ee(W[C]):pe(W[C]),ae&&(m.debugEnabled()&&m.debug("media error "+ae+" recovered in switch success"),e.emit(o.MEDIA_ERROR_RECOVERED,{data:{code:ae}}),qe(!1)),se||We(),Ye(!0),je(),m.debugEnabled()&&m.debug("handle switch pause on currentMediaElementIndex: "+h),fe(W[h],void 0,!0),he(W[C],q),h=C,k?(z=!1,function(){if(k){var e="update"===k.type,t=k.entry.index,r=n.copy(k);k=void 0,m.debugEnabled()&&m.debug("handleQueuedSwitch"),Ge(r,t,e,!0)}}()):Ue()}function xe(){if(void 0!==C&&C!==h&&K&&!z){var t=n.copy(U);fe(W[C],void 0,!0),He()&&(ze(void 0),e.emit(o.UPDATE_SOURCE_TIMEOUT,{code:c.STREAM.MEDIA_NOT_AVAILABLE,message:f.STREAM.MEDIA_NOT_AVAILABLE})),k=void 0,Ue(),function(t){e.emit(o.UPDATE_SOURCE_FAIL,{tag:t.options.tag,count:t.options.count,code:c.NETWORK.SOURCE_TIMEOUT,message:f.NETWORK.SOURCE_TIMEOUT,type:t.type,id:t.id})}(t)}}function Be(t){setTimeout((function(){e.emit(o.UPDATE_SOURCE_ABORT,{source:t.source,entry:t.entry,rule:t.rule,reason:t.reason,tag:t.tag,count:t.count,type:t.type,id:t.id})}),0)}function He(){return U&&Object.prototype.hasOwnProperty.call(U,"type")&&"update"===U.type}function Ge(e,t,n,r){C=h?0:1,m.debugEnabled()&&m.debug("mediaElementPrepareSwitch on switchMediaElementIndex: "+C),(J=!1)&&m.debugEnabled()&&m.debug("initialized true - mediaElementPrepareSwitch"),K=!0,U=e,n?(S=U.source.startIndex,L=S,r&&(Me(W[C],S),Le(W[C]),b||Se(W[C]),b&&K&&Ee(W[C]),ce(W[C],void 0,!0),Re(),Oe(),O.length&&(m.debugEnabled()&&m.debug("add time update interval for play stats"),Ie(),void 0!==me(W[C])&&(m.debugEnabled()&&m.debug("add quality update interval"),Ne())))):Y&&(C=h?0:1,L=t,r&&(Me(W[C],t),Le(W[C]),b||Se(W[C]),b&&K&&Ee(W[C]),ce(W[C],void 0,!0))),Y&&function(e){A&&we();var t=e&&Object.prototype.hasOwnProperty.call(e,"options")&&Object.prototype.hasOwnProperty.call(e.options,"timeout")?1e3*e.options.timeout:1e4;A=setTimeout((function(){xe()}),t)}(U)}function Ve(t){for(var n=W.map((function(e){return e.getVideoElement()})),r=0;r<n.length;r+=1)void 0!==typeof n[r]&&n[r]||n.pop();n.length-1<t&&(t=-1),e.emit(o.ACTIVE_VIDEO_ELEMENT_CHANGE,{videoElementList:n,activeVideoElement:t<0?null:n[t]})}function We(e){m.debugEnabled()&&m.debug("set pending time offset"),e||(e=Te(W[h])),se=!0,H.currentTime=e.currentTime,m.debugEnabled()&&m.debug("new pending time offset: "+JSON.stringify(H))}function Ye(e){m.debugEnabled()&&m.debug("apply pending time offset"),B=nt(B,H,e),m.debugEnabled()&&m.debug("new time offset: "+JSON.stringify(B))}function je(){m.debugEnabled()&&m.debug("reset pending time offset"),se=!1,H=Ke()}function Ke(){return!!b&&{currentTime:0}}function ze(e){M=P,P=e}function qe(e){m.debugEnabled()&&m.debug("set inRecovery to "+e),ae=e}function Xe(e){m.debugEnabled()&&m.debug("set isMediaErrorQueued to "+e),re=e}function Qe(e){m.debugEnabled()&&m.debug("set waitForProgress to "+e),$=e}function Je(e){m.debugEnabled()&&m.debug("set waitForProgressSwitch to "+e),Z=e}function $e(e){m.debugEnabled()&&m.debug("set wasSeeking to "+e),ee=e}function Ze(e){m.debugEnabled()&&m.debug("set wasSeeked to "+e),te=e}function et(e){m.debugEnabled()&&m.debug("set wasCanPlayDuringSwitch to "+e),ne=e}function tt(e){m.debugEnabled()&&m.debug("set lockMediaElementSwitch to "+e),ue=e}function nt(e,t,n){for(var r in t)"object"!=typeof t[r]?Object.prototype.hasOwnProperty.call(e,r)&&!n||(n?e[r]+=t[r]:e[r]=t[r]):(Object.prototype.hasOwnProperty.call(e,r)||(e[r]={}),nt(e[r],t[r],n));return e}return i.add({target:e,listeners:G}),{destroy:function(){Oe(),Re(),i.remove({target:e,listeners:G}),function(e){if(e){for(var t=0;t<e.length;t++)e[t].destroy();Ve(-1),e=[]}else m.debugEnabled()&&m.debug("mediaElement could not be found")}(W)}}}}}.apply(t,r))||(e.exports=i)},7022:function(e,t,n){var r,i;r=[n(8333),n(6627),n(6637),n(5698),n(560),n(2653),n(5980),n(291),n(492)],void 0===(i=function(e,t,n,r,i,a,o,s,u){return{create:function(d){var l,c,f=e.create("MediaElementPlaybackControl"),E={},p={},m=!1,b=!0,h=!1,g=!1,_=-1,T=null,A=[],S=[],y=!0,v=0,R=!1,O=.2,I=.2,N=[{type:r.APPLICATION_STATE_CHANGE,listener:function(e){switch(l=e.data.state,T=null,l){case u.PLAYING:c=!1;break;case u.LOADING:f.debugEnabled()&&f.debug("add play state listeners"),n.add({target:d,listeners:C});break;case u.PAUSED:c=!1;break;case u.PAUSING:n.remove({target:d,listeners:C}),f.warnEnabled()&&f.warn("entering paused state"),_=-1,m=!1,y=!1,b=!0,R=!1}}},{type:r.STARTUP_STATS_COMPLETED,listener:function(e){T=e.data}},{type:r.STREAM_INFO,listener:D},{type:r.STREAM_INFO_UPDATE,listener:D},{type:r.CONFIG,listener:function(e){h=t.mustUseHLS||e.data.config.playback.allowSafariHlsFallback&&t.canUseHLS}},{type:r.BUFFER_TWEAKS_CREATED,listener:function(e){f.debugEnabled()&&f.debug("buffer tweaks created"),l===u.PLAYING&&E.buffer&&E.buffer.start<e.data.tweaks.buffer.start&&setTimeout((function(){y=!1,b=!0,f.debugEnabled()&&f.debug("new tweaks, pausing to raise buffer"),M(),U()}),10),E.buffer=e.data.tweaks.buffer,I=E.buffer.start-E.buffer.min>=.5?.2:0}},{type:s.PLAY,listener:function(e){f.debugEnabled()&&f.debug("on play"),setTimeout((function(){-1===_&&e.data.external&&!e.data.invalidState&&(h?g=!0:w())}),10)}},{type:a.RECOVER,listener:function(){f.debugEnabled()&&f.debug("media error recover"),c=!0}},{type:a.RECOVERED,listener:function(){f.debugEnabled()&&f.debug("media error recovered"),c=!1}}],C=[{type:o.PRIVATE_MEDIA_STATS,listener:function(e){if(!(p=e.data.mediaStats).buffered||!p.buffered.length)return f.detailEnabled()&&f.detail("no data in play stats"),void(h&&g&&isFinite(p.duration)&&(g=!1,w()));var n=p.exactCurrentTime;F(A,n,5);var r=L(A),a=p.buffered,o=function(e,n){for(var r=0;e&&r<e.length;++r)if(e.start(r)<=n+1e-6&&e.end(r)>=n-1e-6||t.isTridentBrowser&&n<=.3&&e.start(r)<=5&&e.end(r)-e.start(r)>.2)return r;return-1}(a,n),u={startRange:a.start(a.length-1),endRange:a.end(a.length-1),rangeLength:a.end(a.length-1)-a.start(a.length-1),rangeIndex:o,hasRangeIndex:-1!==o,bufferedPartsCount:a.length},l=h&&!m?u.endRange-n:p.bufferDelay;F(S,p.bufferEnd,5);var N=L(S),C={currentTime:n,bufferDelayCurrent:l,hasEnoughToStart:l>=E.buffer.start-O,hasEnoughToResume:l>=E.buffer.start-I,hasEnoughPrerollToStart:l>=v-(E.buffer.start-O-E.buffer.min),hasStartHigherPreroll:E.buffer.start-O>v,hasEnoughToPlay:l>E.buffer.min,bufferLength:p.bufferEnd-p.bufferStart,bothCurrentTimeAndBufferEndNotMoving:r&&N,currentTimeNotMoving:r,bufferEndNotMoving:N};null===function(e,n){var r=null;return!h&&!e.hasRangeIndex&&!m&&n.bufferLength>.45?(r=Math.min(e.startRange+.3,e.endRange),P(t.isTridentBrowser?0:r,"seek to range: "+e.startRange+" < "+r+" > "+e.endRange+", currentTime: "+n.currentTime)):!h&&!m&&t.isFirefox&&e.bufferedPartsCount>1&&e.rangeIndex!==e.bufferedPartsCount-1&&e.rangeLength>.3&&P(r=e.startRange,"seek to startable range start: "+r),r}(u,C)&&(function(e,n,r,i){if(-1===_&&n.hasEnoughToStart&&(e.hasRangeIndex||h)){f.debugEnabled()&&f.debug("start buffer of "+(r.buffer.start-O)+" reached");var a=!h&&t.isSafari,o=a&&n.currentTime<.2;if(!v||v&&n.hasStartHigherPreroll){if(f.debugEnabled()&&f.debug(" start buffer case"),o)return P(_=.3,"initial safari stream startTime set to "+_+", seeking",!0),!0;_=n.currentTime,f.debugEnabled()&&f.debug("default stream startTime set to "+_)}else if(v&&n.hasEnoughPrerollToStart&&!n.hasStartHigherPreroll&&(f.debugEnabled()&&f.debug("preroll buffer of "+v+" reached"),P(_=a?i.bufferEnd-.15:v-(r.buffer.start-r.buffer.min),"initial preroll stream startTime set to "+_+", seeking",!0),a))return!0}}(u,C,E,p)||function(e,t){b&&R&&(!m&&e.hasEnoughToStart||m&&e.hasEnoughToResume&&!e.bufferEndNotMoving)&&-1!==_&&(f.debugEnabled()&&f.debug("on operatePlayback : starting stream at "+_+" with latency "+e.bufferDelayCurrent),d.emit(s.PLAY,{external:!1,buffer:!0}),b=!1,m&&(f.debugEnabled()&&f.debug("on operatePlayback : resuming playback, emitting playbackStarted"),d.emit(i.PLAYBACK_STARTED))),b||(!m&&-1!==_&&_<e.currentTime-.1&&(m=!0,h&&e.currentTime<1&&t.duration>1&&(f.debugEnabled()&&f.debug("useHLS: buffer higher 1 at start"),e.currentTime<.5&&P(1,"useHLS: maybe preroll detected, seek to 1"))),m&&T&&(f.debugEnabled()&&f.debug("on operatePlayback : starting playback, emitting playbackStarted with stats"),d.emit(i.PLAYBACK_STARTED,T)),e.currentTime>E.buffer.start&&!c&&(!e.hasEnoughToPlay||m&&e.bothCurrentTimeAndBufferEndNotMoving)&&(y?(y=!1,b=!0,f.debugEnabled()&&f.debug("pausing to buffer during playback"),M(),U()):y=!0))}(C,p))}}];function D(e){v=e.data.streamInfo.prerollDuration?e.data.streamInfo.prerollDuration:0,R=!0}function w(){f.debugEnabled()&&f.debug("pausing to raise buffer at start"),U()}function U(){d.emit(s.PAUSE,{external:!1,buffer:!0})}function P(e,t,n){f.warnEnabled()&&f.warn(t),d.emit(s.SEEK,{position:e,fast:!0===n})}function M(){d.emit(i.BUFFERING)}function L(e){var t=!0;if(e.length){for(var n=e[0],r=1;r<e.length;r++)if(e[r]!==n){t=!1;break}}else t=!1;return t}function F(e,t,n){e.length===n&&e.shift(),e.push(t)}return n.add({target:d,listeners:N}),{destroy:function(){n.remove({target:d,listeners:N})}}}}}.apply(t,r))||(e.exports=i)},7628:function(e,t,n){var r,i;r=[n(8333),n(6627),n(803),n(6637),n(5304),n(3763),n(4210)],void 0===(i=function(e,t,n,r,i,a,o){return{create:function(s,u,d,l,c,f,E,p,m){var b,h,g,_,T,A,S=e.create("MediaElementProxy "+u),y=!1,v=0,R=!0,O=!1,I="10",N=[];function C(){b&&(r.remove({target:b,listeners:N}),t.isTridentBrowser&&(A=void 0,["scroll","resize"].forEach((function(e){window.removeEventListener&&window.removeEventListener(e,F,!1),window.detachEvent&&window.detachEvent("on"+e,F)}))),G({source:""}),V(),b.firstChild&&b.removeChild(b.firstChild),b.parentNode&&b.parentNode.removeChild(b),y&&(S.debugEnabled()&&S.debug("releasing external video"),b.style.cssText=_,_=null,T&&T.appendChild(b)),b=null,g&&(g.parentNode&&g.parentNode.removeChild(g),g=null))}function D(){S.debugEnabled()&&S.debug("mute"),b&&(b.muted=!0)}function w(){S.debugEnabled()&&S.debug("unmute"),b&&(b.muted=!1)}function U(e){S.debugEnabled()&&S.debug("onPlay"),function(e){return new Promise((function(t){c&&(!e||j(e,"external",!0)||j(e,"unlocked",!0)||j(e,"buffer",!1))?v||(S.debugEnabled()&&S.debug("set load timeout before call play"),v=setTimeout((function(){if(v=0,b){S.debugEnabled()&&S.debug("load before call play");try{V(),M(1)}catch(e){S.debugEnabled()&&S.debug("err in onPlay Promise resolve")}t(e)}}),250)):t(e)}))}(e).then((function e(t){if(c&&(R=!1),b)return S.debugEnabled()&&S.debug("call play at currentTime "+b.currentTime),n.play(b).then((function(){j(t,"unlocked",!0)?(O=!0,S.debugEnabled()&&S.debug("unlocked set to true"),S.debugEnabled()&&S.debug("play promise resolved, video element unlocked"),P(t)):j(t,"invalidState",!0)?(S.debugEnabled()&&S.debug("invalid state set to true"),S.debugEnabled()&&S.debug("play promise resolved, media source open"),s.emit(o.PLAY_START_SUCCESS,k())):(S.debugEnabled()&&S.debug("play promise resolved"),p=!1,j(t,"buffer",!0)&&S.debugEnabled()&&S.debug("play hook after buffering"),S.debugEnabled()&&S.debug("resolve play at currentTime "+b.currentTime))})).catch((function(n){var r;if(j(t,"unlocked",!0))S.debugEnabled()&&S.debug("play promise rejected, video element not activated");else if(b)if(n.error.name===i.ABORT_ERROR){S.debugEnabled()&&S.debug("play promise rejected, abort error: "+n.error.message);var u="unknown";/video-only background media was paused/.test(n.error.message)?u="background":/paused by a call to pause/.test(n.error.message)&&(u="pausecall"),(r=k()).error=n.error,r.reason=u,s.emit(o.PLAY_START_ABORT_ERROR,r)}else n.error.name===i.NOT_ALLOWED_ERROR&&(S.debugEnabled()&&S.debug("play promise rejected, not allowed error: "+n.error.message),j(t,"invalidState",!0)||b.muted||!E||p?!j(t,"invalidState",!0)&&b.muted&&p&&(S.debugEnabled()&&S.debug("unmute to reset"),w(),b.muted||(L({type:a.VOLUME_CHANGE}),p=!1)):(S.debugEnabled()&&S.debug("mute to play"),D(),b.muted&&(p=!0,setTimeout(e.bind(null,{data:{external:!1}}),0))),(j(t,"external",!1)||p||(!b.muted&&!E||b.muted)&&c)&&((r=k()).error=n.error,r.automuted=p,s.emit(o.PLAY_START_NOT_ALLOWED_ERROR,r)));else S.debugEnabled()&&S.debug("play promise rejected, video element reference not valid");S.debugEnabled()&&S.debug(n.error.name+": "+n.error.message)}))}))}function P(e){S.debugEnabled()&&S.debug("onPause"),b&&(v&&(clearTimeout(v),v=0),b.pause(),!c||e&&!j(e,"buffer",void 0)||(R=!0,j(e,"unlocked",!0)?S.debugEnabled()&&S.debug("paused after state check"):j(e,"error",!0)&&S.debugEnabled()&&S.debug("pause after media error"),G({source:""}),V(),g&&g.tagName&&"IFRAME"===g.tagName&&(g.contentWindow&&g.contentWindow.location?(d.appendChild(b),g.contentWindow.location.reload(!0)):x())),M(1))}function M(e){(c||t.isIOS||t.isIOSDesktopMode)&&1===e&&(e=1+1e-7),b&&e&&b.playbackRate!==e&&(S.debugEnabled()&&S.debug("set rate to: "+e),b.playbackRate=e)}function L(e){var t=k();switch(e.type){case a.ERROR:t.code=b.error&&"number"==typeof b.error.code?b.error.code:200;break;case a.VOLUME_CHANGE:t.muted=b.muted,t.volume=b.volume;break;case a.CAN_PLAY:t.haveVideo=void 0!==b.videoTracks&&b.videoTracks.length>0,t.haveAudio=void 0!==b.audioTracks&&b.audioTracks.length>0,t.videoWidth=b.videoWidth,t.videoHeight=b.videoHeight}S.detailEnabled()&&S.detail(e.type+" - (index: "+l+", paused: "+W()+", currentTime: "+t.currentTime+", latency: "+((t.useDuration?t.duration:t.buffered.length?t.buffered.end(t.buffered.length-1):0)-t.currentTime)+")"),(!c||e.type!==a.CAN_PLAY||c&&e.type===a.CAN_PLAY&&!R)&&s.emit("mediaElementProxy."+e.type,t)}function F(){var e=b&&"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{top:0,left:0,bottom:0,right:0},t=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,r=e.top<=t&&e.top+e.height>=0,i=e.left<=n&&e.left+e.width>=0,a=r&&i;a!==A&&(S.debugEnabled()&&S.debug("viewport changed to "+(a?"visible":"hidden")),A=a,s.emit(a?o.VIEWPORT_VISIBLE:o.VIEWPORT_HIDDEN,k()))}function k(){return{currentTime:b.currentTime,buffered:b.buffered,played:b.played,playbackRate:b.playbackRate,index:l,duration:b.duration,useDuration:c&&Number.isFinite(b.duration)&&b.duration<4e6,paused:b.paused}}function x(){S.debugEnabled()&&S.debug("iOS11 detected, using iframe hack");var e={name:"h5live-iframe-"+l,frameBorder:0,scrolling:"no",style:{cssText:"z-index: 0;width: 100%;height: 100%;position: absolute;display: none;top: 0;left: 0;"},h5liveIndex:l,h5liveActive:!1};g||(g=d.querySelector('iframe[name="'+e.name+'"]')),g&&g.name===e.name&&(g.contentDocument&&g.contentDocument.body&&g.contentDocument.body.firstChild&&g.contentDocument.body.removeChild(g.contentDocument.body.firstChild),g.removeEventListener("load",B),g.parentNode&&g.parentNode.removeChild(g),g=null),H(g=document.createElement("iframe"),e),g.addEventListener("load",B),d.appendChild(g)}function B(e){var t=e.target.contentDocument.body;t&&(H(t,{style:{height:"100%",width:"100%",overflow:"hidden",position:"absolute",margin:"0",padding:"0"}}),t.firstChild||(t.appendChild(b),r.remove({target:b,listeners:N}),r.add({target:b,listeners:N})))}function H(e,t){Object.keys(t).forEach((function(n){"object"!=typeof t[n]?e[n]=t[n]:Object.keys(t[n]).forEach((function(r){e[n][r]=t[n][r]}))}))}function G(e){e&&Object.prototype.hasOwnProperty.call(e,"source")&&(h.src=e.source)}function V(){b&&b.load()}function W(){return b?b.paused:void 0}function Y(e,t){e.h5liveActive=t}function j(e,t,n){return!!e&&"object"==typeof e.data&&e.data[t]===n}return function(){var e=[a.TIME_UPDATE];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&-1===e.indexOf(a[t])&&N.push({type:a[t],listener:L})}(),function(){var e={id:u,autoplay:!1,controls:!1,playsInline:!0,muted:f,volume:1,style:{backgroundColor:"transparent"},h5liveIndex:l,h5liveActive:!1};switch(m){case"anonymous":case"use-credentials":e.crossOrigin=m}t.mustUseHLS&&(e.style.width="100vw",e.style.height="100vh"),(b=document.getElementById(u))&&(b.disableRemotePlayback=!0),y=!!b,S.debugEnabled()&&S.debug("using "+(y?"external ":"generated ")+"video element"),y?(T=b.parentNode,_=b.style.cssText,b.style.cssText=""):(b=document.createElement("video"))&&(b.disableRemotePlayback=!0),H(b,e)}(),h=document.createElement("source"),b.appendChild(h),t.mustUseHLS?x():(S.debugEnabled()&&S.debug("appending video to container"),d.appendChild(b),r.add({target:b,listeners:N}),t.isTridentBrowser&&(["scroll","resize"].forEach((function(e){window.addEventListener&&window.addEventListener(e,F,!1),window.attachEvent&&window.attachEvent("on"+e,F)})),F())),{destroy:function(){C()},play:U,pause:P,loadVideo:V,setSource:G,setType:function(e){b&&e&&(b.type=e)},setVolume:function(e){b&&!isNaN(e)&&e>=0&&e<=1&&b.volume!==e&&(S.debugEnabled()&&S.debug("set volume: "+e),b.volume=e)},setMute:D,setUnmute:w,setRate:M,destroyVideo:C,seek:function(e){if(b&&e&&e.data&&!isNaN(e.data.position)&&e.data.position>=0){var t=Math.round(1e6*e.data.position)/1e6;S.debugEnabled()&&S.debug("seek to: "+e.data.position+" (rounded: "+t+"), from: "+b.currentTime),e.data.fast&&void 0!==b.fastSeek?b.fastSeek(t):b.currentTime=t}},getVideoPlaybackQuality:function(){return b&&"function"==typeof b.getVideoPlaybackQuality?b.getVideoPlaybackQuality():void 0},getVideoElement:function(){return b||void 0},getMediaElementPayload:k,show:function(){g&&(g.style.display="block",g.style.zIndex="1",Y(g,!0)),b&&(b.style.display="block",b.style.zIndex="1",Y(b,!0))},hide:function(){g&&(g.style.display="block",g.style.zIndex="0",Y(g,!1)),b&&(b.style.display="block",b.style.zIndex="0",Y(b,!1))},getIndex:function(){return l},setIndex:function(e){l=e},showOnTop:function(){S.debugEnabled()&&S.debug("show index "+l+" on top"),g?(g.style.display="block",g.style.zIndex=I):b&&(b.style.display="block",b.style.zIndex=I)},isShownOnTop:function(){var e=!1;return g?e=g.style.zIndex===I:b&&(e=b.style.zIndex===I),e},unlock:function(){O?S.debugEnabled()&&S.debug("skip check because is unlocked"):(S.debugEnabled()&&S.debug("2nd vid try unlock with silent play attempt"),U({data:{unlocked:!0}}))},getVideoPausedState:W}}}}.apply(t,r))||(e.exports=i)},232:function(e,t,n){var r,i;r=[n(6637),n(8333),n(6627),n(492),n(5698),n(5997),n(2653),n(5980)],void 0===(i=function(e,t,n,r,i,a,o,s){return{create:function(u){var d,l,c,f,E,p,m,b=t.create("MediaElementStatsCreator"),h=[],g=!1,_=!1,T=!1,A=!1,S=[{type:i.APPLICATION_STATE_CHANGE,listener:function(t){switch(c=t.data.state){case r.PAUSED:b.debugEnabled()&&b.debug("remove stats listener"),e.remove({target:u,listeners:y});break;case r.PLAYING:break;case r.LOADING:I(),b.debugEnabled()&&b.debug("hls: add stats listener"),f&&e.add({target:u,listeners:y})}}},{type:i.CONFIG,listener:function(e){f=n.mustUseHLS||e.data.config.playback.allowSafariHlsFallback&&n.canUseHLS}}],y=[{type:a.TIME_UPDATE,listener:function(e){m!==e.data.index&&(b.debugEnabled()&&b.debug("new mediaElementIndex, changed from "+m+" to "+e.data.index),m=e.data.index);var t,n,i=e.data.played.length-1,a=e.data.buffered.length-1,o=e.data.currentTime;if(E=o,e.data.timeOffset&&(p=e.data.timeOffset,E+=p.currentTime),c!==r.PLAYING&&c!==r.BUFFERING||0!==E?E=c===r.LOADING?0:E:b.detailEnabled()&&b.detail("playing but currentTime = 0"),0===E&&b.detailEnabled()&&b.detail("currentTime = 0"),i>=0&&(d.playedStart=0,d.playedEnd=o),a>=0){var s=e.data.buffered.start(a),u=e.data.buffered.end(a),S=e.data.duration?e.data.duration:0;if(n=u,2===(t=h).length&&t.shift(),t.push(n),!function(e){var t=!0;if(e.length){for(var n=e[0],r=1;r<e.length;r++)if(e[r]!==n){t=!1;break}}else t=!1;return t}(h)){var y=f?parseFloat((S-u).toFixed(3)):0;d.durationDelta=y}e.data.useDuration&&(u=S,g||(g=e.data.useDuration)),e.data.timeOffset&&(s+=p.currentTime,u+=p.currentTime),function(e,t){var n=!0;return f&&!g&&(n=!1),O(d.bufferEnd,e)?(_=O(d.currentTime,t),T=e-t<0,_||T?A||(_&&b.debugEnabled()&&b.debug("bufferEnd & currentTime not moving, do update (bufferEnd old/new: "+d.bufferEnd.toFixed(3)+" - "+e.toFixed(3)+", currentTime old/new: "+d.currentTime.toFixed(3)+" - "+t.toFixed(3)+")"),T&&b.debugEnabled()&&b.debug("bufferEnd not moving & buffer dried out, do update (bufferEnd old/new: "+d.bufferEnd.toFixed(3)+" - "+e.toFixed(3)+", currentTime old/new: "+d.currentTime.toFixed(3)+" - "+t.toFixed(3)+")"),A=!0,n=!0):A&&(b.debugEnabled()&&b.debug("bufferEnd not moving, but currentTime is no longer stuck (bufferEnd old/new: "+d.bufferEnd.toFixed(3)+" - "+e.toFixed(3)+", currentTime old/new: "+d.currentTime.toFixed(3)+" - "+t.toFixed(3)+")"),A=!1)):(n=!0,A&&(b.debugEnabled()&&b.debug("bufferEnd is no longer stuck (bufferEnd old/new: "+d.bufferEnd.toFixed(3)+"/"+e.toFixed(3)+")"),A=!1)),n}(u,E)&&(d.bufferUpdate=u-d.bufferEnd,d.bufferStart=s,d.bufferEnd=u,d.bufferDelay=u-E)}d.currentTime=E,d.playbackRate=e.data.playbackRate,d.duration=e.data.duration,l.exactCurrentTime=o,l.buffered=e.data.buffered,l.mediaElementIndex=m,R()}},{type:o.RECOVER,listener:function(){u.emit(s.MEDIA_ERROR_RECOVER_STATS,{bufferEnd:d.bufferEnd})}}],v=[{type:i.STREAM_INFO,listener:function(){f||(b.debugEnabled()&&b.debug("wss: add stats listener"),e.add({target:u,listeners:y}))}}];function R(){u.emit(s.PRIVATE_MEDIA_STATS,{mediaStats:{bufferStart:d.bufferStart,bufferEnd:d.bufferEnd,bufferDelay:d.bufferDelay,bufferUpdate:d.bufferUpdate,duration:d.duration,durationDelta:d.durationDelta,currentTime:d.currentTime,playbackRate:d.playbackRate,playedStart:d.playedStart,playedEnd:d.playedEnd,buffered:l.buffered,exactCurrentTime:l.exactCurrentTime,mediaElementIndex:l.mediaElementIndex}}),u.emit(s.PUBLIC_MEDIA_STATS,{mediaStats:{bufferStart:d.bufferStart,bufferEnd:d.bufferEnd,bufferDelay:d.bufferDelay,bufferUpdate:d.bufferUpdate,duration:d.duration,durationDelta:d.durationDelta,currentTime:d.currentTime,playbackRate:d.playbackRate,playedStart:d.playedStart,playedEnd:d.playedEnd}})}function O(e,t){return e-t==0}function I(){d={bufferStart:0,bufferEnd:0,bufferDelay:0,bufferUpdate:0,duration:0,durationDelta:0,currentTime:0,playbackRate:0,playedStart:0,playedEnd:0},l={buffered:null,exactCurrentTime:0,mediaElementIndex:null},R()}return I(),e.add({target:u,listeners:S}),e.add({target:u,listeners:v}),{destroy:function(){e.remove({target:u,listeners:S}),e.remove({target:u,listeners:v})}}}}}.apply(t,r))||(e.exports=i)},8762:function(e,t,n){var r,i;r=[n(8333),n(3778),n(3890),n(492),n(6637),n(855),n(5698),n(2653),n(9804),n(5997),n(391)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l){return{create:function(c){var f=e.create("MediaErrorHandler"),E=null,p=0,m=0,b=0,h=[],g=[t.MEDIA.DECODE_ERROR,t.MEDIA.HLS_VIDEO_DECODE_ERROR,t.MEDIA.MEDIA_SOURCE_ENDED,t.MEDIA.HLS_BUFFER_UNDERRUN,t.MEDIA.HLS_MAX_RANGE,t.PLAYER.PLAYBACK_ERROR],_=[],T=[],A=null,S=0,y=3,v=[{type:d.ERROR,listener:R},{type:d.MEDIA_ERROR_RECOVERED,listener:O},{type:l.ERROR,listener:R},{type:l.MEDIA_ERROR_RECOVERED,listener:O},{type:u.ERROR,listener:R},{type:o.APPLICATION_STATE_CHANGE,listener:function(e){switch(e.data.state){case r.PAUSED:!function(){for(f.debugEnabled()&&f.debug("reset media error recover values");h.length;)h.shift();E=null,p=0,m=0,F()}();break;case r.PLAYING:}}},{type:o.CONFIG,listener:function(e){var t;isNaN(e.data.config.playback.mediaErrorRecoveries)?y=0:(0,1/0,t=e.data.config.playback.mediaErrorRecoveries,y=isNaN(t)?0:Math.min(Infinity,Math.max(0,t)))}},{type:o.SWITCH_STREAM_INIT,listener:function(e){P(e.data.type)?F():(F(),k(_,e.data.id))}},{type:o.SWITCH_STREAM_SUCCESS,listener:function(e){P(e.data.type)||(x(_,e.data.id),F(),L())}},{type:o.SWITCH_STREAM_FAIL,listener:function(e){P(e.data.type)?I():(x(_,e.data.id),M())}},{type:o.SWITCH_STREAM_ABORT,listener:function(e){P(e.data.type)?I():(x(_,e.data.id),M())}},{type:o.UPDATE_SOURCE_INIT,listener:function(e){F(),L(),k(T,e.data.id)}},{type:o.UPDATE_SOURCE_SUCCESS,listener:function(e){F(),L(),x(T,e.data.id)}},{type:o.UPDATE_SOURCE_FAIL,listener:function(e){F(),L(),x(T,e.data.id)}},{type:o.UPDATE_SOURCE_ABORT,listener:function(e){F(),L(),x(T,e.data.id)}}];function R(e){switch(E=e.data,f.debugEnabled()&&f.debug("media error occured with native code "+E.code),E.code){case a.MEDIA_ERR_ABORTED:E.code=t.MEDIA.ABORTED,E.message=n.MEDIA.ABORTED;break;case a.MEDIA_ERR_NETWORK:E.code=t.MEDIA.DOWNLOAD_ERROR,E.message=n.MEDIA.DOWNLOAD_ERROR;break;case a.MEDIA_ERR_DECODE:w()&&f.debugEnabled()&&f.debug("in switch or update, but continue handling from error "+E.code),E.code=t.MEDIA.DECODE_ERROR,E.message=n.MEDIA.DECODE_ERROR;break;case a.MEDIA_ERR_HLS_VIDEO_DECODE:if(w())return void(f.debugEnabled()&&f.debug("return from error "+E.code));E.code=t.MEDIA.HLS_VIDEO_DECODE_ERROR,E.message=n.MEDIA.HLS_VIDEO_DECODE_ERROR;break;case a.MEDIA_ERR_SRC_NOT_SUPPORTED:E.code=t.MEDIA.NOT_SUPPORTED,E.message=n.MEDIA.NOT_SUPPORTED;break;case a.MEDIA_ERR_MEDIA_SOURCE_ENDED:w()&&f.debugEnabled()&&f.debug("in switch or update, but continue handling from error "+E.code),E.code=t.MEDIA.MEDIA_SOURCE_ENDED,E.message=n.MEDIA.MEDIA_SOURCE_ENDED;break;case a.MEDIA_ERR_HLS_JUMP:if(U(e,t.PLAYER.PLAYBACK_ERROR))return void(f.debugEnabled()&&f.debug("return from error "+E.code));E.code=t.PLAYER.PLAYBACK_ERROR,E.message=n.PLAYER.PLAYBACK_ERROR;break;case a.MEDIA_ERR_HLS_BUFFER_UNDERRUN:if(E.waiting&&p<y)return void c.emit(u.OFFLINE_BUFFER_UNDERRUN);if(!E.reconnect&&U(e,t.MEDIA.HLS_BUFFER_UNDERRUN))return void(f.debugEnabled()&&f.debug("return from error "+E.code));E.code=t.MEDIA.HLS_BUFFER_UNDERRUN,E.message=n.MEDIA.HLS_BUFFER_UNDERRUN;break;case a.MEDIA_ERR_HLS_MAX_RANGE:if(U(e,t.MEDIA.HLS_MAX_RANGE))return void(f.debugEnabled()&&f.debug("return from error "+E.code));E.code=t.MEDIA.HLS_MAX_RANGE,E.message=n.MEDIA.HLS_MAX_RANGE}(function(e){var t;if(-1===g.indexOf(e))t=!1,f.debugEnabled()&&f.debug("media error with code "+e+" not recoverable, trigger error");else if(p>=y)t=!1,f.debugEnabled()&&f.debug("media error with code "+e+" recoverable, but recover threshold "+y+" reached within "+(p?(Math.floor(performance.now())-h[0])/1e3:0)+" seconds, trigger error");else{for(t=!0,h.push(Math.floor(performance.now()));h[h.length-1]-h[0]>6e4;)h.shift();p=h.length,m++;var n=6e4-(h[p-1]-h[0]),r=y-p;f.debugEnabled()&&f.debug("recovering from media error "+e+", recovery "+p+"/"+y+" within the last 60 seconds ("+m+" total)"),f.debugEnabled()&&f.debug(r+(r<=1?" recoveries":" recovery")+" allowed within remaining time of "+n/1e3+" seconds"),F(),b=setTimeout(I,1e4),c.emit(s.RECOVER,{count:p,max:y,total:m,code:e,remainingTime:n,reconnect:!!E.reconnect})}return t})(E.code)||(f.debugEnabled()&&f.debug('trigger "'+s.ERROR+'" with translated code '+E.code+' and message "'+E.message+'"'),c.emit(s.ERROR,E))}function O(e){f.debugEnabled()&&f.debug("recovery succeed from error "+e.data.code),F(),c.emit(s.RECOVERED,{data:{code:e.data.code}})}function I(){F(),f.debugEnabled()&&f.debug("recovery failed from error with translated code "+E.code+' and message "'+E.message+'"'),setTimeout(N,200)}function N(){c.emit(s.ERROR,E)}function C(){f.debugEnabled()&&f.debug("inSwitch has length "+_.length);var e=!1;return _.length&&(e=!0),e}function D(){f.debugEnabled()&&f.debug("inUpdate has length "+T.length);var e=!1;return T.length&&(e=!0),e}function w(){f.debugEnabled()&&f.debug("check if switch or update");var e=!1;return C()?(f.debugEnabled()&&f.debug("still in switch"),e=!0):D()&&(f.debugEnabled()&&f.debug("still in update"),e=!0),e}function U(e,t){var n=!1;return C()?(f.debugEnabled()&&f.debug("still in switch, queue error with transformed code "+t),function(e,t){f.debugEnabled()&&f.debug("media error with code "+t+'" queued during ongoing switch or update'),A||c.emit(s.QUEUED,{code:t}),A=e}(e,t),n=!0):D()&&(f.debugEnabled()&&f.debug("still in update, do nothing"),n=!0),n}function P(e){return"recover"===e}function M(){f.debugEnabled()&&f.debug("check queued media error"),w()?f.debugEnabled()&&f.debug("abort queued check, still ongoing switch or update"):A&&!S&&(f.debugEnabled()&&f.debug("set timeout for handling queued media error again"),S=setTimeout((function(){f.debugEnabled()&&f.debug("timeout fired queued media error"),clearTimeout(S),S=0,R(A),L()}),250))}function L(){A=null,c.emit(s.UNQUEUED)}function F(){clearTimeout(b),b=0}function k(e,t){return e.push(t),e}function x(e,t){for(var n=0;n<e.length;)e[n]===t?e.splice(n,1):++n;return e}return f.debugEnabled()&&f.debug("initialize"),i.add({target:c,listeners:v}),{destroy:function(){i.remove({target:c,listeners:v})}}}}}.apply(t,r))||(e.exports=i)},1833:function(e,t,n){var r,i;r=[n(1933),n(8333),n(6627),n(6637),n(9804),n(5698),n(5997),n(2653),n(5980),n(291),n(855),n(492)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l,c){return{create:function(f){var E,p,m=t.create("PauseHandler"),b=0,h=0,g=0,_=!1,T=!1,A=!1,S=[],y=!1,v=!1,R=!1,O=!1,I=[{type:o.PAUSE,listener:D},{type:o.WAITING,listener:D},{type:o.ENDED,listener:D},{type:o.PLAY_START_ABORT_ERROR,listener:D},{type:o.VOLUME_CHANGE,listener:function(e){v&&!e.data.muted&&(R=!0,setTimeout((function(){R=!1}),50)),v=e.data.muted}},{type:a.APPLICATION_STATE_CHANGE,listener:function(e){switch(E=e.data.state){case c.PLAYING:for(w(),U();S.length;)S.pop();y=!1;break;case c.LOADING:m.debugEnabled()&&m.debug("add play state listeners"),r.add({target:f,listeners:N});break;case c.PAUSING:r.remove({target:f,listeners:N});break;case c.PAUSED:for(w(),U();S.length;)S.pop();A=!1,y=!1}}},{type:a.CONFIG,listener:function(e){p=n.mustUseHLS||e.data.config.playback.allowSafariHlsFallback&&n.canUseHLS,v=e.data.config.playback.muted}},{type:a.DOCUMENT_VISIBLE,listener:C},{type:a.DOCUMENT_HIDDEN,listener:C},{type:s.RECOVER,listener:function(){m.debugEnabled()&&m.debug("media error recover"),A=!0}},{type:s.RECOVERED,listener:function(){m.debugEnabled()&&m.debug("media error recovered"),A=!1}},{type:d.PAUSE,listener:function(e){e.data.buffer&&(O=!0,setTimeout((function(){O=!1}),50))}}],N=[{type:u.PRIVATE_MEDIA_STATS,listener:function(e){g=e.data.mediaStats.bufferDelay}}];function C(t){_=t.name===a.DOCUMENT_HIDDEN,T=t.name===a.DOCUMENT_VISIBLE,m.debug(_?"hidden":"visible"),T&&v&&!0===y&&E===c.LOADING?(m.debugEnabled()&&m.debug("was hidden playback attempt, now visible, loading, play hook"),f.emit(d.PLAY,{external:!1})):_&&(e.mobile||n.isIOSDesktopMode&&!n.isIPadDesktopMode)&&(E===c.PLAYING||E===c.LOADING||E===c.BUFFERING)&&f.emit(i.SUSPENDED)}function D(t){var n=t.name;if(m.debugEnabled()&&m.debug(n+" triggered while isRecovering = "+A.toString()+", pauseTimeout = "+(h?"true":"false")+", waitTimeout = "+(b?"true":"false")),A)m.debugEnabled()&&m.debug("skip check while recovery is ongoing");else{var r=S.length;if(_&&e.mobile&&E===c.PLAYING)m.debugEnabled()&&m.debug("hidden, suspend"),f.emit(i.SUSPENDED);else if(n===o.PLAY_START_ABORT_ERROR)"background"===t.data.reason&&_&&(y=!0);else if(n===o.PAUSE){if(R)return m.debugEnabled()&&m.debug("was unmuted right before pause, make play hook to check if allowed"),void f.emit(d.PLAY,{external:!1});if(p){if(m.debugEnabled()&&m.debug("hls pause"),!O)return m.debugEnabled()&&m.debug("pause but not triggered"),U(),m.debugEnabled&&m.debug("setPauseTimeout"),void(h=setTimeout((function(){w(),E===c.PLAYING?(m.debugEnabled()&&m.debug("pause timeout fired"),S[0]===o.PAUSE?(m.debugEnabled()&&m.debug("last event still pause, emit error"),f.emit(i.ERROR,{code:l.MEDIA_ERR_HLS_BUFFER_UNDERRUN})):m.debugEnabled()&&m.debug("last event not pause after pause timeout fired ("+S[0]+")")):m.debugEnabled()&&m.debug("pause timeout fired, but not playing or buffering")}),200));m.debugEnabled()&&m.debug("pause seems to be triggered by buffer, do nothing")}}else{if(p&&n===o.ENDED&&r>=1&&S[0]===o.PAUSE)return void(E===c.PLAYING||E===c.BUFFERING?(m.debugEnabled()&&m.debug("pause ended case, clear all timeouts"),w(),U(),f.emit(i.ERROR,{code:l.MEDIA_ERR_HLS_BUFFER_UNDERRUN})):m.debugEnabled()&&m.debug("pause ended case, but not playing or buffering"));if(!b&&!p)return m.debugEnabled()&&m.debug("set wait timeout on "+n),w(),void function(e,t){m.debugEnabled&&m.debug("setWaitTimeout"),b=setTimeout(function(e,t){U(),E===c.PLAYING?(m.debugEnabled()&&m.debug("nanoplayer: recover unexpected pause type "+e+", bufferDelay = "+t,3),f.emit(d.PLAY,{external:!1})):m.debugEnabled()&&m.debug("wait timeout fired, but not playing")}.bind(null,e,t),200)}(n,g)}S.unshift(n)}}function w(){m.debugEnabled&&m.debug("clearPauseTimeout"),clearTimeout(h),h=0}function U(){m.debugEnabled&&m.debug("clearWaitTimeout"),clearTimeout(b),b=0}return m.debugEnabled()&&m.debug("initialize"),r.add({target:f,listeners:I}),{destroy:function(){r.remove({target:f,listeners:I})}}}}}.apply(t,r))||(e.exports=i)},230:function(e,t,n){var r,i;r=[n(8333),n(6637),n(492),n(5698),n(5997),n(2653),n(1447)],void 0===(i=function(e,t,n,r,i,a,o){return{create:function(s){var u,d,l=e.create("QualityHandler"),c={extreme:{ratioThreshold:.95,samplesRange:3,samplesMatchAllowed:1,level:4},high:{ratioThreshold:.2,samplesRange:5,samplesMatchAllowed:1,level:3},medium:{ratioThreshold:.1,samplesRange:10,samplesMatchAllowed:3,level:2},low:{ratioThreshold:.02,samplesRange:10,samplesMatchAllowed:1,level:1}},f={extreme:{ratioThreshold:.9,samplesRange:1,samplesMatchAllowed:0,level:4}},E=[],p=[],m=!1,b=["extreme","high","medium","low"],h=0,g=0,_=0,T=["extreme"],A=0,S=0,y=0,v=0,R=[{type:r.APPLICATION_STATE_CHANGE,listener:function(e){switch(d=e.data.state){case n.PLAYING:m&&C();break;case n.PAUSED:D()}}},{type:r.STREAM_INFO,listener:N},{type:r.STREAM_INFO_UPDATE,listener:function(e){N(e)}},{type:a.RECOVER,listener:function(){l.detailEnabled()&&l.detail("media error recover"),D()}},{type:a.RECOVERED,listener:function(){l.detailEnabled()&&l.detail("media error recovered"),C()}}],O=[{type:i.QUALITY_UPDATE,listener:function e(t){for(var r in t.data.quality)if(Object.prototype.hasOwnProperty.call(u,r)){if("totalVideoFrames"===r&&(u.totalVideoFramesCurrent=t.data.quality.totalVideoFrames-u.totalVideoFrames,v=u.totalVideoFramesCurrent),"droppedVideoFrames"===r){for(u.droppedVideoFramesCurrent=t.data.quality.droppedVideoFrames-u.droppedVideoFrames;E.length>9;)E.shift();E.push({count:u.droppedVideoFramesCurrent,time:t.data.currentTime})}if("corruptedVideoFrames"===r){for(u.corruptedVideoFramesCurrent=t.data.quality.corruptedVideoFrames-u.corruptedVideoFrames;p.length>0;)p.shift();p.push({count:u.corruptedVideoFramesCurrent,time:t.data.currentTime})}u[r]=t.data.quality[r]}if(u.droppedVideoFramesLevel=_,u.corruptedVideoFramesLevel=y,v<0)return I(),e(t);v>0&&function(){var e,t,r=0,i=0,a=0;if(d===n.PLAYING){for(l.detailEnabled()&&l.detail("check with current dropped level "+h),l.detailEnabled()&&l.detail("skip check lower "+(h+1)),r=0;r<b.length-h;r+=1)if(e=w(b[r])){l.detailEnabled()&&l.detail("frame drop detected with type '"+e.type+"'"),l.detail(e.frames.dropped+" frames in last "+e.samples.all.length+" seconds dropped"),s.emit(o.FRAME_DROP,e),i=e.level,l.detailEnabled()&&l.detail("change current dropped level "+h+" to "+i),h=i,g&&l.detailEnabled()&&l.detail("reset dropped level timeout running, clear timeout"),clearTimeout(g),g=setTimeout((function(){l.detailEnabled()&&l.detail("reset current dropped level "+h+" to 0"),g=0,h=0}),1e3*e.samples.all.length),l.detailEnabled()&&l.detail("reset dropped level in "+e.samples.all.length+" sec");break}for(l.detailEnabled()&&l.detail("check with current corrupted level "+A),l.detailEnabled()&&l.detail("skip check lower "+(A+1)),r=0;r<T.length-A;r+=1)if(t=U(T[r])){l.detailEnabled()&&l.detail("frame drop detected with type '"+t.type+"'"),l.detail(t.frames.corrupted+" frames in last "+t.samples.all.length+" seconds corrupted"),s.emit(o.FRAME_CORRUPTED,t),a=t.level,l.detailEnabled()&&l.detail("change current corrupted level "+A+" to "+a),A=a,S&&l.detailEnabled()&&l.detail("reset corrupted level timeout running, clear timeout"),clearTimeout(S),S=setTimeout((function(){l.detailEnabled()&&l.detail("reset current corrupted level "+A+" to 0"),S=0,A=0}),1e3*t.samples.all.length),l.detailEnabled()&&l.detail("reset corrupted level in "+t.samples.all.length+" sec");break}}_=i,y=a}(),s.emit(o.QUALITY_STATS,u)}}];function I(){for(u={droppedVideoFrames:0,droppedVideoFramesCurrent:0,droppedVideoFramesLevel:0,corruptedVideoFrames:0,corruptedVideoFramesCurrent:0,corruptedVideoFramesLevel:0,creationTime:0,totalVideoFrames:0,totalVideoFramesCurrent:0},clearTimeout(g),h=0,g=0,_=0;E.length;)E.pop();for(clearTimeout(S),A=0,S=0,y=0;p.length;)p.pop();v=0}function N(e){m=e.data.streamInfo.haveVideo}function C(){D(),t.add({target:s,listeners:O})}function D(){t.remove({target:s,listeners:O}),I()}function w(e){if(l.detailEnabled()&&l.detail("check dropped type '"+e+"'"),E.length>c[e].samplesRange-1){var t=E.slice(-c[e].samplesRange),n=t.filter((function(t){return t.count>=v*c[e].ratioThreshold}));if(n.length>c[e].samplesMatchAllowed){var r=0;return t.forEach((function(e){r+=e.count})),{type:e,level:c[e].level,framerate:v,samples:{all:t,matched:n,limit:Math.ceil(v*c[e].ratioThreshold)},frames:{dropped:r}}}}return!1}function U(e){if(l.detailEnabled()&&l.detail("check corrupted type '"+e+"'"),p.length>f[e].samplesRange-1){var t=p.slice(-f[e].samplesRange),n=t.filter((function(t){return t.count>=v*f[e].ratioThreshold}));if(n.length>f[e].samplesMatchAllowed){var r=0;return t.forEach((function(e){r+=e.count})),{type:e,level:f[e].level,framerate:v,samples:{all:t,matched:n,limit:Math.ceil(v*f[e].ratioThreshold)},frames:{corrupted:r}}}}return!1}return t.add({target:s,listeners:R}),{destroy:function(){t.remove({target:s,listeners:R}),t.remove({target:s,listeners:O}),I()}}}}}.apply(t,r))||(e.exports=i)},42:function(e,t,n){var r,i;r=[n(5698)],void 0===(i=function(e){return{create:function(t){function n(e){window.fragments||(window.fragments=[]),window.fragments.push(e.data)}var r;return r="nanoDump",-1!==document.cookie.indexOf(r+"=")&&document.cookie.split(r+"=")[1].split(";")[0]&&t.addListener(e.STREAM_FRAGMENT,n),{destroy:function(){t.removeListener(e.STREAM_FRAGMENT,n)}}}}}.apply(t,r))||(e.exports=i)},291:function(e,t){var n;void 0===(n=function(){var e="mediaElementControl.";return{BASE:e,CREATE_VIDEO:e+"createVideo",DESTROY_VIDEO:e+"destroyVideo",VIDEO_SOURCE:e+"videoSource",UPDATE_SOURCE:e+"updateSource",PLAY:e+"play",PAUSE:e+"pause",SEEK:e+"seek",MUTE:e+"mute",UNMUTE:e+"unmute",SET_VOLUME:e+"volume",SET_RATE:e+"playbackRate"}}.apply(t,[]))||(e.exports=n)},5997:function(e,t){var n;void 0===(n=function(){var e="mediaElementHandler.";return{BASE:e,LOAD_START:e+"loadstart",PROGRESS:e+"progress",SUSPEND:e+"suspend",ABORT:e+"abort",EMPTIED:e+"emptied",STALLED:e+"stalled",PLAY:e+"play",PAUSE:e+"pause",LOADED_META_DATA:e+"loadedmetadata",LOADED_DATA:e+"loadeddata",WAITING:e+"waiting",ERROR:e+"error",PLAYING:e+"playing",CAN_PLAY:e+"canplay",CAN_PLAY_THROUGH:e+"canplaythrough",SEEKING:e+"seeking",SEEKED:e+"seeked",TIME_UPDATE:e+"timeupdate",ENDED:e+"ended",RATE_CHANGE:e+"ratechange",DURATION_CHANGE:e+"durationchange",VOLUME_CHANGE:e+"volumechange",QUALITY_UPDATE:e+"qualityupdate",VIDEO_SOURCE:e+"videoSource",ELEMENT_CREATED:e+"elementCreated",PLAY_START_SUCCESS:e+"playStartSuccess",PLAY_START_NOT_ALLOWED_ERROR:e+"playStartNotAllowedError",PLAY_START_ABORT_ERROR:e+"playStartAbortError",VIEWPORT_VISIBLE:e+"viewportvisible",VIEWPORT_HIDDEN:e+"viewporthidden",UPDATE_SOURCE_ABORT:e+"updateSourceAbort",UPDATE_SOURCE_FAIL:e+"updateSourceFail",UPDATE_SOURCE_TIMEOUT:e+"updateSourceTimeout",MEDIA_ERROR_RECOVERED:e+"recovered",ACTIVE_VIDEO_ELEMENT_CHANGE:e+"activeVideoElementChange",SWITCH_STREAM:e+"switchStream"}}.apply(t,[]))||(e.exports=n)},5698:function(e,t){var n;void 0===(n=function(){var e="mediaElementManager.";return{BASE:e,CONFIG:e+"config",SERVER_INFO:e+"serverInfo",STREAM_INFO:e+"streamInfo",STREAM_INFO_UPDATE:e+"streamInfoUpdate",STREAM_FRAGMENT:e+"streamFragment",RANDOM_ACCESS_POINT:e+"randomAccessPoint",APPLICATION_STATE_CHANGE:e+"applicationStateChange",STARTUP_STATS_ADDED:e+"startupStatsAdded",STARTUP_STATS_COMPLETED:e+"startupStatsCompleted",DOCUMENT_VISIBLE:e+"documentVisible",DOCUMENT_HIDDEN:e+"documentHidden",NETWORK_ONLINE:e+"networkOnline",NETWORK_OFFLINE:e+"networkOffline",SWITCH_STREAM_INIT:e+"switchStreamInit",SWITCH_STREAM_SUCCESS:e+"switchStreamSuccess",SWITCH_STREAM_ABORT:e+"switchStreamAbort",SWITCH_STREAM_FAIL:e+"switchStreamFail",UPDATE_SOURCE_INIT:e+"updateSourceInit",UPDATE_SOURCE_SUCCESS:e+"updateSourceSuccess",UPDATE_SOURCE_ABORT:e+"updateSourceAbort",UPDATE_SOURCE_FAIL:e+"updateSourceFail",BUFFER_TWEAKS_CREATED:e+"bufferTweaksCreated"}}.apply(t,[]))||(e.exports=n)},560:function(e,t){var n;void 0===(n=function(){var e="mediaElementPlaybackControl.";return{BASE:e,PLAYBACK_STARTED:e+"playbackStarted",BUFFERING:e+"buffering"}}.apply(t,[]))||(e.exports=n)},5075:function(e,t){var n;void 0===(n=function(){var e="mediaElementPlayback.";return{BASE:e,LOAD_START:e+"loadstart",PROGRESS:e+"progress",SUSPEND:e+"suspend",ABORT:e+"abort",EMPTIED:e+"emptied",STALLED:e+"stalled",PLAY:e+"play",PAUSE:e+"pause",LOADED_META_DATA:e+"loadedmetadata",LOADED_DATA:e+"loadeddata",WAITING:e+"waiting",MEDIA_ERROR:e+"mediaerror",MEDIA_ERROR_RECOVER:e+"mediaerrorrecover",MEDIA_ERROR_RECOVERED:e+"mediaerrorrecovered",PLAYING:e+"playing",CAN_PLAY:e+"canplay",CAN_PLAY_THROUGH:e+"canplaythrough",SEEKING:e+"seeking",SEEKED:e+"seeked",TIME_UPDATE:e+"timeupdate",ENDED:e+"ended",RATE_CHANGE:e+"ratechange",DURATION_CHANGE:e+"durationchange",VOLUME_CHANGE:e+"volumechange",ELEMENT_CREATED:e+"elementCreated",QUALITY_STATS:e+"qualitystats",PLAY_STATS:e+"playStats",MEDIA_ERROR_RECOVER_STATS:e+"mediaErrorRecoverStats",FRAME_DROP:e+"framedrop",PLAYBACK_FINISHED:e+"playbackFinished",PLAYBACK_ERROR:e+"playbackError",PLAYBACK_STARTED:e+"playbackStarted",PLAYBACK_SUSPENDED:e+"playbackSuspended",BUFFERING:e+"buffering",PLAY_START_SUCCESS:e+"playStartSuccess",PLAY_START_NOT_ALLOWED_ERROR:e+"playStartNotAllowedError",PLAY_START_ABORT_ERROR:e+"playStartAbortError",VIEWPORT_VISIBLE:e+"viewportvisible",VIEWPORT_HIDDEN:e+"viewporthidden",ELEMENTS_UPDATED:e+"elementsUpdated",TIME_OFFSET:e+"timeOffset",UPDATE_SOURCE_ABORT:e+"updateSourceAbort",UPDATE_SOURCE_FAIL:e+"updateSourceFail",UPDATE_SOURCE_TIMEOUT:e+"updateSourceTimeout",ACTIVE_VIDEO_ELEMENT_CHANGE:e+"activeVideoElementChange",OFFLINE_BUFFER_UNDERRUN:e+"offlinebufferunderrun",SOURCE_ENDED:e+"sourceEnded",SWITCH_STREAM:e+"switchStream",FRAME_CORRUPTED:e+"frameCorrupted"}}.apply(t,[]))||(e.exports=n)},4210:function(e,t){var n;void 0===(n=function(){var e="mediaElementProxy.";return{BASE:e,LOAD_START:e+"loadstart",PROGRESS:e+"progress",SUSPEND:e+"suspend",ABORT:e+"abort",EMPTIED:e+"emptied",STALLED:e+"stalled",PLAY:e+"play",PAUSE:e+"pause",LOADED_META_DATA:e+"loadedmetadata",LOADED_DATA:e+"loadeddata",WAITING:e+"waiting",ERROR:e+"error",PLAYING:e+"playing",CAN_PLAY:e+"canplay",CAN_PLAY_THROUGH:e+"canplaythrough",SEEKING:e+"seeking",SEEKED:e+"seeked",TIME_UPDATE:e+"timeupdate",ENDED:e+"ended",RATE_CHANGE:e+"ratechange",DURATION_CHANGE:e+"durationchange",VOLUME_CHANGE:e+"volumechange",QUALITY_UPDATE:e+"qualityupdate",ELEMENT_CREATED:e+"elementCreated",PLAY_START_SUCCESS:e+"playStartSuccess",PLAY_START_NOT_ALLOWED_ERROR:e+"playStartNotAllowedError",PLAY_START_ABORT_ERROR:e+"playStartAbortError",VIEWPORT_VISIBLE:e+"viewportvisible",VIEWPORT_HIDDEN:e+"viewporthidden"}}.apply(t,[]))||(e.exports=n)},5980:function(e,t){var n;void 0===(n=function(){var e="mediaElementStatsCreator.";return{BASE:e,PUBLIC_MEDIA_STATS:e+"publicMediaStats",PRIVATE_MEDIA_STATS:e+"privateMediaStats",MEDIA_ERROR_RECOVER_STATS:e+"mediaErrorRecoverStats"}}.apply(t,[]))||(e.exports=n)},2653:function(e,t){var n;void 0===(n=function(){var e="mediaErrorHandler.";return{BASE:e,ERROR:e+"error",RECOVER:e+"recover",RECOVERED:e+"recovered",QUEUED:e+"queued",UNQUEUED:e+"unqueued"}}.apply(t,[]))||(e.exports=n)},9804:function(e,t){var n;void 0===(n=function(){var e="mediaHandler.";return{BASE:e,ERROR:e+"error",SUSPENDED:e+"suspended",OFFLINE_BUFFER_UNDERRUN:e+"offlinebufferunderrun"}}.apply(t,[]))||(e.exports=n)},391:function(e,t){var n;void 0===(n=function(){var e="mediaSourceHandler.";return{BASE:e,SOURCE_OPEN:e+"sourceopen",SOURCE_ENDED:e+"sourceended",SOURCE_CLOSED:e+"sourceclosed",SOURCE_READY:e+"sourceready",ERROR:e+"error",MEDIA_ERROR_RECOVERED:e+"mediaerrorrecovered"}}.apply(t,[]))||(e.exports=n)},1447:function(e,t){var n;void 0===(n=function(){var e="qualityHandler.";return{BASE:e,QUALITY_STATS:e+"qualitystats",FRAME_DROP:e+"framedrop",FRAME_CORRUPTED:e+"framecorrupted"}}.apply(t,[]))||(e.exports=n)},683:function(e,t){var n;void 0===(n=function(){var e="sourceBufferQueue.";return{BASE:e,TIME_OFFSET:e+"timeOffset",FIRST_FRAGMENT:e+"firstFragment"}}.apply(t,[]))||(e.exports=n)},1137:function(e,t,n){var r,i;r=[n(8333),n(6637),n(9804),n(5698),n(2653),n(855),n(492)],void 0===(i=function(e,t,n,r,i,a,o){return{create:function(s){var u,d,l,c,f,E=e.create("HLSInterruptHandler"),p=!1,m=[{type:r.APPLICATION_STATE_CHANGE,listener:function(e){switch(u=e.data.state){case o.LOADING:E.debugEnabled()&&E.debug("loading"),p||(E.debugEnabled()&&E.debug("not online at loading, set waitForOnline to true"),d=!0,b(!0));break;case o.PLAYING:E.debugEnabled()&&E.debug("playing"),h();break;case o.BUFFERING:E.debugEnabled()&&E.debug("buffering"),f||(E.debugEnabled()&&E.debug("set buffering timeout"),f=setTimeout((function(){E.debugEnabled()&&E.debug("buffering timeout fired"),clearTimeout(f),f=0,u!==o.BUFFERING||c||(p?(E.debugEnabled()&&E.debug("online at buffering timeout"),performance.now()-l.online<5e3&&(E.debugEnabled()&&E.debug("was offline before buffering timeout"),b(!1))):(E.debugEnabled()&&E.debug("not online at buffering timeout, set waitForOnline to true"),d=!0,b(!0)))}),2e3))}}},{type:r.NETWORK_ONLINE,listener:function(){E.debugEnabled()&&E.debug("network online"),p=!0,l.online=performance.now(),u!==o.LOADING&&u!==o.BUFFERING||!d||c||(E.debugEnabled()&&E.debug("active state & waited for online"),b(!1))}},{type:r.NETWORK_OFFLINE,listener:function(){E.debugEnabled()&&E.debug("network offline"),p=!1,l.offline=performance.now()}},{type:i.RECOVER,listener:function(){E.debugEnabled()&&E.debug("media error recover"),c=!0}},{type:i.RECOVERED,listener:function(){E.debugEnabled()&&E.debug("media error recovered"),c=!1}}];function b(e){E.debugEnabled()&&E.debug("emit buffer underrun"),setTimeout((function(){s.emit(n.ERROR,{code:a.MEDIA_ERR_HLS_BUFFER_UNDERRUN,reconnect:!0,waiting:!!e}),!e&&h()}),200)}function h(){E.debugEnabled()&&E.debug("reset"),d=!1,l={online:0,offline:0},c=!1}return E.debugEnabled()&&E.debug("initialize"),t.add({target:s,listeners:m}),h(),{destroy:function(){t.remove({target:s,listeners:m})}}}}}.apply(t,r))||(e.exports=i)},4601:function(e,t,n){var r,i;r=[n(8333),n(8197),n(6637),n(9804),n(5698),n(5980),n(2653),n(855),n(492)],void 0===(i=function(e,t,n,r,i,a,o,s,u){return{create:function(d){var l,c,f,E=8,p=e.create("HLSJumpHandler"),m=!1,b=[{type:i.APPLICATION_STATE_CHANGE,listener:function(e){switch(n.remove({target:d,listeners:h}),e.data.state){case u.PAUSED:f=!1;break;case u.BUFFERING:p.debugEnabled()&&p.debug("entering buffering state"),l=null;break;case u.PAUSING:p.debugEnabled()&&p.debug("entering paused state"),l=null;break;case u.PLAYING:n.add({target:d,listeners:h})}}},{type:i.BUFFER_TWEAKS_CREATED,listener:function(e){E=Math.max(e.data.tweaks.buffer.max,E)}},{type:o.RECOVER,listener:function(){p.debugEnabled()&&p.debug("media error recover"),f=!0,l=null}},{type:o.RECOVERED,listener:function(){p.debugEnabled()&&p.debug("media error recovered"),f=!1}},{type:o.QUEUED,listener:function(){p.debugEnabled()&&p.debug("media error queued"),m=!0}},{type:o.UNQUEUED,listener:function(){p.debugEnabled()&&p.debug("media error unqueued"),m=!1}}],h=[{type:a.PRIVATE_MEDIA_STATS,listener:function(e){if(!f&&!m){if(c===e.data.mediaStats.mediaElementIndex&&l&&void 0!==l.currentTime){var n=e.data.mediaStats.currentTime<l.currentTime-2,i=e.data.mediaStats.currentTime+E<e.data.mediaStats.bufferEnd&&l.currentTime+E<l.bufferEnd;if(n||i){var a={code:!1,currentTime:{last:l.currentTime,current:e.data.mediaStats.currentTime}};n?(a.code=s.MEDIA_ERR_HLS_JUMP,p.debugEnabled()&&p.debug("hls jump")):i&&(a.code=s.MEDIA_ERR_HLS_MAX_RANGE,p.debugEnabled()&&p.debug("hls max range")),d.emit(r.ERROR,a)}}c=e.data.mediaStats.mediaElementIndex,l=t.copy(e.data.mediaStats)}}}];return p.debugEnabled()&&p.debug("initialize"),n.add({target:d,listeners:b}),{destroy:function(){n.remove({target:d,listeners:b})}}}}}.apply(t,r))||(e.exports=i)},2657:function(e,t,n){var r,i;r=[n(8333),n(6627),n(9658),n(1933),n(6637),n(5055),n(8250),n(9437),n(5698),n(5075),n(560),n(2653),n(9804),n(391),n(1447),n(5980),n(683),n(5997),n(291),n(7022),n(476),n(2885),n(1833),n(230),n(1705),n(4972),n(232),n(42),n(3824),n(8762),n(2869),n(4601),n(1137)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l,c,f,E,p,m,b,h,g,_,T,A,S,y,v,R,O,I,N,C,D,w,U){"use strict";return{create:function(e){var r,P,M=new n,L=[],F=[{type:u.CONFIG,listener:function(e){t.mustUseHLS||e.data.config.playback.allowSafariHlsFallback&&t.canUseHLS?(L.push(w.create(M)),L.push(U.create(M))):(L.push(D.create(M)),L.push(A.create(M)),L.push(I.create(M)))}}],k=[{from:h.LOAD_START,to:d.LOAD_START},{from:h.PROGRESS,to:d.PROGRESS},{from:h.SUSPEND,to:d.SUSPEND},{from:h.ABORT,to:d.ABORT},{from:h.EMPTIED,to:d.EMPTIED},{from:h.STALLED,to:d.STALLED},{from:h.PLAY,to:d.PLAY},{from:h.PAUSE,to:d.PAUSE},{from:h.LOADED_META_DATA,to:d.LOADED_META_DATA},{from:h.LOADED_DATA,to:d.LOADED_DATA},{from:h.WAITING,to:d.WAITING},{from:h.PLAYING,to:d.PLAYING},{from:h.CAN_PLAY,to:d.CAN_PLAY},{from:h.CAN_PLAY_THROUGH,to:d.CAN_PLAY_THROUGH},{from:h.SEEKING,to:d.SEEKING},{from:h.SEEKED,to:d.SEEKED},{from:h.TIME_UPDATE,to:d.TIME_UPDATE},{from:h.ENDED,to:d.ENDED},{from:h.RATE_CHANGE,to:d.RATE_CHANGE},{from:h.DURATION_CHANGE,to:d.DURATION_CHANGE},{from:h.VOLUME_CHANGE,to:d.VOLUME_CHANGE},{from:h.ELEMENT_CREATED,to:d.ELEMENT_CREATED},{from:h.PLAY_START_SUCCESS,to:d.PLAY_START_SUCCESS},{from:h.PLAY_START_ABORT_ERROR,to:d.PLAY_START_ABORT_ERROR},{from:h.PLAY_START_NOT_ALLOWED_ERROR,to:d.PLAY_START_NOT_ALLOWED_ERROR},{from:h.VIEWPORT_VISIBLE,to:d.VIEWPORT_VISIBLE},{from:h.VIEWPORT_HIDDEN,to:d.VIEWPORT_HIDDEN},{from:h.UPDATE_SOURCE_ABORT,to:d.UPDATE_SOURCE_ABORT},{from:h.UPDATE_SOURCE_FAIL,to:d.UPDATE_SOURCE_FAIL},{from:h.UPDATE_SOURCE_TIMEOUT,to:d.UPDATE_SOURCE_TIMEOUT},{from:h.ACTIVE_VIDEO_ELEMENT_CHANGE,to:d.ACTIVE_VIDEO_ELEMENT_CHANGE},{from:h.SWITCH_STREAM,to:d.SWITCH_STREAM},{from:c.ERROR,to:d.MEDIA_ERROR},{from:c.RECOVER,to:d.MEDIA_ERROR_RECOVER},{from:c.RECOVERED,to:d.MEDIA_ERROR_RECOVERED},{from:f.SUSPENDED,to:d.PLAYBACK_SUSPENDED},{from:f.OFFLINE_BUFFER_UNDERRUN,to:d.OFFLINE_BUFFER_UNDERRUN},{from:p.QUALITY_STATS,to:d.QUALITY_STATS},{from:p.FRAME_DROP,to:d.FRAME_DROP},{from:p.FRAME_CORRUPTED,to:d.FRAME_CORRUPTED},{from:m.PUBLIC_MEDIA_STATS,to:d.PLAY_STATS},{from:m.MEDIA_ERROR_RECOVER_STATS,to:d.MEDIA_ERROR_RECOVER_STATS},{from:E.SOURCE_ENDED,to:d.PLAYBACK_FINISHED},{from:l.PLAYBACK_STARTED,to:d.PLAYBACK_STARTED},{from:l.BUFFERING,to:d.BUFFERING},{from:b.TIME_OFFSET,to:d.TIME_OFFSET}],x=[{from:o.CREATE_VIDEO,to:g.CREATE_VIDEO},{from:o.DESTROY_VIDEO,to:g.DESTROY_VIDEO},{from:o.VIDEO_SOURCE,to:g.VIDEO_SOURCE},{from:o.PLAY,to:g.PLAY},{from:o.PAUSE,to:g.PAUSE},{from:o.SEEK,to:g.SEEK},{from:o.MUTE,to:g.MUTE},{from:o.UNMUTE,to:g.UNMUTE},{from:o.SET_VOLUME,to:g.SET_VOLUME},{from:o.SET_RATE,to:g.SET_RATE},{from:o.UPDATE_SOURCE,to:g.UPDATE_SOURCE},{from:s.CONFIG,to:u.CONFIG},{from:s.SERVER_INFO,to:u.SERVER_INFO},{from:s.STREAM_FRAGMENT,to:u.STREAM_FRAGMENT},{from:s.RANDOM_ACCESS_POINT,to:u.RANDOM_ACCESS_POINT},{from:s.NETWORK_ONLINE,to:u.NETWORK_ONLINE},{from:s.NETWORK_OFFLINE,to:u.NETWORK_OFFLINE},{from:s.APPLICATION_STATE_CHANGE,to:u.APPLICATION_STATE_CHANGE},{from:s.STARTUP_STATS_ADDED,to:u.STARTUP_STATS_ADDED},{from:s.STARTUP_STATS_COMPLETED,to:u.STARTUP_STATS_COMPLETED},{from:s.DOCUMENT_VISIBLE,to:u.DOCUMENT_VISIBLE},{from:s.DOCUMENT_HIDDEN,to:u.DOCUMENT_HIDDEN},{from:s.STREAM_INFO,to:u.STREAM_INFO},{from:s.STREAM_INFO_UPDATE,to:u.STREAM_INFO_UPDATE},{from:s.SWITCH_STREAM_INIT,to:u.SWITCH_STREAM_INIT},{from:s.SWITCH_STREAM_SUCCESS,to:u.SWITCH_STREAM_SUCCESS},{from:s.SWITCH_STREAM_ABORT,to:u.SWITCH_STREAM_ABORT},{from:s.SWITCH_STREAM_FAIL,to:u.SWITCH_STREAM_FAIL},{from:s.UPDATE_SOURCE_INIT,to:u.UPDATE_SOURCE_INIT},{from:s.UPDATE_SOURCE_SUCCESS,to:u.UPDATE_SOURCE_SUCCESS},{from:s.BUFFER_TWEAKS_CREATED,to:u.BUFFER_TWEAKS_CREATED}];return i.add({target:M,listeners:F}),r=a.create(e,M,x),P=a.create(M,e,k),L.push(N.create(M)),L.push(C.create(M)),L.push(O.create(M)),L.push(_.create(M)),L.push(S.create(M)),L.push(y.create(M)),L.push(R.create(M)),t.useFakeAudio&&L.push(T.create(M)),t.isTridentBrowser&&L.push(v.create(M)),{destroy:function(){for(;L.length;)L.pop().destroy();r.destroy(),r=null,P.destroy(),P=null}}}}}.apply(t,r))||(e.exports=i)},2869:function(e,t,n){var r,i;r=[n(8333),n(6637),n(8730),n(3778),n(492),n(5865),n(855),n(5698),n(5997),n(2653),n(391),n(683),n(5980),n(291),n(8072)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l,c,f,E,p){return{create:function(m){var b,h,g,_,T,A,S,y=e.create("MediaSourceHandler"),v=!1,R=i.IDLE,O=!1,I=0,N=!1,C=!1,D=[{type:s.STREAM_INFO,listener:k},{type:s.STREAM_INFO_UPDATE,listener:k},{type:s.APPLICATION_STATE_CHANGE,listener:function(e){switch(R=e.data.state){case i.PAUSED:I=0,C=!1;break;case i.PLAYING:}}},{type:s.DOCUMENT_VISIBLE,listener:x},{type:s.DOCUMENT_HIDDEN,listener:x},{type:u.ELEMENT_CREATED,listener:function(){L()}},{type:u.PLAY_START_SUCCESS,listener:function(){y.debugEnabled()&&y.debug("onPlayStartSuccess"),N=!0,O=!0,F()}},{type:d.ERROR,listener:function(e){(S=e.data.code)===r.MEDIA.DECODE_ERROR?T=!0:S===r.MEDIA.MEDIA_SOURCE_ENDED&&(A=!0)}},{type:d.RECOVER,listener:function(e){S=e.data.code,y.debugEnabled()&&y.debug("media error recover after error "+S),C=!0,N=!0,O=!0,F()}},{type:c.FIRST_FRAGMENT,listener:function(e){_=e.data,!1===v&&m.emit(E.PLAY,{external:!1,invalidState:!0})}},{type:f.MEDIA_ERROR_RECOVER_STATS,listener:function(e){I=e.data.bufferEnd}}],w=[{type:a.SOURCE_OPEN,listener:function(){y.debugEnabled()&&y.debug("open"),v=!0,C&&m.emit(l.MEDIA_ERROR_RECOVERED,{code:S})}},{type:a.SOURCE_ENDED,listener:function(){var e;y.debugEnabled()&&y.debug("ended"),v=!1,m.emit(l.ERROR,{code:o.MEDIA_ERR_MEDIA_SOURCE_ENDED}),m.emit(l.SOURCE_ENDED,((e=e||{}).readyState=b.readyState,e))}},{type:a.SOURCE_CLOSED,listener:function(){v=!1,y.debugEnabled()&&y.debug("closed")}}],U=[];function P(){y.debugEnabled()&&y.debug("create mediasource"),b=window.ManagedMediaSource?new window.ManagedMediaSource:new window.MediaSource,t.add({target:b,listeners:w}),U.push(p.create(m,b,I,O?h:null,N?_:null,R)),O=!1,N=!1,T=!1,A=!1}function M(){if(b){for(y.debugEnabled()&&y.debug("destroy mediasource"),t.remove({target:b,listeners:w});U.length;)U.pop().destroy();b=null}}function L(){y.debugEnabled()&&y.debug("bind mediasource"),m.emit(E.VIDEO_SOURCE,{src:window.URL.createObjectURL(b),type:n.MP4})}function F(){y.debugEnabled()&&y.debug("resetMediaSourceOnTheFly");var e=b&&b.activeSourceBuffers.length,t=e&&b.activeSourceBuffers[b.activeSourceBuffers.length-1].buffered.length,n=t?b.activeSourceBuffers[b.activeSourceBuffers.length-1].buffered.end(b.activeSourceBuffers[b.activeSourceBuffers.length-1].buffered.length-1):0;y.debugEnabled()&&y.debug("hasActiveSourceBuffer "+e),y.debugEnabled()&&y.debug("hasActiveSourceBufferData "+t),y.debugEnabled()&&y.debug("lastBufferEndActiveSourceBuffer "+n),y.debugEnabled()&&y.debug("old lastBufferEnd "+I),n&&(y.debugEnabled()&&y.debug("set lastBufferEnd to lastBufferEndActiveSourceBuffer"),I=n),y.debugEnabled()&&y.debug("new lastBufferEnd "+I),y.debugEnabled()&&y.debug("resetMediaSource"),M(),P(),L()}function k(e){y.debugEnabled()&&y.debug("streamInfo"),y.debugEnabled()&&y.debug("lastBufferEnd "+I),h&&h.mimeType!==e.data.streamInfo.mimeType||T||A?(y.debugEnabled()&&y.debug(T?A?"was media source error":"was media decode error":"new mime type received"),h=e.data.streamInfo,O=!0,F()):h=e.data.streamInfo}function x(e){g=e.name===s.DOCUMENT_HIDDEN,y.debug(g?"hidden":"visible")}return y.debugEnabled()&&y.debug("create"),t.add({target:m,listeners:D}),P(),{destroy:function(){y.debugEnabled()&&y.debug("destroy"),M(),t.remove({target:m,listeners:D})}}}}}.apply(t,r))||(e.exports=i)},8072:function(e,t,n){var r,i;r=[n(8333),n(6627),n(6637),n(7990),n(5865),n(5980),n(5698),n(391),n(683),n(291),n(492)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l){return{create:function(c,f,E,p,m,b){var h,g,_,T,A,S=e.create("SourceBufferQueue "+(new Date).getTime()),y=0,v=0,R=0,O=!1,I=[],N="append",C="remove",D="reset",w="seek",U="offset",P=!1,M=0,L=!1,F=-1,k=null,x="",B=0,H=0,G=!1,V=[{type:o.STREAM_INFO,listener:Z},{type:o.STREAM_INFO_UPDATE,listener:Z},{type:o.STREAM_FRAGMENT,listener:j},{type:o.RANDOM_ACCESS_POINT,listener:K}],W=[{type:a.PRIVATE_MEDIA_STATS,listener:function(e){g=e.data.mediaStats.exactCurrentTime,b!==l.PAUSED&&S.detailEnabled()&&S.detail("current time "+g)}},{type:o.APPLICATION_STATE_CHANGE,listener:function(e){(b=e.data.state)===l.PAUSED&&function(){for(S.debugEnabled()&&S.debug("pause"),L=!1,G=!1,P=!1;I.length;)I.pop();z(0,1/0),y=0,E=0}()}}],Y=[{type:r.UPDATE_END,listener:$}];function j(e){if(T=e.data,!L){if(e.data.id)S.debugEnabled()&&S.debug("initializing from RAP with stored "+e.data.boxType+" "+e.data.id),L=!0,T=e.data.fragment;else{for(var t="",n=4;n<8;++n)t+=String.fromCharCode(e.data[n]);if(-1===["moov","ftyp"].indexOf(t))return void(S.debugEnabled()&&S.debug("dropping fragment: "+t));S.debugEnabled()&&S.debug("initialized with "+t),k={boxType:t,fragment:e.data,id:Math.floor(1e11*(Math.random()+1))},S.debugEnabled()&&S.debug("set & emit first fragment with id "+k.id),c.emit(u.FIRST_FRAGMENT,k),L=!0}L&&B&&(re(!0,'"initialized with prerollDuration"',!0),G=!0)}!function(e){Q({command:N,fragment:e})}(T),G&&2==++H&&(G=!1,S.debugEnabled()&&S.debug("prerollFragment equals prerollFragmentsCount"),$())}function K(e){if(S.debugEnabled()&&S.debug("random access point streamtime "+e.data.onRandomAccessPoint.streamTime),!L&&x!==o.STREAM_INFO_UPDATE){k&&(S.debugEnabled()&&S.debug("not initialized & have first fragment at RAP with id "+k.id),j({data:k})),(F=Math.floor(e.data.onRandomAccessPoint.streamTime))>0&&F<=500&&(S.debugEnabled()&&S.debug("start time "+F+" within a range of 500 ms, normalize to 0"),F=0),F=Math.floor(F)/1e3,S.debugEnabled()&&S.debug("set start time to random access point");var t=parseFloat(F.toString());h&&h.buffered&&h.buffered.length&&(F=-1),t>0?(S.debugEnabled()&&S.debug("time !== 0, from stream info update?"),F=E,X(E-t)):0===t&&(S.debugEnabled()&&S.debug("time === 0, from stream info?"),h&&h.buffered&&h.buffered.length?X(h.buffered.end(h.buffered.length-1)):X(E))}}function z(e,t){Q({command:C,from:e,to:t})}function q(e){Q({command:w,position:e})}function X(e){Q({command:U,offset:e})}function Q(e){e.count=v++,O?function(e){if(S.detailEnabled()&&S.detail("queue "+e.command+" "+e.count),e.force)I.unshift(e);else if(e.command===N&&I.length&&I[I.length-1].command===N){if(R+1<30){var t=I[I.length-1].fragment,n=e.fragment,r=new Uint8Array(t.byteLength+n.byteLength);r.set(new Uint8Array(t),0),r.set(new Uint8Array(n),t.byteLength),I[I.length-1].fragment=r,I[I.length-1].count=I[I.length-1].count.toString()+" & "+e.count,R++}else R=0,S.detailEnabled()&&S.detail("joined fragments threshold (30) reached so begin new one"),I.push(e);S.detailEnabled()&&S.detail("joined fragments count "+R)}else R=0,S.detailEnabled()&&S.detail("joined fragments count "+R),I.push(e)}(e):J(e)}function J(e){if(S.detailEnabled()&&S.detail("execute "+e.command+" "+e.count),S.detailEnabled()){var t="ranges ";if(!h||h&&!h.buffered.length)t+="0";else for(var n=0,r=h.buffered.length;n<r;n+=1)t+=n+" "+h.buffered.start(n)+" - "+h.buffered.end(n),n!==r-1&&(t+=", ");S.detail(t)}switch(e.command){case N:if(re(!0,'"APPEND"'),P){S.detailEnabled()&&S.detail("append "+e.count);try{h.appendBuffer(e.fragment)}catch(e){S.debugEnabled()&&S.debug("sourceBuffer append exception"),S.debugEnabled()&&S.debug(e.message)}ne()||y++}else S.debugEnabled()&&S.debug("append disabled"),S.debugEnabled()&&S.debug("trigger manual update end from append"),$();break;case C:re(!0,'"REMOVE"'),h.buffered.length&&h.buffered.end(h.buffered.length-1)>0?(h.remove(e.from,e.to),S.debugEnabled()&&S.debug("removed buffer from "+e.from+" to "+e.to+" "+e.count)):(S.debugEnabled()&&S.debug("no buffered range or end is zero"),S.debugEnabled()&&S.debug("trigger manual update end from remove"),$());break;case D:re(!0,'"RESET"'),M=1,S.debugEnabled()&&S.debug("append enabled after reset"),P=!0,e.zeroing?(S.debugEnabled()&&S.debug("zeroing mse duration"),f.duration=0):(S.debugEnabled()&&S.debug("no zeroing of duration"),S.debugEnabled()&&S.debug("trigger manual update end from reset"),$());break;case w:re(!0,'"SEEK"'),S.debugEnabled()&&S.debug("seek to position "+e.position+" "+e.count),h.buffered.length&&h.buffered.start(h.buffered.length-1)>e.position&&(e.position=h.buffered.start(h.buffered.length-1),S.debugEnabled()&&S.debug("out of last buffer range, seek to buffer start "+e.position)),c.emit(d.SEEK,{position:e.position}),S.debugEnabled()&&S.debug("seeked"),S.debugEnabled()&&S.debug("trigger manual update end from seek"),$();break;case U:re(!0,'"OFFSET"'),h?(S.debugEnabled()&&S.debug("offset "+e.offset+" "+e.count),h.timestampOffset=e.offset,c.emit(u.TIME_OFFSET,{offset:Math.round(1e3*h.timestampOffset)}),S.debugEnabled()&&S.debug("offset added")):S.debugEnabled()&&S.debug("no source buffer for offset"),S.debugEnabled()&&S.debug("trigger manual update end from offset"),$()}}function $(){if(F>-1&&h&&h.buffered&&h.buffered.length){var e=parseFloat(F.toString());F=-1,S.debugEnabled()&&S.debug("have buffer and start time on update end"),e>0?(S.debugEnabled()&&S.debug("update end && time !== 0, from stream info update?"),q(e)):0===e&&(S.debugEnabled()&&S.debug("update end && time === 0, from stream info?"),S.debugEnabled()&&S.debug("seek to lastBufferEnd"),q(E))}re(!1,'"onUpdateEnd"'),M&&(M=0,S.debugEnabled()&&S.debug("source ready"),c.emit(s.SOURCE_READY)),I.length?J(I.shift()):!A&&h&&h.buffered.length&&h.buffered.start(0)<g-30&&ne()&&(A=setTimeout((function(){clearTimeout(A),A=0}),1e4),S.debugEnabled()&&S.debug("remove buffer"),z(h.buffered.start(0),g-20))}function Z(e,n){S.debugEnabled()&&S.debug("stream info"),p=e.data.streamInfo,_=p&&p.mimeType?p.mimeType:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',x=e.name,B=p.prerollDuration?p.prerollDuration:0,H=0,G=!1,n?S.debugEnabled()&&S.debug("triggered streamInfo"):(S.debugEnabled()&&S.debug("untriggered streamInfo"),k&&(S.debugEnabled()&&S.debug("deleting stored first fragment"),k=null)),f&&"open"===f.readyState?(S.debugEnabled()&&S.debug("playerState "+Object.keys(l)[b-1]),S.debugEnabled()&&S.debug("sourceBuffer "+(h?"existing":"not existing")),-1!==[l.PLAYING,l.BUFFERING].indexOf(b)?(S.debugEnabled()&&S.debug("initialized false after stream info"),L=!1,G=!1):h?(S.debugEnabled()&&S.debug("reset after stream info"),Q({command:D,zeroing:t.isTridentBrowser&&!isNaN(f.duration)&&f.duration>0})):(S.debugEnabled()&&S.debug("init sourcebuffer after stream info"),te())):(S.debugEnabled()&&S.debug("add source open listener after stream info"),f.addEventListener(i.SOURCE_OPEN,ee)),p.haveVideo||K({data:{onRandomAccessPoint:{streamTime:0}}})}function ee(){S.debugEnabled()&&S.debug("mediasource open"),f.removeEventListener(i.SOURCE_OPEN,ee),S.debugEnabled()&&S.debug("init sourcebuffer"),te()}function te(){!h&&f&&"open"===f.readyState&&(S.debugEnabled()&&S.debug("create source buffer with mime type '"+_+"'"),h=f.addSourceBuffer(_),n.add({target:c,listeners:W}),n.add({target:h,listeners:Y}),S.debugEnabled()&&S.debug("append enabled init source buffer"),P=!0,O&&$(),c.emit(s.SOURCE_READY))}function ne(){return 300<y}function re(e,t,n){O=e,n?S.debugEnabled()&&S.debug("set updating to "+e+" from "+(t||"unknown")):S.detailEnabled()&&S.detail("set updating to "+e+" from "+(t||"unknown"))}return S.debugEnabled()&&S.debug("init sourceBufferQueue"),S.debugEnabled()&&S.debug("lastBufferEnd "+E),S.debugEnabled()&&S.debug("streamInfo "+JSON.stringify(p)),S.debugEnabled()&&S.debug("firstFragment "+!!m),S.debugEnabled()&&S.debug("playerState "+Object.keys(l)[b-1]),m&&(k=m,S.debugEnabled()&&S.debug("created with first fragment "+k.id)),n.add({target:c,listeners:V}),p&&(re(!0,'"init with streamInfo"',!0),Z({data:{streamInfo:p}},!0)),{destroy:function(){for(;I.length;)I.pop();n.remove({target:c,listeners:V}),n.remove({target:c,listeners:W}),h&&n.remove({target:h,listeners:Y}),f.removeEventListener(i.SOURCE_OPEN,ee),h=null}}}}}.apply(t,r))||(e.exports=i)},4856:function(e,t,n){var r,i;r=[n(4556),n(6637),n(8333),n(6627),n(5337),n(492),n(9437),n(1667),n(5075)],void 0===(i=function(e,t,n,r,i,a,o,s,u){return{create:function(d){var l,c,f,E,p,m,b,h,g,_,T,A,S,y=n.create("StatsCollector"),v=0,R=[{type:o.APPLICATION_STATE_CHANGE,listener:function(e){switch(e.data.state){case a.PAUSED:y.debugEnabled()&&y.debug("remove stats listener"),t.remove({target:d,listeners:O});break;case a.PLAYING:break;case a.LOADING:C(),f&&(y.debugEnabled()&&y.debug("hls: add stats listener"),t.add({target:d,listeners:O}))}}},{type:o.CONFIG,listener:function(e){f=r.mustUseHLS||e.data.config.playback.allowSafariHlsFallback&&r.canUseHLS}}],O=[{type:u.PLAY_STATS,listener:function(t){if(l=t.data.mediaStats,p=l.currentTime,m=l.playbackRate,c.playout.start=l.playedStart,c.playout.end=l.playedEnd,c.buffer.update.current=l.bufferUpdate,c.buffer.start=l.bufferStart,c.buffer.end=l.bufferEnd,c.buffer.delay.current=l.bufferDelay,c.buffer.durationDelta=l.durationDelta,b.add(c.buffer.delay.current),N(b,c.buffer.delay),h.add(c.buffer.update.current),N(h,c.buffer.update),c.duration.current=l.duration,e&&!f){var n=Math.floor(e.now()/1e3);v!==n&&(v=n,c.bitrate.current=8*S,_.add(c.bitrate.current),N(_,c.bitrate),E&&(c.framerate.current=A,T.add(c.framerate.current),N(T,c.framerate)),A=0,S=0)}c.currentTime=p,c.playbackrate.current=m,g.add(c.playbackrate.current),N(g,c.playbackrate),d.emit(s.PLAY_STATS,{stats:c})}}],I=[{type:o.STREAM_FRAGMENT,listener:function(e){A+=1,S+=e.data.byteLength}},{type:o.STREAM_INFO,listener:function(e){f||(y.debugEnabled()&&y.debug("wss: add stats listener"),t.add({target:d,listeners:O})),E=e.data.streamInfo.haveVideo}},{type:o.STREAM_INFO_UPDATE,listener:function(e){E=e.data.streamInfo.haveVideo}}];function N(e,t){t.avg=e.arithmetic,t.min=e.minimum,t.max=e.maximum,t.deviation=e.deviation}function C(){c={currentTime:0,playout:{start:0,end:0},duration:{current:0},buffer:{start:0,end:0,delay:{before:0,current:0,avg:0,min:0,max:0,deviation:0},update:{current:0,avg:0,min:0,max:0,deviation:0},durationDelta:0},buffergoal:{real:0,base:0,min:0,max:0},playbackrate:{current:0,avg:0,min:0,max:0,deviation:0},quality:{droppedVideoFrames:0,droppedVideoFramesCurrent:0,droppedVideoFramesLevel:0,corruptedVideoFrames:0,corruptedVideoFramesCurrent:0,creationTime:0,totalVideoFrames:0},bitrate:{current:0,avg:0,min:0,max:0,deviation:0},framerate:{current:0,avg:0,min:0,max:0,deviation:0}},b=i.create(10),h=i.create(10),g=i.create(10),_=i.create(10),T=i.create(10),A=0,S=0}return C(),t.add({target:d,listeners:R}),t.add({target:d,listeners:O}),t.add({target:d,listeners:I}),{destroy:function(){t.remove({target:d,listeners:O}),t.remove({target:d,listeners:R}),t.remove({target:d,listeners:I})}}}}}.apply(t,r))||(e.exports=i)},4367:function(e,t){var n;void 0===(n=function(){return{BASE:"message.",META_DATA:"message.metaData",SERVER_INFO:"message.serverInfo",STREAM_INFO:"message.streamInfo",STREAM_INFO_UPDATE:"message.streamInfoUpdate",STREAM_FRAGMENT:"message.streamFragment",RANDOM_ACCESS_POINT:"message.randomAccessPoint",RAW_PACKET:"message.raw",STREAM_STATUS:"message.streamStatus",UPDATE_SOURCE_SUCCESS:"message.updateSourceSuccess",UPDATE_SOURCE_ERROR:"message.updateSourceError",UPDATE_SOURCE_ABORT:"message.updateSourceAbort",STREAM_QUALITY:"message.streamQuality"}}.apply(t,[]))||(e.exports=n)},312:function(e,t){var n;void 0===(n=function(){var e="networkmanager.";return{BASE:e,CONNECT:e+"connect",DISCONNECT:e+"disconnect",PLAY:e+"play",PAUSE:e+"pause",CONFIG:e+"config",UPDATE_SOURCE:e+"updateSource",STATE_CHANGE:e+"stateChange",UPDATE_SOURCE_SUCCESS:e+"updateSourceSuccess",UPDATE_SOURCE_FAIL:e+"updateSourceFail",UPDATE_SOURCE_ABORT:e+"updateSourceAbort",SWITCH_STREAM_SUCCESS:e+"switchStreamSuccess",SWITCH_STREAM_FAIL:e+"switchStreamFail",SWITCH_STREAM_ABORT:e+"switchStreamAbort"}}.apply(t,[]))||(e.exports=n)},1852:function(e,t){var n;void 0===(n=function(){var e="networkstatus";return{BASE:e,ONLINE:e+"online",OFFLINE:e+"offline"}}.apply(t,[]))||(e.exports=n)},9682:function(e,t){var n;void 0===(n=function(){return{BASE:"",OPEN:"open",CLOSE:"close",MESSAGE:"message",ERROR:"error"}}.apply(t,[]))||(e.exports=n)},4746:function(e,t){var n;void 0===(n=function(){var e="webSocketHandler.";return{BASE:e,CONNECTING:e+"connecting",CONNECTED:e+"connected",CONNECTION_OPEN:e+"connectionOpen",DISCONNECTED:e+"disconnected",RESUMING:e+"resuming",MESSAGE:e+"message",RECONNECTION_IMMINENT:e+"reconnectionImminent",RECONNECTING:e+"reconnecting",RECONNECTION_CONFIG_INVALID:e+"reconnectionConfigInvalid",CONNECTION_ERROR:e+"connectionError",INITIALIZATION_ERROR:e+"initializationError",DESTROYED:e+"destroyed",ERROR:e+"error",WARNING:e+"warning",STATE_CHANGE:e+"stateChange",META_DATA:e+"metaData",SERVER_INFO:e+"serverInfo",STREAM_INFO:e+"streamInfo",STREAM_INFO_UPDATE:e+"streamInfoUpdate",STREAM_FRAGMENT:e+"streamFragment",RANDOM_ACCESS_POINT:e+"randomAccessPoint",RAW_PACKET:e+"raw",STREAM_STATUS:e+"streamStatus",UPDATE_SOURCE_SUCCESS:e+"updateSourceSuccess",UPDATE_SOURCE_FAIL:e+"updateSourceFail",UPDATE_SOURCE_ABORT:e+"updateSourceAbort",STREAM_QUALITY:e+"streamQuality"}}.apply(t,[]))||(e.exports=n)},8371:function(e,t){var n;void 0===(n=function(){var e="webSocketProxy.";return{BASE:e,CONNECTING:e+"connecting",CONNECTED:e+"connected",CONNECTION_OPEN:e+"connectionOpen",DISCONNECTED:e+"disconnected",RESUMING:e+"resuming",MESSAGE:e+"message",RECONNECTION_IMMINENT:e+"reconnectionImminent",RECONNECTING:e+"reconnecting",RECONNECTION_CONFIG_INVALID:e+"reconnectionConfigInvalid",CONNECTION_ERROR:e+"connectionError",INITIALIZATION_ERROR:e+"initializationError",DESTROYED:e+"destroyed",ERROR:e+"error",STATE_CHANGE:e+"stateChange",META_DATA:e+"metaData",SERVER_INFO:e+"serverInfo",STREAM_INFO:e+"streamInfo",STREAM_INFO_UPDATE:e+"streamInfoUpdate",STREAM_FRAGMENT:e+"streamFragment",RANDOM_ACCESS_POINT:e+"randomAccessPoint",RAW_PACKET:e+"raw",STREAM_STATUS:e+"streamStatus",UPDATE_SOURCE_SUCCESS:e+"updateSourceSuccess",UPDATE_SOURCE_ERROR:e+"updateSourceError",UPDATE_SOURCE_ABORT:e+"updateSourceAbort",STREAM_QUALITY:e+"streamQuality"}}.apply(t,[]))||(e.exports=n)},279:function(e,t,n){var r,i;r=[n(9658),n(6637),n(9336),n(9673),n(680),n(594),n(1376),n(5055),n(312),n(4746),n(1852),n(402),n(8941),n(5356)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l,c,f,E){"use strict";return{create:function(t){var n,a,c=new e,p=[],m=[{from:d.CONNECTING,to:o.CONNECTING},{from:d.CONNECTED,to:o.CONNECTED},{from:d.CONNECTION_OPEN,to:o.CONNECTION_OPEN},{from:d.RESUMING,to:o.RESUMING},{from:d.DESTROYED,to:o.DESTROYED},{from:d.RECONNECTING,to:o.RECONNECTING},{from:d.RECONNECTION_IMMINENT,to:o.RECONNECTION_IMMINENT},{from:d.RECONNECTION_CONFIG_INVALID,to:o.RECONNECTION_CONFIG_INVALID},{from:d.DISCONNECTED,to:o.DISCONNECTED},{from:d.INITIALIZATION_ERROR,to:o.INITIALIZATION_ERROR},{from:d.CONNECTION_ERROR,to:o.CONNECTION_ERROR},{from:d.ERROR,to:o.ERROR},{from:d.WARNING,to:o.WARNING},{from:d.STATE_CHANGE,to:o.STATE_CHANGE},{from:d.UPDATE_SOURCE_SUCCESS,to:o.UPDATE_SOURCE_SUCCESS},{from:d.UPDATE_SOURCE_FAIL,to:o.UPDATE_SOURCE_FAIL},{from:d.UPDATE_SOURCE_ABORT,to:o.UPDATE_SOURCE_ABORT},{from:d.META_DATA,to:o.META_DATA},{from:d.RANDOM_ACCESS_POINT,to:o.RANDOM_ACCESS_POINT},{from:d.SERVER_INFO,to:o.SERVER_INFO},{from:d.STREAM_INFO,to:o.STREAM_INFO},{from:d.STREAM_INFO_UPDATE,to:o.STREAM_INFO_UPDATE},{from:d.RAW_PACKET,to:o.RAW_PACKET},{from:d.STREAM_FRAGMENT,to:o.STREAM_FRAGMENT},{from:d.STREAM_STATUS,to:o.STREAM_STATUS},{from:d.STREAM_QUALITY,to:o.STREAM_QUALITY},{from:l.ONLINE,to:o.ONLINE},{from:l.OFFLINE,to:o.OFFLINE}],b=[{from:r.CONNECT,to:u.CONNECT},{from:r.DISCONNECT,to:u.DISCONNECT},{from:r.NETWORK_PLAY,to:u.PLAY},{from:r.PAUSE,to:u.PAUSE},{from:r.CONFIG,to:u.CONFIG},{from:r.NETWORK_UPDATE_SOURCE,to:u.UPDATE_SOURCE},{from:i.STATE_CHANGE,to:u.STATE_CHANGE},{from:i.UPDATE_SOURCE_SUCCESS,to:u.UPDATE_SOURCE_SUCCESS},{from:i.UPDATE_SOURCE_FAIL,to:u.UPDATE_SOURCE_FAIL},{from:i.UPDATE_SOURCE_ABORT,to:u.UPDATE_SOURCE_ABORT},{from:i.SWITCH_STREAM_SUCCESS,to:u.SWITCH_STREAM_SUCCESS},{from:i.SWITCH_STREAM_FAIL,to:u.SWITCH_STREAM_FAIL},{from:i.SWITCH_STREAM_ABORT,to:u.SWITCH_STREAM_ABORT}];return n=s.create(t,c,b),a=s.create(c,t,m),p.push(f.create(c)),p.push(E.create(c)),{destroy:function(){for(n.destroy(),n=null,a.destroy(),a=null;p.length;)p.pop().destroy()}}}}}.apply(t,r))||(e.exports=i)},402:function(e,t,n){var r,i;r=[n(8333),n(6637),n(4367),n(8371)],void 0===(i=function(e,t,n,r){"use strict";return{create:function(i){var a=e.create("MessageHandler"),o=1718909296,s=1836019558,u=1835295092,d=[],l=0,c=0,f=[{type:r.MESSAGE,listener:function(e){if(e){var t=e.data;if("string"==typeof t){var r=JSON.parse(t);if(r&&r.eventType){var f=r.eventType.substr(2,r.eventType.length-2),p=n.BASE+f[0].toLowerCase()+f.slice(1);-1!==p.indexOf(n.STREAM_INFO)&&E(p),-1!==p.indexOf(n.SERVER_INFO)&&void 0===r.onServerInfo.hostname&&(r.onServerInfo.hostname=""),i.emit(p,r)}}else if(t instanceof ArrayBuffer&&t.byteLength>0){var m=new Uint8Array(t);if(i.emit(n.RAW_PACKET),t.byteLength>=8){var b=(m[4]<<24)+(m[5]<<16)+(m[6]<<8)+m[7];if(b===s||b===o){var h=(m[0]<<24)+(m[1]<<16)+(m[2]<<8)+m[3];if(t.byteLength>=h+8){var g=(m[h+4]<<24)+(m[h+5]<<16)+(m[h+6]<<8)+m[h+7];if((b===s&&g===u||b===o&&1836019574===g)&&(l&&a.debugEnabled()&&a.debug("previous buffer found"),E()),b===s&&g===u){var _=(m[h+0]<<24)+(m[h+1]<<16)+(m[h+2]<<8)+m[h+3];c=h+_}}}}d.push(m),l+=t.byteLength,c&&c===l&&E()}}}}];function E(e){if(0<l){e&&a.debugEnabled()&&a.debug("output existing buffer & reset from "+e);for(var t=new Uint8Array(l),r=0,o=0;o<d.length;o++)t.set(d[o],r),r+=d[o].length;p(),i.emit(n.STREAM_FRAGMENT,t)}else e&&a.debugEnabled()&&a.debug("reset from "+e),p()}function p(){for(;d.length;)d.pop();l=0,c=0}return t.add({target:i,listeners:f}),{destroy:function(){t.remove({target:i,listeners:f})}}}}}.apply(t,r))||(e.exports=i)},5356:function(e,t,n){var r,i;r=[n(6637),n(8333),n(312),n(1852)],void 0===(i=function(e,t,n,r){return{create:function(i){var a,o=t.create("NetworkStatusProxy"),s=["online","offline"],u=!1,d=[{type:n.STATE_CHANGE,listener:function(e){a||(o.debugEnabled()&&o.debug("initial player state"),c()),a=e.data.state}}];function l(){c()}function c(){u=navigator.onLine,o.debug(u?"online":"offline"),i.emit(u?r.ONLINE:r.OFFLINE)}return o.debugEnabled()&&o.debug("initialize"),e.add({target:i,listeners:d}),s.forEach((function(e){window.addEventListener(e,l)})),{destroy:function(){e.remove({target:i,listeners:d}),s.forEach((function(e){window.addEventListener(e,l)}))}}}}}.apply(t,r))||(e.exports=i)},8941:function(e,t,n){var r,i;r=[n(8333),n(6627),n(8197),n(6637),n(8405),n(492),n(5493),n(312),n(4746),n(8371),n(7609)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l){var c=e.create("WebSocketHandler");return{create:function(e){var n,i=[{type:s.CONNECT,listener:p},{type:s.DISCONNECT,listener:function(){if(c.debugEnabled()&&c.debug("on disconnect"),1!==E.length||!b().isWaitForReconnect())for(c.debugEnabled()&&c.debug("not waiting for reconnect");E.length;)E.pop().destroy()}},{type:s.PLAY,listener:function(){c.debugEnabled()&&c.debug("on play"),1===E.length&&E[0].play()}},{type:s.PAUSE,listener:function(){c.debugEnabled()&&c.debug("on pause"),1===E.length&&E[0].pause()}},{type:s.UPDATE_SOURCE,listener:function(t){if(c.debugEnabled()&&c.debug("on update source"),0===E.length)t.data.update.options.method="client",p(t);else{for(;E.length>1;){var n=h().getConnectData().update.options;e.emit(d.UPDATE_SOURCE_ABORT,{reason:"superseded",tag:n.tag,count:n.count}),T()}var r=E[0].getConnectData(),i=E[0].getServerInfo(),a=r.config.server.websocket!==t.data.config.server.websocket,o=!i,s=!o&&-1===i.capabilities.indexOf("onUpdateSource"),u="client"===t.data.update.options.method;a||o||s||u?(t.data.update.options.method="client",p(t)):(t.data.update.options.method="server",E[0].updateSource(t))}}},{type:s.STATE_CHANGE,listener:function(e){e.data.state===a.PAUSING&&n!==a.RECONNECTION_IMMINENT&&E.length&&b().reset(),n=e.data.state}},{type:s.CONFIG,listener:function(n){(t.mustUseHLS||n.data.config.playback.allowSafariHlsFallback&&t.canUseHLS)&&(f=f.filter((function(e){return e.type===d.META_DATA}))),r.add({target:e,listeners:f})}},{type:s.UPDATE_SOURCE_SUCCESS,listener:function(){c.debugEnabled()&&c.debug("onExternalUpdateSourceSuccess"),E.length>1&&(_(),h().setActive(!0))}},{type:s.UPDATE_SOURCE_FAIL,listener:function(){c.debugEnabled()&&c.debug("onExternalUpdateSourceFail"),T()}},{type:s.SWITCH_STREAM_SUCCESS,listener:function(){c.debugEnabled()&&c.debug("onExternalSwitchStreamSuccess"),E.length>1&&(_(),h().setActive(!0))}},{type:s.SWITCH_STREAM_FAIL,listener:function(){c.debugEnabled()&&c.debug("onExternalSwitchStreamFail"),T()}}],o=[{type:d.CONNECTING,listener:function(e){c.debugEnabled()&&c.debug("fired "+e.name),e.active&&m(e)}},{type:d.CONNECTED,listener:function(e){c.debugEnabled()&&c.debug("fired "+e.name),e.active&&m(e)}},{type:d.CONNECTION_OPEN,listener:function(e){c.debugEnabled()&&c.debug("fired "+e.name),e.active&&m(e)}},{type:d.DISCONNECTED,listener:function(t){c.debugEnabled()&&c.debug("fired "+t.name),t.update&&e.emit(u.UPDATE_SOURCE_FAIL,{tag:t.update.update.options.tag,count:t.update.update.options.count,code:t.data.code,message:t.data.message,type:t.update.update.type,id:t.update.update.id}),(g()||t.active)&&m(t),T()}},{type:d.RESUMING,listener:function(e){c.debugEnabled()&&c.debug("fired "+e.name),e.active&&m(e)}},{type:d.MESSAGE,listener:function(e){c.detailEnabled()&&c.detail("fired "+e.name),e.active&&m(e)}},{type:d.RECONNECTION_IMMINENT,listener:function(e){if(c.debugEnabled()&&c.debug("fired "+e.name),e.active){if(-1===[a.LOADING,a.PLAYING,a.BUFFERING].indexOf(n))return void b().reset();m(e)}}},{type:d.RECONNECTING,listener:function(e){c.debugEnabled()&&c.debug("fired "+e.name),e.active&&m(e)}},{type:d.RECONNECTION_CONFIG_INVALID,listener:function(t){c.debugEnabled()&&c.debug("fired "+t.name),t.update&&e.emit(u.UPDATE_SOURCE_FAIL,{tag:t.update.update.options.tag,count:t.update.update.options.count,code:t.data.code,message:t.data.message,type:t.update.update.type,id:t.update.update.id}),t.active&&m(t)}},{type:d.CONNECTION_ERROR,listener:function(e){if(c.debugEnabled()&&c.debug("fired "+e.name),g()||e.active){if(-1===[a.LOADING,a.PLAYING,a.BUFFERING].indexOf(n))return void b().reset();m(e)}T()}},{type:d.INITIALIZATION_ERROR,listener:function(t){c.debugEnabled()&&c.debug("fired "+t.name),t.update&&e.emit(u.UPDATE_SOURCE_FAIL,{tag:t.update.update.options.tag,count:t.update.update.options.count,code:t.data.code,message:t.data.message,type:t.update.update.type,id:t.update.update.id}),(g()||t.active)&&m(t),T()}},{type:d.DESTROYED,listener:function(e){c.debugEnabled()&&c.debug("fired "+e.name),e.active&&m(e)}},{type:d.ERROR,listener:function(t){c.debugEnabled()&&c.debug("fired "+t.name),t.update&&e.emit(u.UPDATE_SOURCE_FAIL,{tag:t.update.update.options.tag,count:t.update.update.options.count,code:t.data.code,message:t.data.message,type:t.update.update.type,id:t.update.update.id}),(g()||t.active)&&m(t),T()}},{type:d.STATE_CHANGE,listener:function(e){c.debugEnabled()&&c.debug("fired "+e.name),e.active&&m(e)}}],f=[{type:d.SERVER_INFO,listener:function(e){c.debugEnabled()&&c.debug("fired "+e.name),e.active&&m(e)}},{type:d.STREAM_INFO,listener:function(e){c.debugEnabled()&&c.debug("fired "+e.name),e.active&&m(e)}},{type:d.STREAM_INFO_UPDATE,listener:function(e){c.debugEnabled()&&c.debug("fired "+e.name),e.active&&m(e)}},{type:d.STREAM_FRAGMENT,listener:function(e){e.active&&m(e)}},{type:d.RANDOM_ACCESS_POINT,listener:function(e){c.debugEnabled()&&c.debug("fired "+e.name),e.active&&m(e)}},{type:d.RAW_PACKET,listener:function(e){e.active&&m(e)}},{type:d.STREAM_STATUS,listener:function(e){c.debugEnabled()&&c.debug("fired "+e.name),e.active&&!e.update&&m(e),e.update&&-1!==e.update.config.query.flags.indexOf("paused")&&_()}},{type:d.STREAM_QUALITY,listener:function(e){c.debugEnabled()&&c.debug("fired "+e.name),e.active&&m(e)}},{type:d.UPDATE_SOURCE_SUCCESS,listener:function(t){c.debugEnabled()&&c.debug("fired "+t.name),t.active||(_(),t.active=!0,h().setActive(!0)),c.debugEnabled()&&c.debug("trigger update source success"),e.emit(u.UPDATE_SOURCE_SUCCESS,{tag:t.data.tag,count:t.data.count,type:t.data.type,id:t.data.id})}},{type:d.UPDATE_SOURCE_ERROR,listener:function(t){c.debugEnabled()&&c.debug("fired "+t.name),c.debugEnabled()&&c.debug("trigger update source fail"),e.emit(u.UPDATE_SOURCE_FAIL,{tag:t.data.tag,count:t.data.count,code:t.data.code,message:t.data.message,type:t.data.type,id:t.data.id}),g()&&(c.debugEnabled()&&c.debug("trigger disconnected"),e.emit(u.DISCONNECTED,{code:t.data.code,message:t.data.message})),T()}},{type:d.UPDATE_SOURCE_ABORT,listener:function(t){c.debugEnabled()&&c.debug("fired "+t.name),c.debugEnabled()&&c.debug("trigger update source abort"),e.emit(u.UPDATE_SOURCE_ABORT,{tag:t.data.tag,count:t.data.count,reason:t.data.reason,type:t.data.type,id:t.data.id})}},{type:d.META_DATA,listener:function(e){c.debugEnabled()&&c.debug("fired "+e.name),e.active&&m(e)}}],E=[];function p(t){c.debugEnabled()&&c.debug("on connect"),1===E.length&&b().isWaitForReconnect()?b().connect(t):1===E.length?(E.push(l.create(e)),h().connect(t)):E.length||(E[0]=l.create(e),E[0].setActive(!0),b().connect(t))}function m(t){t.name=t.name.replace(d.BASE,u.BASE),e.emit(t.name,t)}function b(){c.debugEnabled()&&c.debug("get active connection");for(var e=!1,t=0;t<E.length;t+=1)if(E[t].isActive()){c.debugEnabled()&&c.debug("found active connection"),e=E[t];break}return e}function h(){var e=!1;return E.length&&(e=E[E.length-1]),e}function g(){var e=!!h()&&h().shouldPauseOnError();return c.debugEnabled()&&c.debug("should pause on error: "+e),e}function _(){c.debugEnabled()&&c.debug("drop active connection?"),E.length>1&&(c.debugEnabled()&&c.debug("drop active connection!"),E.shift().destroy())}function T(){c.debugEnabled()&&c.debug("drop inactive connection?"),E.length>1&&(c.debugEnabled()&&c.debug("drop inactive connection!"),E.pop().destroy())}return r.add({target:e,listeners:i}),r.add({target:e,listeners:o}),{destroy:function(){for(var t in c.debugEnabled()&&c.debug("destroy"),E)Object.prototype.hasOwnProperty.call(E,t)&&(E[t].destroy(),delete E[t]);r.remove({target:e,listeners:i}),r.remove({target:e,listeners:o}),r.remove({target:e,listeners:f})}}}}}.apply(t,r))||(e.exports=i)},7609:function(e,t,n){var r,i;r=[n(9658),n(8333),n(6627),n(8197),n(6637),n(8405),n(3778),n(3890),n(728),n(8371),n(4367),n(9682),n(402),n(4046),n(7402),n(4677)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l,c,f,E,p,m){var b=5e3;return{create:function(h){var g,_,T,A,S,y,v,R=t.create("WebSocketProxy "+(new Date).getTime()),O=new e,I=[4102,4103,4105,4106,4107,4108,4109,4111,4115,4500,4503],N=[{type:l.META_DATA,listener:function(e){re(e)}},{type:l.SERVER_INFO,listener:function(e){v=e.data.onServerInfo,re(e)}},{type:l.STREAM_INFO,listener:function(e){if(W()&&-1===v.events.indexOf("onUpdateSourceSuccess")){var t=y.update.options.tag,n=y.update.options.count;h.emit(d.UPDATE_SOURCE_SUCCESS,ne({tag:t,count:n,type:y.update.type,id:y.update.id})),k[n]?(S=r.copy(k[n]),y===k[n]&&(y=void 0),delete k[n]):(S=y,y=void 0)}re(e)}},{type:l.STREAM_INFO_UPDATE,listener:function(e){re(e)}},{type:l.STREAM_FRAGMENT,listener:function(e){re(e,!0)}},{type:l.RANDOM_ACCESS_POINT,listener:function(e){re(e)}},{type:l.RAW_PACKET,listener:function(e){re(e,!0)}},{type:l.STREAM_STATUS,listener:function(e){W()&&"client"===y.update.options.method&&"stopped"===e.data.onStreamStatus.status&&h.emit(d.UPDATE_SOURCE_ERROR,ne({tag:y.update.options.tag,count:y.update.options.count,code:o.NETWORK.SOURCE_STREAM_STOPPED,message:s.NETWORK.SOURCE_STREAM_STOPPED,type:y.update.type,id:y.update.id})),re(e)}},{type:l.STREAM_QUALITY,listener:function(e){re(e)}},{type:l.UPDATE_SOURCE_SUCCESS,listener:function(e){if(W()&&F.requestId>=e.data.onUpdateSourceSuccess.requestId||A&&-1!==e.data[e.data.eventType].tag.indexOf(A.update.id)){A&&-1!==e.data[e.data.eventType].tag.indexOf(A.update.id)&&(y=A,A=null);var t=e.data[e.data.eventType].tag,n=e.data[e.data.eventType].count,i=k[n]?k[n].update.type:y.update.type,a=k[n]?k[n].update.id:y.update.id;0===n&&(t=y.update.options.tag,n=y.update.options.count),h.emit(d.UPDATE_SOURCE_SUCCESS,ne({tag:t,count:n,type:i,id:a})),k[n]?(S=r.copy(k[n]),y===k[n]&&(y=void 0),delete k[n]):(S=y,y=void 0)}}},{type:l.UPDATE_SOURCE_ERROR,listener:function(e){if(W()&&F.requestId>=e.data.onUpdateSourceError.requestId){var t=e.data.onUpdateSourceError.code,n="Unknown reason.";Object.prototype.hasOwnProperty.call(u,+t)&&(n=u[+t]),t>1e3&&t<4e3&&(t+=3100);var r=e.data[e.data.eventType].tag,i=e.data[e.data.eventType].count,a=k[i]?k[i].update.type:y.update.type,o=k[i]?k[i].update.id:y.update.id;0===i&&(r=y.update.options.tag,i=y.update.options.count),h.emit(d.UPDATE_SOURCE_ERROR,ne({tag:r,count:i,code:t,message:n,type:a,id:o})),y===k[i]&&(y=void 0),delete k[i]}}},{type:l.UPDATE_SOURCE_ABORT,listener:function(e){if(W()&&F.requestId>=e.data.onUpdateSourceAbort.requestId){var t=e.data[e.data.eventType].tag,n=e.data[e.data.eventType].count,r=k[n]?k[n].update.type:y.update.type,i=k[n]?k[n].update.id:y.update.id;0===n&&(t=y.update.options.tag,n=y.update.options.count);var a=e.data[e.data.eventType].reason;h.emit(d.UPDATE_SOURCE_ABORT,ne({tag:t,count:n,reason:a,type:r,id:i})),y===k[n]&&(y=void 0),delete k[n]}}}],C=null,D=a.UNINITIALIZED,w=0,U=!1,P=!1,M={minDelay:2,maxDelay:10,delaySteps:10,maxRetries:10,delays:[],retryCount:0,randomFactor:1.5},L=[],F={requestId:0},k={},x=!1;function B(e){if(R.debugEnabled()&&R.debug("on connect"),ie(!1),P=!1,clearTimeout(g),(S=e.data).count=M.retryCount,S.reconnect){var t=E.validate(S.reconnect);if(t.success)for(var n in S.reconnect)Object.prototype.hasOwnProperty.call(S.reconnect,n)&&(M[n]=S.reconnect[n]);else h.emit(d.RECONNECTION_CONFIG_INVALID,ne({code:o.NETWORK.RECONNECTION_CONFIG_INVALID,message:t.reason}))}if(S.timeouts){var r=1e3*S.timeouts.connecting;b=Math.max(Math.min(r,3e4),5e3)}try{y=e.data.update?e.data:void 0,s=S.url,R.debugEnabled()&&R.debug("create connection"),Z(),(C=new WebSocket(s)).binaryType="arraybuffer",-1===S.config.query.flags.indexOf("metastreamonly")&&(C["on"+c.OPEN]=j,C["on"+c.CLOSE]=K,C["on"+c.ERROR]=q),C["on"+c.MESSAGE]=z,w=setTimeout(X,b),h.emit(e.name?d.CONNECTING:d.RECONNECTING,ne(S)),W()&&(clearTimeout(T),T=setTimeout(Q,1e3*e.data.update.options.timeout))}catch(e){var i="Connection initialization error.",a=e?te(e):void 0;a&&a.message&&(i=a.message),a&&a.code&&(i+=" (code:"+a.code+")"),a&&a.name&&(i=a.name+": "+i),h.emit(d.INITIALIZATION_ERROR,ne({code:o.NETWORK.COULD_NOT_ESTABLISH_CONNECTION,message:i}))}var s}function H(){var e=D;return(D=null!==C?C.readyState+2:a.UNINITIALIZED)!==e&&h.emit(d.STATE_CHANGE,ne({connectionState:D})),D}function G(){return S}function V(){return U}function W(){return y||!1}function Y(){return G().config.query.cid}function j(){R.debugEnabled()&&R.debug("connection open"),setTimeout((function(){h.emit(d.CONNECTION_OPEN,ne())}),0),setTimeout((function(){P||null===C||(clearTimeout(w),h.emit(d.CONNECTED,ne({count:M.retryCount})),M.retryCount=0)}),200)}function K(e){R.debugEnabled()&&R.debug("connection close"),clearTimeout(w);var t=e;if(n.isTridentBrowser&&1005===e.code&&((t=r.copy(e)).code=parseInt(e.reason.split(" ")[1],10)),4200===t.code)$(!0);else{var i=t.code,a="Unknown reason.";Object.prototype.hasOwnProperty.call(u,+i)&&(a=u[+i]),i>1e3&&i<4e3&&(i+=3100),J(t,d.DISCONNECTED,ne({code:i,message:a}))}}function z(e){O.emit(d.MESSAGE,ne(e.data))}function q(e){R.debugEnabled()&&R.debug("connection error"),clearTimeout(_),_=setTimeout((function(){if(!P&&null!==C){clearTimeout(w);var t="Connection error.",n=e||void 0;n&&n.message&&(t=n.message),n&&n.code&&(t+=" (code:"+n.code+")"),n&&n.name&&(t=n.name+": "+t),J(e,d.CONNECTION_ERROR,ne({code:o.NETWORK.CONNECTION_ERROR,message:t}))}}),200)}function X(){R.debugEnabled()&&R.debug("connection timeout"),P||null===C||S&&-1!==S.config.query.flags.indexOf("metastreamonly")||J(null,d.INITIALIZATION_ERROR,ne({code:o.NETWORK.COULD_NOT_ESTABLISH_CONNECTION,message:"Could not open connection. Timeout reached."}))}function Q(){if(W())for(h.emit(d.UPDATE_SOURCE_ERROR,ne({tag:y.update.options.tag,count:y.update.options.count,code:o.NETWORK.SOURCE_TIMEOUT,message:s.NETWORK.SOURCE_TIMEOUT,type:y.update.type,id:y.update.id})),A=y,y=void 0;Object.keys(k).length;)delete k[Object.keys(k)[0]]}function J(e,t,n){if(!P)if(clearTimeout(g),g=0,V()&&(e&&e.data&&-1!==I.indexOf(e.data.code)||n&&n.data&&-1!==I.indexOf(n.data.code))&&M.retryCount<M.maxRetries){if(P=!0,!M.retryCount){for(;M.delays.length;)M.delays.pop();M.delays=p.calculate(M.minDelay,M.maxDelay,M.delaySteps,M.maxRetries,M.randomFactor)}var r=M.delays[M.retryCount];M.retryCount++,S.count=M.retryCount;var i=e&&e.data&&e.data.code?e.data.code:e&&e.code?e.code:0;i&&(i=n&&n.data&&n.data.code?n.data.code:n&&n.code?n.code:0),h.emit(d.RECONNECTION_IMMINENT,ne({delay:r,count:M.retryCount,code:i}))}else h.emit(t,n&&n.data?n:ne(n))}function $(e){R.debugEnabled()&&R.debug("destroy connection"+(e?" silent":"")),y=void 0,Z(),h.emit(d.DESTROYED,ne({silent:!!e}))}function Z(){clearTimeout(w),clearTimeout(g),clearTimeout(_),clearTimeout(T),null!==C&&(C["on"+c.OPEN]=null,C["on"+c.CLOSE]=null,C["on"+c.MESSAGE]=null,C["on"+c.ERROR]=null,C.close(),C=null)}function ee(e,t){if(R.debugEnabled()&&R.debug("send "+e),t)try{t=JSON.stringify(t)}catch(e){t="{}"}else t="{}";var n=F.requestId+1;(F={}).eventType=e,F[e]=JSON.parse(t),F.requestId=n;var r=JSON.stringify(F);try{H()===a.OPEN&&C.send(r)}catch(e){}}function te(e){return{code:e.code,name:e.name,message:e.message}}function ne(e){return{data:e||void 0,connectionState:H(),connectionId:S.config.query.cid,active:V(),update:W()}}function re(e,t){var n=e.name.replace(l.BASE,d.BASE);t?R.detailEnabled()&&R.detail("fired "+n):R.debugEnabled()&&R.debug("fired "+n),x?R.debugEnabled()&&R.debug("passthrough blocked of message type '"+e.name.replace(l.BASE,"")+"'"):h.emit(n,ne(e.data))}function ie(e){x=!!e,R.debugEnabled()&&R.debug("set blockMessagePassthrough to "+x)}return R.debugEnabled()&&R.debug("init"),L.push(f.create(O)),i.add({target:O,listeners:N}),{connect:B,disconnect:function(e){$(e.data.silent)},play:function(){R.debugEnabled()&&R.debug("on play");try{ie(!1),S=m.parse(S,!1),null===C||3===C.readyState?B({data:S}):(R.debugEnabled()&&R.debug("sending play to server"),ee("onPlay"),h.emit(d.RESUMING,ne()))}catch(e){h.emit(d.ERROR,ne(te(e)))}},pause:function(){R.debugEnabled()&&R.debug("on pause");try{null!==C&&(R.debugEnabled()&&R.debug("sending pause to server"),S=m.parse(S,!0),ee("onPause"),ie(!0))}catch(e){h.emit(d.ERROR,ne(te(e)))}},updateSource:function(e){if(R.debugEnabled()&&R.debug("on update source"),v&&-1!==v.capabilities.indexOf("onUpdateSource")&&"server"===e.data.update.options.method&&null!==C){clearTimeout(T),T=setTimeout(Q,1e3*e.data.update.options.timeout),k[e.data.update.options.count]=e.data,(y=e.data).count=M.retryCount;var t=y.update,n={options:{faststart:!1},tag:t.options.tag,count:t.options.count};if(t.entry.h5live.rtmp&&t.entry.h5live.rtmp.url&&t.entry.h5live.rtmp.streamname&&(n.rtmp={url:t.entry.h5live.rtmp.url,stream:t.entry.h5live.rtmp.streamname}),t.entry.h5live.token&&(n.token=t.entry.h5live.token),t.entry.h5live.params&&(n.params=t.entry.h5live.params),t.entry.h5live.security&&"object"==typeof t.entry.h5live.security)for(var r in n.security={},t.entry.h5live.security)Object.prototype.hasOwnProperty.call(t.entry.h5live.security,r)&&(n.security[r]=t.entry.h5live.security[r]);ee("onUpdateSource",n)}},reset:function(){P=!1,M.retryCount=0},getState:H,getConnectData:G,getServerInfo:function(){return v},getWebSocket:function(){return C},setActive:function(e){U=!!e},isActive:V,isUpdate:W,isWaitForReconnect:function(){return P},getConnectionId:Y,isConnectionId:function(e){return Y()===e},shouldPauseOnError:function(){return G().update&&G().update.options.pauseOnError||y&&y.update.options.pauseOnError},destroy:function(){for(R.debugEnabled()&&R.debug("destroy");L.length;)L.pop().destroy();Z(),i.remove({target:O,listeners:N})}}}}}.apply(t,r))||(e.exports=i)},4046:function(e,t){var n;void 0===(n=function(){return{validate:function(e){for(var t=["minDelay","maxDelay","delaySteps","maxRetries"],n=0;n<t.length;++n){if(!Object.prototype.hasOwnProperty.call(e,t[n]))return{success:!1,reason:"The reconnect config is invalid, it must contain 'minDelay', 'maxDelay', 'delaySteps', and 'maxRetries'. Reset to default."};if("number"!=typeof e[t[n]])return{success:!1,reason:"The reconnect config is invalid, the value '"+t[n]+"' have to be a number. Reset to default."}}return e[t[0]]>e[t[1]]?{success:!1,reason:"The reconnect config is invalid, the value '"+t[0]+"' have to be lower then '"+t[1]+"'. Reset to default."}:e[t[0]]<1?{success:!1,reason:"The reconnect config is invalid, the value '"+t[0]+"' have to be greater or equal then 1 sec. Reset to default."}:{success:!0}}}}.apply(t,[]))||(e.exports=n)},7402:function(e,t){var n;void 0===(n=function(){return{calculate:function(e,t,n,r,i){var a=[],o=Math.sqrt(e);n>r&&(n=r);for(var s=(Math.sqrt(t)-o)/(n-1),u=0;u<r;u+=1){var d=i*(Math.random()-.5),l=o+s*Math.min(n-1,u)+(!u&&o-Math.abs(d)<=.5?Math.abs(d)+i*Math.random():d),c=Math.round(l*l*1e3);a.push(c)}return a}}}.apply(t,[]))||(e.exports=n)},4677:function(e,t){var n;void 0===(n=function(){return{parse:function(e,t){for(var n,r=e.url.split("?"),i=r[1].split("&"),a={},o=0;o<i.length;o+=1){var s=i[o].split("=");a[s[0]]=decodeURIComponent(s[1])}for(;i.length;)i.pop();for(n in a)if(Object.prototype.hasOwnProperty.call(a,n)){if("flags"===n){var u=a[n].split(","),d=u.indexOf("paused");t||-1===d?t&&-1===d&&u.push("paused"):u.splice(d,1),a[n]=u.join(",")}i.push(n+"="+encodeURIComponent(a[n]))}return r[1]=i.join("&"),e.url=r.join("?"),e}}}.apply(t,[]))||(e.exports=n)},9336:function(e,t){var n;void 0===(n=function(){return{PLAY:"api.play",PAUSE:"api.pause"}}.apply(t,[]))||(e.exports=n)},9673:function(e,t){var n;void 0===(n=function(){return{BASE:"control.",CONNECT:"control.connect",DISCONNECT:"control.disconnect",NETWORK_PLAY:"control.networkPlay",NETWORK_PAUSE:"control.networkPause",PLAY:"control.play",PAUSE:"control.pause",MUTE:"control.mute",UNMUTE:"control.unmute",SET_VOLUME:"control.setVolume",SEEK:"control.seek",SET_RATE:"control.playbackRate",CONFIG:"control.config",CREATE_VIDEO:"control.createVideo",DESTROY_VIDEO:"control.destroyVideo",VIDEO_SOURCE:"control.videoSource",UPDATE_SOURCE:"control.updateSource",NETWORK_UPDATE_SOURCE:"control.networkUpdateSource",SWITCH_STREAM:"control.switchStream",SET_ADAPTION:"control.setAdaption"}}.apply(t,[]))||(e.exports=n)},680:function(e,t){var n;void 0===(n=function(){return{BASE:"logic.",STATE_CHANGE:"logic.stateChange",LOADING_TIMEOUT:"logic.loadingTimeout",BUFFERING_TIMEOUT:"logic.bufferingTimeout",STREAM_INFO:"logic.streamInfo",STREAM_INFO_UPDATE:"logic.streamInfoUpdate",SERVER_INFO:"logic.serverInfo",STREAM_URL:"logic.streamUrl",NO_KEEP_CONNECTION:"logic.noKeepConnection",MIME_TYPE_UNSUPPORTED:"logic.mimeTypeUnsupported",META_DATA_RECEIVED:"logic.metaDataReceived",META_DATA_ERROR:"logic.metaDataError",NO_SERVER_ERROR:"logic.noServerError",MISSING_RTMP_ERROR:"logic.missingRtmpError",STARTUP_STATS_ADDED:"logic.startupStatsAdded",STARTUP_STATS_COMPLETED:"logic.startupStatsCompleted",DOCUMENT_VISIBLE:"logic.documentVisible",DOCUMENT_HIDDEN:"logic.documentHidden",ERROR:"logic.error",UPDATE_SOURCE_INIT:"logic.updateSourceInit",UPDATE_SOURCE_SUCCESS:"logic.updateSourceSuccess",UPDATE_SOURCE_FAIL:"logic.updateSourceFail",UPDATE_SOURCE_ABORT:"logic.updateSourceAbort",SWITCH_STREAM_INIT:"logic.switchStreamInit",SWITCH_STREAM_SUCCESS:"logic.switchStreamSuccess",SWITCH_STREAM_FAIL:"logic.switchStreamFail",SWITCH_STREAM_ABORT:"logic.switchStreamAbort",ADAPTIVE_STATS:"logic.adaptiveStats",STREAM_SWITCH:"logic.streamSwitch",BUFFER_GOAL_STATS:"logic.bufferGoalStats",LATENCY_CONTROL_MODE_SET:"logic.latencyControlModeSet",SOURCE_STREAM_STOPPED:"logic.sourceStreamStopped",NOT_CONFIGURED:"logic.notConfigured",UPDATE_SOURCE_INVALID:"logic.updateSourceInvalid",INVALID_ENTRY_INDEX:"logic.invalidEntryIndex",BUFFER_TWEAKS_CREATED:"logic.bufferTweaksCreated",BUFFER_TWEAKS_ERROR:"logic.bufferTweaksError"}}.apply(t,[]))||(e.exports=n)},594:function(e,t){var n;void 0===(n=function(){return{BASE:"media.",LOAD_START:"media.loadstart",PROGRESS:"media.progress",SUSPEND:"media.suspend",ABORT:"media.abort",EMPTIED:"media.emptied",STALLED:"media.stalled",PLAY:"media.play",PAUSE:"media.pause",LOADED_META_DATA:"media.loadedmetadata",LOADED_DATA:"media.loadeddata",WAITING:"media.waiting",MEDIA_ERROR:"media.mediaerror",MEDIA_ERROR_RECOVER:"media.mediaerrorrecover",MEDIA_ERROR_RECOVERED:"media.mediaerrorrecovered",PLAYING:"media.playing",CAN_PLAY:"media.canplay",CAN_PLAY_THROUGH:"media.canplaythrough",SEEKING:"media.seeking",SEEKED:"media.seeked",TIME_UPDATE:"media.timeupdate",ENDED:"media.ended",RATE_CHANGE:"media.ratechange",DURATION_CHANGE:"media.durationchange",VOLUME_CHANGE:"media.volumechange",ELEMENT_CREATED:"media.elementCreated",QUALITY_STATS:"media.qualitystats",PLAY_STATS:"media.playStats",MEDIA_ERROR_RECOVER_STATS:"media.mediaErrorRecoverStats",FRAME_DROP:"media.framedrop",PLAYBACK_FINISHED:"media.playbackFinished",PLAYBACK_ERROR:"media.playbackError",PLAYBACK_STARTED:"media.playbackStarted",PLAYBACK_SUSPENDED:"media.playbackSuspended",BUFFERING:"media.buffering",PLAY_START_SUCCESS:"media.playStartSuccess",PLAY_START_NOT_ALLOWED_ERROR:"media.playStartNotAllowedError",PLAY_START_ABORT_ERROR:"media.playStartAbortError",VIEWPORT_VISIBLE:"media.viewportvisible",VIEWPORT_HIDDEN:"media.viewporthidden",ELEMENTS_UPDATED:"media.elementsUpdated",TIME_OFFSET:"media.timeOffset",UPDATE_SOURCE_ABORT:"media.updateSourceAbort",UPDATE_SOURCE_FAIL:"media.updateSourceFail",UPDATE_SOURCE_TIMEOUT:"media.updateSourceTimeout",ACTIVE_VIDEO_ELEMENT_CHANGE:"media.activeVideoElementChange",OFFLINE_BUFFER_UNDERRUN:"media.offlinebufferunderrun"}}.apply(t,[]))||(e.exports=n)},1376:function(e,t){var n;void 0===(n=function(){return{BASE:"network.",CONNECTING:"network.connecting",CONNECTED:"network.connected",CONNECTION_OPEN:"network.connectionOpen",DISCONNECTED:"network.disconnected",RESUMING:"network.resuming",RECONNECTION_IMMINENT:"network.reconnectionImminent",RECONNECTING:"network.reconnecting",RECONNECTION_CONFIG_INVALID:"network.reconnectionConfigInvalid",CONNECTION_ERROR:"network.connectionError",INITIALIZATION_ERROR:"network.initializationError",ERROR:"network.error",WARNING:"network.warning",DESTROYED:"network.destroyed",STATE_CHANGE:"network.stateChange",META_DATA:"network.metaData",SERVER_INFO:"network.serverInfo",STREAM_INFO:"network.streamInfo",STREAM_INFO_UPDATE:"network.streamInfoUpdate",STREAM_FRAGMENT:"network.streamFragment",RANDOM_ACCESS_POINT:"network.randomAccessPoint",RAW_PACKET:"network.raw",STREAM_STATUS:"network.streamStatus",UPDATE_SOURCE_SUCCESS:"network.updateSourceSuccess",UPDATE_SOURCE_FAIL:"network.updateSourceFail",UPDATE_SOURCE_ABORT:"network.updateSourceAbort",STREAM_QUALITY:"network.streamQuality",ONLINE:"network.online",OFFLINE:"network.offline"}}.apply(t,[]))||(e.exports=n)},7354:function(e,t){var n;void 0===(n=function(){return{BASE:"public.",READY:"public.ready",ERROR:"public.error",PAUSE:"public.pause",LOADING:"public.loading",START_BUFFERING:"public.startBuffering",STOP_BUFFERING:"public.stopBuffering",PLAY:"public.play",METADATA:"public.metaData",STATS:"public.stats",PLAYBACK_FINISHED:"public.playbackFinished",MEDIA:"public.media",STREAM_INFO:"public.streamInfo",STREAM_INFO_UPDATE:"public.streamInfoUpdate",MUTE:"public.mute",UNMUTE:"public.unmute",VOLUME_CHANGE:"public.volumeChange",STATE_CHANGE:"public.stateChange",WARNING:"public.warning",DESTROY:"public.destroy",UPDATE_SOURCE_INIT:"public.updateSourceInit",UPDATE_SOURCE_SUCCESS:"public.updateSourceSuccess",UPDATE_SOURCE_FAIL:"public.updateSourceFail",UPDATE_SOURCE_ABORT:"public.updateSourceAbort",SWITCH_STREAM_INIT:"public.switchStreamInit",SWITCH_STREAM_SUCCESS:"public.switchStreamSuccess",SWITCH_STREAM_FAIL:"public.switchStreamFail",SWITCH_STREAM_ABORT:"public.switchStreamAbort",SERVER_INFO:"public.serverInfo",ACTIVE_VIDEO_ELEMENT_CHANGE:"public.activeVideoElementChange"}}.apply(t,[]))||(e.exports=n)},1128:function(e,t,n){var r,i;r=[n(1969),n(6637),n(5055),n(2682),n(1933),n(8333),n(1473),n(9658),n(8197),n(6725),n(6627),n(8478),n(6965),n(5810),n(1493),n(828),n(492),n(8405),n(9583),n(3284),n(5493),n(6704),n(1797),n(651),n(2909),n(279),n(1358),n(9673),n(680),n(594),n(1376),n(9336),n(7354)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l,c,f,E,p,m,b,h,g,_,T,A,S,y,v,R,O,I,N,C,D,w,U){"use strict";var P=a.create("H5Live");function M(e){d.validatePlayerDivId(e),this._setBaseValues(e)}M.getSupportedTechniques=function(){var e=[];return l.isH5LiveKnownUnsupported||(l.canUseMediaSource&&e.push(_.H5LIVE_WSS),(l.mustUseHLS||l.canUseHLS)&&e.push(_.H5LIVE_HLS)),e},M.supportedTechniques=M.getSupportedTechniques(),M.isSupported=function(){return M.supportedTechniques.length>0};var L=M.prototype=Object.create(e.prototype);return L._setBaseValues=function(e){this.version=r.CORE,this.type="h5live",this.mediaplaybackapi="default",this.networkState=this.NETWORK_STATE.UNINITIALIZED,this._info=i,this.config=f.create(),this._playerDivId="",this._playing=!1,this._updating=!1,this._serverInfo=null,this._useHLS=!1,this._pauseReason="",this._playerDivId=e,this._mediaElementIds=[],this._componentEmitter=new s,this._componentListeners={logic:[{type:N.SERVER_INFO,listener:this._onServerInfo.bind(this)},{type:N.NO_KEEP_CONNECTION,listener:this._onNoKeepConnection.bind(this)},{type:N.ERROR,listener:this._onLogicError.bind(this)},{type:N.UPDATE_SOURCE_INIT,listener:this._onUpdateSourceInit.bind(this)},{type:N.SWITCH_STREAM_INIT,listener:this._onSwitchStreamInit.bind(this)},{type:N.LATENCY_CONTROL_MODE_SET,listener:this._onLatencyControlModeSet.bind(this)},{type:N.BUFFER_TWEAKS_CREATED,listener:this._onBufferTweaksCreated.bind(this)},{type:N.BUFFER_TWEAKS_ERROR,listener:this._onBufferTweaksError.bind(this)}],network:[{type:D.CONNECTING,listener:this._onConnectionConnecting.bind(this)},{type:D.CONNECTED,listener:this._onConnectionOpen.bind(this)},{type:D.DISCONNECTED,listener:this._onConnectionClosed.bind(this)},{type:D.RECONNECTING,listener:this._onConnectionReconnecting.bind(this)},{type:D.RECONNECTION_IMMINENT,listener:this._onConnectionReconnectionImminent.bind(this)},{type:D.DESTROYED,listener:this._onConnectionDestroyed.bind(this)},{type:D.WARNING,listener:this._onConnectionWarning.bind(this)},{type:D.STATE_CHANGE,listener:this._onConnectionStateChange.bind(this)}],media:[{type:C.MEDIA_ERROR_RECOVER,listener:this._onMediaErrorRecover.bind(this)},{type:C.PLAYBACK_STARTED,listener:this._onMediaPlaying.bind(this)},{type:C.BUFFERING,listener:this._onMediaBuffering.bind(this)},{type:C.PLAY_START_ABORT_ERROR,listener:this._onPlayStartAbortError.bind(this)},{type:C.PLAY_START_NOT_ALLOWED_ERROR,listener:this._onPlayStartNotAllowedError.bind(this)},{type:C.OFFLINE_BUFFER_UNDERRUN,listener:this._onOfflineBufferUnderrun.bind(this)}]},this._setState(b.IDLE)},L._baseSetup=function(e,r){this._useHLS=l.mustUseHLS||r.playback.allowSafariHlsFallback&&l.canUseHLS,this.mediaplaybackapi=this._useHLS?"hls":"mse";var i=this._checkSource(r.source);r.source=i;var a,s=o.check(r,E.create());if(o.merge(r,this.config),o.clean(this.config),a=d.validateConfig(e,this.config))return a;this._setListeners(this.config.events,this),s.forEach(function(e){this._emitWarning(e)}.bind(this));var u=document.getElementById(this._playerDivId);this._metaDataEnabled=this.config.playback.metadata;var c=this.config.source.entries[this.config.source.startIndex].h5live.params,f=this.config.source.entries[this.config.source.startIndex].h5live.rtmp,p=c&&c.url?c.url:f&&f.url?f.url:null,m=c&&c.stream?c.stream:f&&f.streamname?f.streamname:null;for(var b in this.config.url=p&&m?p+"/"+m:"",this.config.type=this.type,this.config.mediaplaybackapi=this.mediaplaybackapi,this.config.latencyControlMode=this.config.playback.latencyControlMode,this.config.id=this.id,this._components={error:y.create(this._componentEmitter),state:A.create(this._componentEmitter),network:R.create(this._componentEmitter),media:O.create(this._componentEmitter),logic:v.create(this._componentEmitter),propagator:S.create(this._componentEmitter)},this._components)Object.prototype.hasOwnProperty.call(this._componentListeners,b)&&this._componentListeners[b].length&&t.add({target:this._componentEmitter,listeners:this._componentListeners[b]});for(var h in g)(this._outwardEvents||(this._outwardEvents=[]))&&this._outwardEvents.push({from:g[h],to:g[h]}),(this._inwardEvents||(this._inwardEvents=[]))&&this._inwardEvents.push({from:g[h],to:U[h]});return this._outwardTranslator=n.create(this._componentEmitter,this,this._outwardEvents),this._inwardTranslator=n.create(this,this._componentEmitter,this._inwardEvents),this._emitConfig(),this._setupVideoElement(u),a},L.setup=function(e){return new Promise(function(t,n){try{var r=this._baseSetup(M.supportedTechniques[0],e);r?n(r):(setTimeout(function(){if(this._setState(b.READY),this.emit(g.READY,{config:this.config}),!this._pauseReason.length&&this.config.playback.autoplay){var t=e.source.entries[this.config.source.startIndex];(e.source.group&&e.source.group.state&&"live"!==e.source.group.state||t.bintu&&t.bintu.state&&"live"!==t.bintu.state)&&e.playback.autoplay?this._componentEmitter.emit(N.SOURCE_STREAM_STOPPED):this.play()}}.bind(this),20),t(this.config))}catch(e){n(e)}}.bind(this))},L._destroy=function(){for(var e in this._setState(b.DESTROYING),this._playing&&this.pause(this.state),this.emit(g.DESTROY),this._outwardTranslator&&this._outwardTranslator.destroy(),this._outwardTranslator=null,this._inwardTranslator&&this._inwardTranslator.destroy(),this._inwardTranslator=null,this._components)Object.prototype.hasOwnProperty.call(this._components,e)&&(this._components[e].destroy(),delete this._components[e]);for(var n in this._componentListeners)Object.prototype.hasOwnProperty.call(this._componentListeners,n)&&this._componentListeners[n].length&&t.remove({target:this._componentEmitter,listeners:this._componentListeners[n]});this.removeAllListeners()},L.destroy=L._destroy,L._emitConfig=function(){this._componentEmitter.emit(I.CONFIG,{config:u.copy(this.config)})},L._setState=function(e){P.debugEnabled()&&P.debug("set state");var t=arguments.length>1?arguments[1]:{};e!==this.state?(this.state=e,P.debugEnabled()&&P.debug("state changed to "+this._getState()+" ("+e+")"),t.state=e,this._componentEmitter.emit(N.STATE_CHANGE,t)):P.debugEnabled()&&P.debug("state already at "+this._getState()+" ("+e+")")},L._setListeners=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"function"==typeof e[n]){var r=n.replace("on",""),i=e[n];t.on(r,i)}},L._setupVideoElement=function(e){var t="h5live-"+this._playerDivId;if(this.config.playback.videoId){if("string"==typeof this.config.playback.videoId)this._mediaElementIds.push(this.config.playback.videoId);else if(Array.isArray(this.config.playback.videoId))for(var n=0;n<this.config.playback.videoId.length&&(this._mediaElementIds.push("string"==typeof this.config.playback.videoId[n]?this.config.playback.videoId[n]:t+(n?"-"+n:"")),l.mustUseHLS||l.canUseHLS&&this.config.playback.allowSafariHlsFallback);n+=1);else this._mediaElementIds.push(t);(l.mustUseHLS||l.canUseHLS&&this.config.playback.allowSafariHlsFallback)&&2!==this._mediaElementIds.length&&(this._mediaElementIds.push(t+"-1"),this._emitWarning("Two external video elements should be used for hls playback with multi stream configuration. Please pass two element ids within a string array."))}else this._mediaElementIds.push(t),(l.mustUseHLS||l.canUseHLS&&this.config.playback.allowSafariHlsFallback)&&this._mediaElementIds.push(t+"-1");this._componentEmitter.emit(I.CREATE_VIDEO,{elementIds:this._mediaElementIds,container:e})},L._onLogicError=function(e){e.data.state&&this._setState(e.data.state),this.state>=b.READY&&this.pause(this.state)},L._onUpdateSourceInit=function(e){this._maybePlayOnUpdateOrSwitch(e)},L._onSwitchStreamInit=function(e){this._maybePlayOnUpdateOrSwitch(e)},L._onLatencyControlModeSet=function(e){this.config.latencyControlMode=e.data.latencyControlMode},L._maybePlayOnUpdateOrSwitch=function(e){e.data.options.forcePlay&&-1!==[b.READY,b.PAUSED].indexOf(this.state)&&setTimeout(this.play.bind(this),200)},L._onPlayStartAbortError=function(e){"background"===e.data.reason&&this._emitWarning("Muted playback in background failed. Wait for getting visible again during loading state to retry.")},L._onPlayStartNotAllowedError=function(e){e.data.automuted&&this._emitWarning("Unmuted autoplay failed by autoplay policy, but 'automute' is enabled. Try to play muted.")},L._onBufferTweaksCreated=function(e){this.config.tweaks=this.config.tweaks||{},this.config.tweaks.buffer=e.data.tweaks.buffer,this.config.playback.latencyControlMode=e.data.latencyControlMode},L._onBufferTweaksError=function(e){this._emitWarning(e.data.message)},L._onMediaErrorRecover=function(e){this._emitWarning("Recovering from media error "+e.data.code+", recovery "+e.data.count+"/"+e.data.max+" within the last 60 seconds ("+e.data.total+" total).")},L._onOfflineBufferUnderrun=function(){this._emitWarning("Network status is offline during buffering or loading. Wait for becoming online again to recover.")},L._preparePlay=function(e){this._setState(b.LOADING,{connectDelay:e}),this.emit(g.LOADING,{connectDelay:e}),setTimeout(function(){this.state===b.LOADING&&(this._componentEmitter.emit(w.PLAY),this._componentEmitter.emit(I.PLAY,{external:!0}))}.bind(this),e)},L.play=function(){var e=arguments.length?arguments[0]:0;P.debugEnabled()&&P.debug("play in state "+this.state),this.state<b.READY?this._componentEmitter.emit(N.NOT_CONFIGURED):this.state===b.READY||this.state===b.PAUSED?(this._playing=!0,this._preparePlay(e)):this.state===b.PAUSING&&(P.debugEnabled()&&P.debug("play in PAUSING state, setting flag to resume"),this._resumeOnPause=!0)},L._onConnectionConnecting=function(){P.debugEnabled()&&P.debug("connecting")},L._onConnectionStateChange=function(e){this.networkState=e.data.connectionState},L._onConnectionWarning=function(e){var t="Connection warning!",n=e?e.data:void 0;n&&n.message&&(t+=" "+n.message),n&&n.code&&(t+=" (code:"+n.code+")"),this._emitWarning(t)},L._onConnectionOpen=function(e){e.data.count?P.debugEnabled()&&P.debug("connection open after "+e.data.count+" reconnect tries"):P.debugEnabled()&&P.debug("connection open")},L._onConnectionClosed=function(e){P.debugEnabled()&&P.debug("connection closed: "+e.data.code+" "+e.data.message),P.debugEnabled()&&P.debug('closed connection with state "'+this._getState()+'", networkstate "'+this._getNetworkState()+'"')},L._onConnectionDestroyed=function(e){P.debugEnabled()&&P.debug("connection destroyed"+(e.data.silent?", but silent":"")),this.state===b.READY||e.data.silent||this.pause(this.state)},L._onConnectionReconnecting=function(e){P.debugEnabled()&&P.debug("reconnect attempt "+e.data.count+" started")},L._onConnectionReconnectionImminent=function(e){var t=e.data.code;P.debugEnabled()&&P.debug("connection "+e.data.count+(e.data.count>1?" times":" time")+" unexpectedly closed with code "+t+", but a reconnect will be prepared"),P.debugEnabled()&&P.debug("reconnect attempt "+e.data.count+" starts in "+Math.round(e.data.delay)+" ms"),(!this._useHLS||"iOS"===i.os&&e.data.count>1)&&this._emitWarning("Connection error: closed "+e.data.count+(e.data.count>1?" times":" time")+" unexpectedly with code "+t+", but a reconnect will be prepared in "+(e.data.delay/1e3).toFixed(3)+" s"),this._playing&&!this._useHLS&&(this._setState(b.RECONNECTION_IMMINENT),this.pause(this.state),this.play(e.data.delay))},L._onServerInfo=function(e){P.debugEnabled()&&P.debug("onServerInfo");try{this._serverInfo=e.data.onServerInfo;var t=JSON.stringify(e.data);P.debugEnabled()&&P.debug(t)}catch(e){}},L._onNoKeepConnection=function(e){P.debugEnabled()&&P.debug("onNoKeepConnection"),this._emitWarning(e.data.message)},L._emit=L.emit,L.emit=function(e,t){var n={};t&&t.name&&t.data?n=t:t?(n.data=t,n.name=e||"unknown"):(n.data={},n.name=e||"unknown"),n.player=this._playerDivId,n.id=this.id,n.version=this.version,n.state=this.state,"Error"===e&&n.data.code&&n.data.message&&P.debugEnabled()&&P.debug("error "+n.data.code+" "+n.data.message);var r=u.copy(n);r.name="public."+r.name.substr(0,1).toLowerCase()+r.name.substr(1),this._componentEmitter.emit(r.name,r),this._emit(n.name,n)},L._emitError=function(e,t){this.emit(g.ERROR,{code:e,message:t}),this.state>=b.READY&&this.pause(this.state)},L._emitWarning=function(e){this.emit(g.WARNING,{message:e})},L._getPauseReason=function(e){var t="";if(e){var n=!this._useHLS&&this.networkState!==this.NETWORK_STATE.OPEN&&this.networkState!==this.NETWORK_STATE.UNINITIALIZED;switch(e){case b.READY:t=T.SERVER_NOT_FOUND;break;case b.LOADING:t=n?T.CONNECTION_CLOSE:T.STREAM_NOT_FOUND;break;case b.BUFFERING:t=n?T.CONNECTION_CLOSE:T.BUFFER;break;case b.UNKNOWN:t=n?T.CONNECTION_CLOSE:T.UNKNOWN;break;case b.PLAYING:t=n?T.CONNECTION_CLOSE:T.NORMAL;break;case b.PLAYBACK_NOT_STARTED:t=T.INTERACTION_REQUIRED;break;case b.PLAYBACK_SUSPENDED:t=T.PLAYBACK_SUSPENDED;break;case b.PLAYBACK_ERROR:t=T.PLAYBACK_ERROR;break;case b.RECONNECTION_IMMINENT:t=T.RECONNECTION_IMMINENT;break;case b.CONNECTION_ERROR:t=T.CONNECTION_CLOSE;break;case b.DESTROYING:t=T.DESTROY;break;case b.VISIBILITY_HIDDEN:t=T.VISIBILITY_HIDDEN;break;case b.NOT_ENOUGH_DATA:t=T.NOT_ENOUGH_DATA;break;case b.SOURCE_STREAM_STOPPED:t=T.SOURCE_STREAM_STOPPED;break;case b.MEDIA_NOT_AVAILABLE:t=T.MEDIA_NOT_AVAILABLE;break;default:t=T.NORMAL}}else t=T.NORMAL;return t},L._triggerPause=function(){this.state!==b.PAUSED?(P.debugEnabled()&&P.debug('trigger pause with reason "'+this._pauseReason+'", state "'+this._getState()+'", networkstate "'+this._getNetworkState()+'"'),this._setState(b.PAUSED,{reason:this._pauseReason}),this.emit(g.PAUSE,{reason:this._pauseReason}),this._resumeOnPause&&(this._resumeOnPause=!1,this.play())):P.debugEnabled()&&P.debug("trigger pause but already in state paused")},L.pause=function(){var e=arguments.length?arguments[0]:0;P.debugEnabled()&&P.debug("pause in state "+this.state),this.state<b.READY&&!e?this._emitWarning("A pause call has been ignored since the player has not been set up successfully."):this.state!==b.PAUSED&&this.state!==b.PAUSING&&(this._pauseReason=this._getPauseReason(e),this._setState(b.PAUSING),this._playing=!1,this._resumeOnPause=!1,this._componentEmitter.emit(w.PAUSE),this._componentEmitter.emit(I.PAUSE),this._triggerPause())},L.mute=function(){this._componentEmitter.emit(I.MUTE)},L.unmute=function(){this._componentEmitter.emit(I.UNMUTE)},L.setVolume=function(e){this._componentEmitter.emit(I.SET_VOLUME,{volume:e})},L.updateSource=function(e){return new Promise(function(t,n){if(this._updating)n(new c("Another 'updateSource' call is pending."));else{this._updating=!0;var r=function(e,t){this._updating=!1,e.apply(null,t)}.bind(this);try{var i,a=this._checkSource(e);if(this.config.source=a,o.clean(this.config.source),i=d.validateConfig(M.supportedTechniques[0],this.config))i.message.replace("create","update"),this._componentEmitter.emit(N.UPDATE_SOURCE_INVALID,{code:i.code,message:i.message}),r(n,[i]);else{var s=this.config.source.entries[this.config.source.startIndex].h5live.params,l=this.config.source.entries[this.config.source.startIndex].h5live.rtmp,f=s&&s.url?s.url:l&&l.url?l.url:null,E=s&&s.stream?s.stream:l&&l.streamname?l.streamname:null;this.config.url=f&&E?f+"/"+E:"",delete this.config.source.h5live,this._componentEmitter.emit(I.UPDATE_SOURCE,{source:u.copy(this.config.source),options:u.copy(this.config.source.options.switch)}),r(t,[this.config])}}catch(e){r(n,[new c(e.message,e.code)])}}}.bind(this))},L.switchStream=function(e){return new Promise(function(t,n){var r;(r=d.validateSwitchIndex(e,this.config))?(this._componentEmitter.emit(N.INVALID_ENTRY_INDEX,{code:r.code,message:r.message,pauseOnError:this.config.source.options.switch.pauseOnError}),n(r)):(this._componentEmitter.emit(I.SWITCH_STREAM,{index:e,type:"direct"}),t(u.copy(this.config)))}.bind(this))},L.setAdaption=function(e){var t=!0;if(e&&e.rule||(t=!1,this._emitWarning("The adaption object is invalid. The adaption will not be updated.")),-1!==["deviationOfMean","deviationOfMean2"].indexOf(e.rule)?this.config.source.entries.length<2&&(t=!1,this._emitWarning("Only one entry. The adaption will not be updated.")):-1===["none"].indexOf(e.rule)&&(t=!1,this._emitWarning("The adaption rule is not valid. Valid rules are 'deviationOfMean', 'deviationOfMean2' and 'none' (disable). The adaption will not be updated.")),t){var n=1;if(isNaN(e.downStep)?this._emitWarning("The adaption down step is not valid. The default down step '1' will be set."):(n=parseInt(e.downStep,10)||n,n=Math.max(1,Math.min(this.config.source.entries.length-1,n))),e.downStep=n,Array.isArray(e.omitRenditions)){for(var r=["high","medium-high","medium","medium-low","low"],i=!1,a=0;a<e.omitRenditions.length;a+=1){if(isNaN(e.omitRenditions[a])){if("string"==typeof e.omitRenditions[a]&&-1!==r.indexOf(e.omitRenditions[a]))continue;i=!0;break}var o=parseInt(e.omitRenditions[a],10);if(!(!isNaN(o)&&o>=0&&o<this.config.source.entries.length)){i=!0;break}}i&&(this._emitWarning("The adaption omit renditions ["+e.omitRenditions.join(",")+"] are not valid and will be ignored."),delete e.omitRenditions)}else void 0!==e.omitRenditions&&(this._emitWarning("The adaption omit renditions are not valid and will be ignored."),delete e.omitRenditions);this._componentEmitter.emit(I.SET_ADAPTION,{adaption:e})}},L._parseUrl=function(e){var t={url:"",streamname:""},n=e.lastIndexOf("/"),r=e.substr(0,n),i=e.substr(n,e-n);return t.url=r,t.streamname=i,t},L._getState=function(){return u.findPropertyByValue(b,this.state)},L._getNetworkState=function(){return u.findPropertyByValue(this.NETWORK_STATE,this.networkState)},L._onMediaPlaying=function(e){var t=this.state;this._setState(b.PLAYING),this.emit(t===b.BUFFERING?g.STOP_BUFFERING:g.PLAY,e.data),P.debugEnabled()&&P.debug("state is PLAYING")},L._onMediaBuffering=function(){this._setState(b.BUFFERING),this.emit(g.START_BUFFERING)},L._checkSource=function(e){var t,n,r,i={method:this._useHLS?"client":"server",pauseOnError:!1,forcePlay:!0,fastStart:!1,timeout:20,tag:""},a={rule:"none",downStep:1,omitRenditions:[]};if(e&&e.entries&&e.entries.length>0){for(var s=0;s<e.entries.length;s+=1)if(n=e.entries[s],t=o.check(n,m.create()),n.index!==s){t.push("Configuration warning. The config entries property 'index' is not configured properly.");break}}else n=p.create(),o.merge(e,n),e.entries=[n],e.startIndex=0,e.options&&(e.options.adaption=a);if(isNaN(e.startIndex)||"string"!=typeof e.startIndex||(e.startIndex=parseInt(e.startIndex,10)),(void 0===e.startIndex||isNaN(e.startIndex)||e.startIndex<0||e.startIndex>e.entries.length-1)&&(t.push("Configuration warning. The config property 'startIndex' is not configured properly."),e.startIndex=f.create().source.startIndex),e.options){if(e.options.switch){for(r in i)if(Object.prototype.hasOwnProperty.call(e.options.switch,r)&&typeof e.options.switch[r]==typeof i[r])switch(r){case"method":-1!==["server","client"].indexOf(e.options.switch[r])?"server"===e.options.switch[r]&&this._useHLS||(i[r]=e.options.switch[r]):this._emitWarning("The switch method is not valid. Valid methods are 'server' and 'client'. The default method 'server' will be set.");break;case"timeout":e.options.switch[r]>=5&&e.options.switch[r]<=30?i[r]=e.options.switch[r]:this._emitWarning("The switch timeout value is not in the valid range. the valid range is between 5 and 30. The default value 20 will be set.");break;default:i[r]=e.options.switch[r]}e.options.switch=i}else e.options.switch=i;if(e.options.adaption){for(r in a)if(Object.prototype.hasOwnProperty.call(e.options.adaption,r)&&typeof e.options.adaption[r]==typeof a[r])switch(r){case"rule":-1!==["deviationOfMean","none","deviationOfMean2"].indexOf(e.options.adaption[r])?e.entries.length>1&&(a[r]=e.options.adaption[r]):this._emitWarning("The adaption rule is not valid. Valid rules are 'deviationOfMean', 'deviationOfMean2' and 'none' (disable). The default rule 'none' will be set.");break;case"downStep":if(isNaN(e.options.adaption[r]))this._emitWarning("The adaption down step is not valid. The default down step '1' will be set.");else{var u=a[r];u=parseInt(e.options.adaption[r],10)||u,u=Math.max(1,Math.min(e.entries.length-1,u)),a[r]=u}break;case"omitRenditions":if(Array.isArray(e.options.adaption[r])){for(var d=["high","medium-high","medium","medium-low","low"],l=!1,c=0;c<e.options.adaption[r].length;c+=1){if(isNaN(e.options.adaption[r][c])){if("string"==typeof e.options.adaption[r][c]&&-1!==d.indexOf(e.options.adaption[r][c]))continue;l=!0;break}var E=parseInt(e.options.adaption[r][c],10);if(!(!isNaN(E)&&E>=0&&E<e.entries.length)){l=!0;break}}l?this._emitWarning("The adaption omit renditions ["+e.options.adaption[r].join(",")+"] are not valid and will be ignored."):a[r]=e.options.adaption[r]}else this._emitWarning("The adaption omit renditions are not valid and will be ignored.");break;default:a[r]=e.options.adaption[r]}e.options.adaption=a}else e.options.adaption=a}else e.options={switch:i,adaption:a};return e.bintu&&1===e.entries.length&&(e.h5live=e.entries[0].h5live),t&&t.length&&t.forEach(function(e){this._emitWarning(e)}.bind(this)),e},L._onUpdateSourceTimeout=function(){P.debugEnabled()&&P.debug("updateSource timeout")},L.STATE=b,L.NETWORK_STATE=h,L.PAUSE_REASON=T,M}.apply(t,r))||(e.exports=i)},8985:function(e,t,n){var r,i;r=[n(1969),n(3284),n(2682),n(3778),n(1313),n(1473),n(8197),n(1933)],void 0===(i=function(e,t,n,r,i,a,o,s){"use strict";function u(e){this.version=n.CORE,this.type="native",this.mediaplaybackapi="hls",this._playerDivId=e}u.isSupported=function(){return"iOS"===s.os||"Safari"===s.browser},u.supportedTechniques=[t.NATIVE];var d=u.prototype=Object.create(e.prototype);return d.setup=function(e){return new Promise((function(t,n){try{e.source.entries&&e.source.entries.length||(e.source.entries=[{hls:o.copy(e.source.hls)}]),e.source.startIndex=void 0!==e.source.startIndex?Math.min(e.source.startIndex,e.source.entries.length-1):0,e.source.entries&&e.source.entries.length&&e.source.entries[e.source.startIndex].hls&&e.source.entries[0].hls.length?(window.location=e.source.entries[0].hls,t(e)):n(new Error(i.CONFIG_SOURCE,r.SETUP.SOURCE_NOT_SUPPORTED))}catch(e){n(e)}}))},d.destroy=function(){},d.play=function(){},d.pause=function(){},d.mute=function(){},d.unmute=function(){},d.setVolume=function(){},d.updateSource=function(){},d.switchStream=function(){},d.setAdaption=function(){},u}.apply(t,r))||(e.exports=i)},1933:function(e,t,n){var r,i;r=[n(8333)],void 0===(i=function(e){"use strict";var t=e.create("BrowserInfo"),n="Unknown",r="";screen.width&&(r+=(screen.width?screen.width:"")+" x "+(screen.height?screen.height:""));var i,a,o,s=navigator.userAgent,u=n,d="0.0",l=n,c=navigator.plugins,f=navigator.maxTouchPoints>0,E=!!window.ManagedMediaSource,p=!!window.MediaSource,m=E&&window.ManagedMediaSource.isTypeSupported&&window.ManagedMediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'),b=p&&window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'),h=!1;try{if(E){var g=new window.ManagedMediaSource,_=window.URL.createObjectURL(g);"string"==typeof _&&0===_.indexOf("blob:http")&&(h=!0)}}catch(e){}var T=!!window.WebTransport,A=n,S=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 10",r:/(Windows 10|Windows NT 10.0)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var y in S){var v=S[y];if(v.r.test(s)){A=v.s;break}}var R=n,O=void 0;switch(A){case"Mac OS X":null!==(O=/Mac OS X (\d+)_(\d+)_?(\d+)?/.exec(s)||/Mac OS X ([._\d]+)/.exec(s))&&(R=O[1]+"."+(0|O[2])+"."+(0|O[3]));break;case"Android":null!==(O=/Android ([._\d]+)/.exec(s))&&(R=O[1]);break;case"iOS":null!==(O=/OS (\d+)_(\d+)_?(\d+)?/.exec(s))&&(R=O[1]+"."+O[2]+"."+(0|O[3]));break;default:/Windows/.test(A)&&(null!==(O=/Windows (.*)/.exec(A))&&(R=O[1]),A="Windows")}if(-1!==(a=s.indexOf("Opera")))u="Opera",d=s.substring(a+6),-1!==(a=s.indexOf("Version"))&&(d=s.substring(a+8)),l="Chromium";else if(-1!==(a=s.indexOf("SamsungBrowser")))u="Samsung Browser",d=s.substring(a+15),l="Chromium";else if(-1!==(a=s.indexOf("Edg/")))u="Microsoft Edge Chromium",d=s.substring(a+4),l="Chromium";else if(-1!==(a=s.indexOf("UCBrowser")))u="UC Browser",d=s.substring(a+10),l="Blink";else if(-1!==(a=s.indexOf("YaBrowser")))u="Yandex Browser",d=s.substring(a+10),l="Blink";else if(-1!==(a=s.indexOf("QIHU 360EE"))||-1!==(a=s.indexOf("360Browser")))u="Qihoo 360 Browser",d="0",l="Blink";else if(-1!==(a=s.indexOf("Iron")))u="Iron Browser",d=s.substring(a+5),l="Chromium";else if(-1!==(a=s.indexOf("Vivaldi")))u="Vivaldi Browser",d=s.substring(a+8),l="Chromium";else if(-1!==(a=s.indexOf("OPR/")))u="Opera",d=s.substring(a+4),l="Chromium";else if(-1!==(a=s.indexOf("MSIE")))u="Microsoft Internet Explorer",d=s.substring(a+5),l="Trident";else if(-1!==(a=s.indexOf("Trident/")))u="Microsoft Internet Explorer",d=s.substring(a+8),-1!==(a=s.indexOf("rv:"))&&(d=s.substring(a+3)),l="Trident";else if(-1!==(a=s.indexOf("Edge/")))u="Microsoft Edge Trident",d=s.substring(a+5),l="Trident";else if(-1!==(a=s.indexOf("Chrome"))){var I=["Chromium PDF Viewer","Native Client","Chromium PDF Plugin"];if(u="Chrome",d=s.substring(a+7),l="Chromium",p&&!b&&parseInt(d,10)>=54)u="Chromium";else for(var N=0;N<c.length;N++){I.includes(c[N].name)&&(u="Chromium");break}}else if(-1!==(a=s.indexOf("PhantomJS")))u="PhantomJS",d=s.substring(a+10),l="Webkit";else if(-1!==(a=s.indexOf("Safari"))||"iOS"===A&&(a=s.length)){u="Safari",d=s.substring(a+7),-1!==(a=s.indexOf("Version"))&&(d=s.substring(a+8)),-1!==(a=s.indexOf("CriOS"))&&(u="Chrome",d=s.substring(a+6)),-1!==(a=s.indexOf("FxiOS"))&&(u="Firefox",d=s.substring(a+6)),-1!==(a=s.indexOf("EdgiOS"))&&(u="Microsoft Edge",d=s.substring(a+7)),-1!==(o=d.indexOf(";"))&&(d=d.substring(0,o)),-1!==(o=d.indexOf(" "))&&(d=d.substring(0,o)),-1!==(o=d.indexOf(")"))&&(d=d.substring(0,o));var C=parseInt(d.split(".")[0],10);if(isNaN(C)||!C||C>500){for(var D=R.split(".");D.length>2;)D.pop();d=D.length>1?D.join("."):D[0]}l="Webkit"}else-1!==(a=s.indexOf("Firefox"))?(u="Firefox",d=s.substring(a+8),l="Firefox"):(i=s.lastIndexOf(" ")+1)<(a=s.lastIndexOf("/"))&&(u=s.substring(i,a),d=s.substring(a+1),u.toLowerCase()===u.toUpperCase()&&(u=n));-1!==(o=d.indexOf(";"))&&(d=d.substring(0,o)),-1!==(o=d.indexOf(" "))&&(d=d.substring(0,o)),-1!==(o=d.indexOf(")"))&&(d=d.substring(0,o));var w=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(s),U=!!navigator.cookieEnabled;void 0!==navigator.cookieEnabled||U||(document.cookie="testcookie",U=-1!==document.cookie.indexOf("testcookie"));var P={screen:r,browser:u,browserVersion:d,mobile:w,os:A,osVersion:R,cookies:U,browserEngine:l,hasManagedMediaSource:E,hasMediaSource:p,isManagedMediaSourceH264Supported:m,isMediaSourceH264Supported:b,isManagedMediaSourceValidBlobUrl:h,hasTouchPoints:f,isWebTransportSupported:T};for(var M in P)Object.prototype.hasOwnProperty.call(P,M)&&t.debug(M+": "+P[M]);return P}.apply(t,r))||(e.exports=i)},8818:function(e,t,n){var r,i;r=[n(8333)],void 0===(i=function(e){"use strict";var t,n=e.create("CodecSupport");function r(){var e=Object.keys(i).map((function(e){return{codec:i[e],supported:!1}})),t=Object.keys(a).map((function(e){return{codec:a[e],supported:!1}}));return{video:{codecs:e,unsupported:e.length},audio:{codecs:t,unsupported:t.length},webcodecs_vc:!1,webcodecs_ac:!1}}var i={"avc1.420015":"h264_baseline","avc1.4D401E":"h264_main","avc1.640028":"h264_high","hvc1.1.6.L93.B0":"hevc_main","av01.0.08M.08":"av1_main"},a={"mp4a.40.2":"aac_lc","mp4a.40.5":"aac_hev1","mp4a.40.29":"aac_hev2",opus:"opus"},o=[{width:640,height:360},{width:854,height:480},{width:1280,height:720},{width:1920,height:1080},{width:3840,height:2160}],s=[{sampleRate:16e3,channels:2},{sampleRate:24e3,channels:2},{sampleRate:32e3,channels:2},{sampleRate:44100,channels:2},{sampleRate:48e3,channels:2}];return function(){var e=performance.now(),t={video:!(!window.VideoDecoder||!window.VideoDecoder.isConfigSupported),audio:!(!window.AudioDecoder||!window.AudioDecoder.isConfigSupported)};if(!t.video&&!t.audio){var u=performance.now()-e,d=r();return d.codecs_time={execution:Math.round(u)},Promise.resolve(d)}var l=[],c=[];return t.video&&Object.keys(i).forEach((function(e){l.push(function(e){for(var t=o.slice().reverse(),n=[],r=0;r<t.length;r++){var a=t[r],s={codec:e,codedWidth:a.width,codedHeight:a.height},u=function(e){return VideoDecoder.isConfigSupported(s).then((function(t){return{resolution:e,supported:t.supported}})).catch((function(){return{resolution:e,supported:!1}}))}(a);n.push(u)}return Promise.all(n).then((function(t){for(var n=null,r=0;r<t.length;r++)if(t[r].supported){n=t[r];break}return{codec:i[e],supported:!!n,maxResolution:n?n.resolution.width+"x"+n.resolution.height:void 0}}))}(e))})),t.audio&&Object.keys(a).forEach((function(e){c.push(function(e){for(var t=s.slice().reverse(),r=[],i=0;i<t.length;i++){var o=function(t){var r={codec:e,sampleRate:t.sampleRate,numberOfChannels:t.channels};return AudioDecoder.isConfigSupported(r).then((function(e){return n.debugEnabled()&&n.debug("support success "),{config:t,supported:e.supported}})).catch((function(){return n.debugEnabled()&&n.debug("support fail "),{config:t,supported:!1}}))}(t[i]);r.push(o)}return Promise.all(r).then((function(t){for(var n=null,r=0;r<t.length;r++)if(t[r].supported){n=t[r];break}return{codec:a[e],supported:!!n,maxConfig:n?n.config.sampleRate+"Hz/"+n.config.channels+"ch":void 0}}))}(e))})),Promise.all([Promise.all(l),Promise.all(c)]).then((function(n){for(var r=performance.now()-e,i=n[0],a=n[1],o=0,s=0;s<i.length;s++)i[s].supported||o++;for(var u=0,d=0;d<a.length;d++)a[d].supported||u++;return{video:{codecs:i,unsupported:o},audio:{codecs:a,unsupported:u},codecs_time:{execution:Math.round(r.toFixed(2))},webcodecs_vc:t.video,webcodecs_ac:t.audio}})).catch((function(e){return n.error("Error during codec support check:",e),r()}))}().then((function(e){e.moq_supported=function(e){for(var t=!1,n=0;n<e.video.codecs.length;n++)if("h264_baseline"===e.video.codecs[n].codec&&e.video.codecs[n].supported){t=!0;break}for(var r=!1,i=0;i<e.audio.codecs.length;i++)if("aac_lc"===e.audio.codecs[i].codec&&e.audio.codecs[i].supported){r=!0;break}return!!(window.WebTransport&&e.webcodecs_vc&&e.webcodecs_ac&&t&&r)}(e),t=e})).catch((function(e){n.error("Failed to initialize codec support:",e),t=r()})),{getCodecSupport:function(){return t}}}.apply(t,r))||(e.exports=i)},6627:function(e,t,n){var r,i;r=[n(1933),n(8333)],void 0===(i=function(e,t){var n=t.create("Conditions"),r=e.os,i=parseInt(e.osVersion.split(".")[0],10),a=e.browser,o=parseInt(e.browserVersion.split(".")[0],10),s=e.browserEngine,u="Microsoft Edge Trident"===a,d="Microsoft Internet Explorer"===a||u,l="Webkit"===s,c="Chromium"===s&&o>57,f="iOS"===r,E=f&&o>=11,p=f&&o>=15,m="Mac OS X"===r,b="Chrome"===a,h="Firefox"===a,g="Microsoft Edge"===a,_="Safari"===a,T=_&&12.1===parseFloat(e.browserVersion)&&"iOS"!==r,A=T,S=!!e.isManagedMediaSourceH264Supported,y=!!e.isManagedMediaSourceValidBlobUrl,v=!!e.hasMediaSource,R=!!e.isMediaSourceH264Supported,O=!(S&&y)&&f&&i>=10,I=e.hasTouchPoints;O||R||S&&y||!m||(O=!0);var N=!f&&v&&(h&&o>=48||u||R)||S&&y,C=(I||!v)&&m&&(_&&o>=13||b&&o>=85||h||g),D=C&&v&&R,w=function(){var e=!1;try{(("Chrome"===a||"Chromium"===a)&&o<54||"Firefox"===a&&o<48||"Microsoft Internet Explorer"===a&&(o<11||11===o&&7===i)||(m||f)&&"Safari"===a&&o<10)&&(e=!0)}catch(e){}return e}(),U={mustUseHLS:O,canUseHLS:A,isTridentBrowser:d,isWebkitBrowser:l,useFakeAudio:c,canUseMediaSource:N,isIOS:f,isAboveIOS11:E,isAboveIOS15:p,isIOSDesktopMode:C,isIPadDesktopMode:D,isMacOS:m,isFirefox:h,isSafari:_,isChrome:b,isSafari121MacOSX:T,isH5LiveKnownUnsupported:w};for(var P in U)Object.prototype.hasOwnProperty.call(U,P)&&n.debug(P+": "+U[P]);return U}.apply(t,r))||(e.exports=i)},1473:function(e,t){var n;void 0===(n=function(){function e(t,n){var r;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(!n[r]&&(n[r]={}),"object"!=typeof t[r]||Array.isArray(t[r])?n[r]=t[r]:e(t[r],n[r]))}return{merge:function t(n,r){var i;for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&Object.prototype.hasOwnProperty.call(r,i)&&("object"!=typeof n[i]||null===n[i]||!Object.keys(n[i]).length||"object"==typeof r[i]&&Object.keys(r[i]).length||Array.isArray(n[i])?"object"!=typeof n[i]||Array.isArray(n[i])?r[i]=n[i]:t(n[i],r[i]):e(n[i],r[i]))},clean:function e(t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(void 0===t[n]||null===t[n]||"string"==typeof t[n]&&0===t[n].length)&&delete t[n],Object.prototype.hasOwnProperty.call(t,n)&&t[n]instanceof Object&&e(t[n]);for(n in t)(Object.prototype.hasOwnProperty.call(t,n)&&(void 0===t[n]||null===t[n]||"string"==typeof t[n]&&0===t[n].length)||"object"==typeof t[n]&&"function"!=typeof t[n]&&0===Object.keys(t[n]).length)&&delete t[n]},check:function e(t,n,r,i){var a;for(a in r=r||"",i=i||[],t)Object.prototype.hasOwnProperty.call(t,a)&&Object.prototype.hasOwnProperty.call(n,a)&&("object"==typeof t[a]&&"object"==typeof n[a]?i=e(t[a],n[a],r+a+".",i):typeof t[a]!==n[a]&&"*"!==n[a]&&void 0!==t[a]&&""!==t[a]&&i.push("Configuration warning. The config property '$property$' must be of type '$type$'.".replace("$property$",r+a).replace("$type$",n[a]))),Object.prototype.hasOwnProperty.call(t,a)&&!Object.prototype.hasOwnProperty.call(n,a)&&i.push("Configuration warning. The config property '$property$' is not a valid property. Please remove from config.".replace("$property$",r+a));return i},extend:e}}.apply(t,[]))||(e.exports=n)},6725:function(e,t,n){var r,i;r=[n(8478),n(1313),n(3284),n(3778),n(3890)],void 0===(i=function(e,t,n,r,i){return{validateConfig:function(i,a){for(var o,s=!1,u=a.source.entries,d=0;d<u.length;d+=1){if(!(o=u[d])||!o.h5live){s=new e(t.CONFIG_SOURCE,r.SETUP.SOURCE_NOT_SUPPORTED);break}if(!(o.h5live.rtmp&&o.h5live.rtmp.url&&o.h5live.rtmp.streamname||o.h5live.params)){s=new e(t.CONFIG_RTMP,r.SETUP.CONFIG_RTMP);break}if(i===n.H5LIVE_WSS&&(!o.h5live.server||o.h5live.server&&!o.h5live.server.websocket)){s=new e(t.CONFIG_WSS,r.SETUP.CONFIG_WSS);break}if(i===n.H5LIVE_HLS){if(!o.h5live.server||o.h5live.server&&!o.h5live.server.hls){s=new e(t.CONFIG_HLS,r.SETUP.CONFIG_HLS);break}if(a.playback&&a.playback.metadata&&!o.h5live.server.websocket){s=new e(t.CONFIG_METADATA,r.SETUP.CONFIG_METADATA);break}}if(!(o.h5live.server&&(o.h5live.server.websocket||o.h5live.server.hls)||o.h5live.token)){s=new e(t.CONFIG_TOKEN,r.SETUP.CONFIG_TOKEN);break}}return s},validatePlayerDivId:function(t){if(!("string"==typeof t||t instanceof String))throw new e('The param "playerDivId" must be of type "String".');var n=document.getElementById(t);if(!n)throw new e('The param "playerDivId" must be the id of an existing "div" element.');if("DIV"!==n.tagName)throw new e('The element with the id "'+t+'" is not a "div" element.');return!0},validateSwitchIndex:function(t,n){var a=!1;return(!("number"==typeof t||t instanceof Number)||t<0||t>=n.source.entries.length)&&(a=new e(i.PLAYER.INVALID_ENTRY_INDEX,r.PLAYER.INVALID_ENTRY_INDEX)),a}}}.apply(t,r))||(e.exports=i)},9088:function(e,t){var n;void 0===(n=function(){var e=o(),t=s(),n=u(),r=d(),i=0,a=void 0;function o(){var e=c("debug")||c("nanoDebug")||0,t=+l("nanoDebug");return Math.max(e,t)}function s(){var e=c("debugFilter")||c("nanoDebugFilter")||"*";return(l("nanoDebugFilter")||e).split("|")}function u(){var e=+c("debugClear")||+c("nanoDebugClear")||0,t=+l("nanoDebugClear");return Math.max(e,t)}function d(){var e=c("debugFunction")||c("nanoDebugFunction")||"";return(l("nanoDebugFunction")||e).split(".")}function l(e){return-1!==document.cookie.indexOf(e+"=")?document.cookie.split(e+"=")[1].split(";")[0]:null}function c(e){if(!a){a=[];var t=document.location.search.substr(1,document.location.search.length);if(""===t&&-1!==document.location.href.indexOf("?")){var n=document.location.href.indexOf("?")+1;t=document.location.href.slice(n)}if(""!==t)for(var r=t.split("&"),i=0;i<r.length;++i){var o="",s=r[i].split("="),u=s[0];s.length>1&&(o=s[1]),a[decodeURIComponent(u)]=decodeURIComponent(o)}}try{return a[e]}catch(e){return}}return setInterval((function(){e=o(),t=s(),n=u(),r=d()}),5e3),{log:function(a,o){try{if(e>=o&&("*"===t[0]||t.filter((function(e){return a.includes(e)})).length)){var s=(new Date).toISOString()+": "+a;console.debug(s);for(var u=0;u<r.length;u+=1){var d=d||window,l=r[u];0===u&&"window"===l||!("object"==typeof window[l]&&u<r.length-1||u===r.length-1&&"function"==typeof window[l])||(d=d[l],u===r.length-1&&d(s))}i++}n&&i>n&&(i=0,console.clear())}catch(e){}},getHTTPParam:c,enabled:function(t){return e>=t}}}.apply(t,[]))||(e.exports=n)},8478:function(e,t){var n;void 0===(n=function(){return function(e,t){var n=new window.Error(e||"");return n.code=t||0,n}}.apply(t,[]))||(e.exports=n)},9658:function(e,t){var n;void 0===(n=function(){"use strict";function e(){}var t=e.prototype;function n(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function r(e){return function(){return this[e].apply(this,arguments)}}return t.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)Object.prototype.hasOwnProperty.call(r,n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},t.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},t.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},t.addListener=function(e,t){var r,i=this.getListenersAsObject(e),a="object"==typeof t;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&-1===n(i[r],t)&&i[r].push(a?t:{listener:t,once:!1});return this},t.on=r("addListener"),t.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},t.once=r("addOnceListener"),t.defineEvent=function(e){return this.getListeners(e),this},t.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},t.removeListener=function(e,t){var r,i,a=this.getListenersAsObject(e);for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&-1!==(r=n(a[i],t))&&a[i].splice(r,1);return this},t.off=r("removeListener"),t.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},t.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},t.manipulateListeners=function(e,t,n){var r,i,a=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)a.call(this,t,n[r]);else for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i=t[r])&&("function"==typeof i?a.call(this,r,i):o.call(this,r,i));return this},t.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.test(t)&&delete r[t];else delete this._events;return this},t.removeAllListeners=r("removeEvent"),t.emitEvent=function(e,t){var n,r,i,a,o=this.getListenersAsObject(e);for(a in o)if(Object.prototype.hasOwnProperty.call(o,a))for(i=(n=o[a].slice(0)).length;i--;)!0===(r=n[i]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},t.trigger=r("emitEvent"),t.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return t.length?t.length&&"object"!=typeof t[0]||t.length&&!Object.prototype.hasOwnProperty.call(t[0],"data")?t[0]={name:e,data:t[0]}:t[0].name=e:t.push({name:e,data:{}}),this.emitEvent(e,t)},t.emitSimple=function(e,t,n){return this.emitEvent(e,[{name:e||"AnonymousEvent",target:n||this,data:t||{}}])},t.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},t._getOnceReturnValue=function(){return!Object.prototype.hasOwnProperty.call(this,"_onceReturnValue")||this._onceReturnValue},t._getEvents=function(){return this._events||(this._events={})},e}.apply(t,[]))||(e.exports=n)},8053:function(e,t){var n;void 0===(n=function(){var e=function(){var t,n,r,i,a,o,s="undefined",u="object",d="Shockwave Flash",l="application/x-shockwave-flash",c="SWFObjectExprInst",f="onreadystatechange",E=window,p=document,m=navigator,b=!1,h=[],g=[],_=[],T=[],A=!1,S=!1,y=!0,v=!1,R=function(){var e=typeof p.getElementById!==s&&typeof p.getElementsByTagName!==s&&typeof p.createElement!==s,t=m.userAgent.toLowerCase(),n=m.platform.toLowerCase(),r=/win/.test(n||t),i=/mac/.test(n||t),a=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),o="Microsoft Internet Explorer"===m.appName,c=[0,0,0],f=null;if(typeof m.plugins!==s&&typeof m.plugins[d]===u)(f=m.plugins[d].description)&&typeof m.mimeTypes!==s&&m.mimeTypes[l]&&m.mimeTypes[l].enabledPlugin&&(b=!0,o=!1,f=f.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),c[0]=H(f.replace(/^(.*)\..*$/,"$1")),c[1]=H(f.replace(/^.*\.(.*)\s.*$/,"$1")),c[2]=/[a-zA-Z]/.test(f)?H(f.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof E.ActiveXObject!==s)try{var h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");h&&(f=h.GetVariable("$version"))&&(o=!0,c=[H((f=f.split(" ")[1].split(","))[0]),H(f[1]),H(f[2])])}catch(e){}return{w3:e,pv:c,wk:a,ie:o,win:r,mac:i}}();function O(){if(!A&&document.getElementsByTagName("body")[0]){try{var e,t=B("span");t.style.display="none",(e=p.getElementsByTagName("body")[0].appendChild(t)).parentNode.removeChild(e),e=null,t=null}catch(e){return}A=!0;for(var n=h.length,r=0;r<n;r++)h[r]()}}function I(e){A?e():h[h.length]=e}function N(e){var t=null,n=x(e);return n&&"OBJECT"===n.nodeName.toUpperCase()&&(t=typeof n.SetVariable!==s?n:n.getElementsByTagName(u)[0]||n),t}function C(){return!S&&G("6.0.65")&&(R.win||R.mac)&&!(R.wk&&R.wk<312)}function D(e,a,o,u){var d=x(o);if(o=k(o),S=!0,r=u||null,i={success:!1,id:o},d){"OBJECT"===d.nodeName.toUpperCase()?(t=U(d),n=null):(t=d,n=o),e.id=c,(typeof e.width===s||!/%$/.test(e.width)&&H(e.width)<310)&&(e.width="310"),(typeof e.height===s||!/%$/.test(e.height)&&H(e.height)<137)&&(e.height="137");var l=R.ie?"ActiveX":"PlugIn",f="MMredirectURL="+encodeURIComponent(E.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+l+"&MMdoctitle="+encodeURIComponent(p.title.slice(0,47)+" - Flash Player Installation");if(typeof a.flashvars!==s?a.flashvars+="&"+f:a.flashvars=f,R.ie&&4!==d.readyState){var m=B("div");o+="SWFObjectNew",m.setAttribute("id",o),d.parentNode.insertBefore(m,d),d.style.display="none",L(d)}P(e,a,o)}}function w(e){if(R.ie&&4!==e.readyState){e.style.display="none";var t=B("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(U(e),t),L(e)}else e.parentNode.replaceChild(U(e),e)}function U(e){var t=B("div");if(R.win&&R.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(u)[0];if(n){var r=n.childNodes;if(r)for(var i=r.length,a=0;a<i;a++)1===r[a].nodeType&&"PARAM"===r[a].nodeName||8===r[a].nodeType||t.appendChild(r[a].cloneNode(!0))}}return t}function P(e,t,n){var r,i,a,o,d=x(n);if(n=k(n),R.wk&&R.wk<312)return r;if(d){var c,f,E,p=R.ie?B("div"):B(u);for(E in typeof e.id===s&&(e.id=n),t)Object.prototype.hasOwnProperty.call(t,E)&&"movie"!==E.toLowerCase()&&M(p,E,t[E]);for(c in R.ie&&(i=e.data,a=p.innerHTML,(o=B("div")).innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+i+"'>"+a+"</object>",p=o.firstChild),e)Object.prototype.hasOwnProperty.call(e,c)&&("styleclass"===(f=c.toLowerCase())?p.setAttribute("class",e[c]):"classid"!==f&&"data"!==f&&p.setAttribute(c,e[c]));R.ie?_[_.length]=e.id:(p.setAttribute("type",l),p.setAttribute("data",e.data)),d.parentNode.replaceChild(p,d),r=p}return r}function M(e,t,n){var r=B("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function L(e){var t=x(e);t&&"OBJECT"===t.nodeName.toUpperCase()&&(R.ie?(t.style.display="none",function e(){if(4===t.readyState){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}else setTimeout(e,10)}()):t.parentNode.removeChild(t))}function F(e){return e&&e.nodeType&&1===e.nodeType}function k(e){return F(e)?e.id:e}function x(e){if(F(e))return e;var t=null;try{t=p.getElementById(e)}catch(e){}return t}function B(e){return p.createElement(e)}function H(e){return parseInt(e,10)}function G(e){e+="";var t=R.pv,n=e.split(".");return n[0]=H(n[0]),n[1]=H(n[1])||0,n[2]=H(n[2])||0,!!(t[0]>n[0]||t[0]===n[0]&&t[1]>n[1]||t[0]===n[0]&&t[1]===n[1]&&t[2]>=n[2])}function V(e,t,n,r){var i=p.getElementsByTagName("head")[0];if(i){var u="string"==typeof n?n:"screen";if(r&&(a=null,o=null),!a||o!==u){var d=B("style");d.setAttribute("type","text/css"),d.setAttribute("media",u),a=i.appendChild(d),R.ie&&typeof p.styleSheets!==s&&p.styleSheets.length>0&&(a=p.styleSheets[p.styleSheets.length-1]),o=u}a&&(typeof a.addRule!==s?a.addRule(e,t):typeof p.createTextNode!==s&&a.appendChild(p.createTextNode(e+" {"+t+"}")))}}function W(e,t){if(y){var n=t?"visible":"hidden",r=x(e);A&&r?r.style.visibility=n:"string"==typeof e&&V("#"+e,"visibility:"+n)}}function Y(e){return null!==/[\\"<>.;]/.exec(e)&&typeof encodeURIComponent!==s?encodeURIComponent(e):e}return R.w3&&((typeof p.readyState!==s&&("complete"===p.readyState||"interactive"===p.readyState)||typeof p.readyState===s&&(p.getElementsByTagName("body")[0]||p.body))&&O(),A||(typeof p.addEventListener!==s&&p.addEventListener("DOMContentLoaded",O,!1),R.ie&&(p.attachEvent(f,(function e(){"complete"===p.readyState&&(p.detachEvent(f,e),O())})),E==top&&function e(){if(!A){try{p.documentElement.doScroll("left")}catch(t){return void setTimeout(e,0)}O()}}()),R.wk&&function e(){A||(/loaded|complete/.test(p.readyState)?O():setTimeout(e,0))}())),h[0]=function(){b&&function(){var e=g.length;if(e>0)for(var t=0;t<e;t++){var n=g[t].id,r=g[t].callbackFn,i={success:!1,id:n};if(R.pv[0]>0){var a=x(n);if(a)if(!G(g[t].swfVersion)||R.wk&&R.wk<312)if(g[t].expressInstall&&C()){var o={};o.data=g[t].expressInstall,o.width=a.getAttribute("width")||"0",o.height=a.getAttribute("height")||"0",a.getAttribute("class")&&(o.styleclass=a.getAttribute("class")),a.getAttribute("align")&&(o.align=a.getAttribute("align"));for(var u={},d=a.getElementsByTagName("param"),l=d.length,c=0;c<l;c++)"movie"!==d[c].getAttribute("name").toLowerCase()&&(u[d[c].getAttribute("name")]=d[c].getAttribute("value"));D(o,u,n,r)}else w(a),r&&r(i);else W(n,!0),r&&(i.success=!0,i.ref=N(n),i.id=n,r(i))}else if(W(n,!0),r){var f=N(n);f&&typeof f.SetVariable!==s&&(i.success=!0,i.ref=f,i.id=f.id),r(i)}}}()},R.ie&&window.attachEvent("onunload",(function(){for(var t=T.length,n=0;n<t;n++)T[n][0].detachEvent(T[n][1],T[n][2]);for(var r=_.length,i=0;i<r;i++)L(_[i]);for(var a in R)R[a]=null;for(var o in R=null,e)e[o]=null;e=null})),{registerObject:function(e,t,n,r){if(R.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,g[g.length]=i,W(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(R.w3)return N(e)},embedSWF:function(e,t,n,r,i,a,o,d,l,c){var f=k(t),E={success:!1,id:f};R.w3&&!(R.wk&&R.wk<312)&&e&&t&&n&&r&&i?(W(f,!1),I((function(){n+="",r+="";var p={};if(l&&typeof l===u)for(var m in l)p[m]=l[m];p.data=e,p.width=n,p.height=r;var b={};if(d&&typeof d===u)for(var h in d)b[h]=d[h];if(o&&typeof o===u)for(var g in o)if(Object.prototype.hasOwnProperty.call(o,g)){var _=v?encodeURIComponent(g):g,T=v?encodeURIComponent(o[g]):o[g];typeof b.flashvars!==s?b.flashvars+="&"+_+"="+T:b.flashvars=_+"="+T}if(G(i)){var A=P(p,b,t);p.id===f&&W(f,!0),E.success=!0,E.ref=A,E.id=A.id}else{if(a&&C())return p.data=a,void D(p,b,t,c);W(f,!0)}c&&c(E)}))):c&&c(E)},switchOffAutoHideShow:function(){y=!1},enableUriEncoding:function(e){v=typeof e===s||e},ua:R,getFlashPlayerVersion:function(){return{major:R.pv[0],minor:R.pv[1],release:R.pv[2]}},hasFlashPlayerVersion:G,createSWF:function(e,t,n){return R.w3?P(e,t,n):void 0},showExpressInstall:function(e,t,n,r){R.w3&&C()&&D(e,t,n,r)},removeSWF:function(e){R.w3&&L(e)},createCSS:function(e,t,n,r){R.w3&&V(e,t,n,r)},addDomLoadEvent:I,addLoadEvent:function(e){if(typeof E.addEventListener!==s)E.addEventListener("load",e,!1);else if(typeof p.addEventListener!==s)p.addEventListener("load",e,!1);else if(typeof E.attachEvent!==s)!function(e,t,n){e.attachEvent(t,n),T[T.length]=[e,t,n]}(E,"onload",e);else if("function"==typeof E.onload){var t=E.onload;E.onload=function(){t(),e()}}else E.onload=e},getQueryParamValue:function(e){var t=p.location.search||p.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),!e)return Y(t);for(var n=t.split("&"),r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))===e)return Y(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(S){var e=x(c);e&&t&&(e.parentNode.replaceChild(t,e),n&&(W(n,!0),R.ie&&(t.style.display="block")),r&&r(i)),S=!1}},version:"2.3"}}();return e}.apply(t,[]))||(e.exports=n)},8333:function(e,t,n){var r,i;r=[n(9088)],void 0===(i=function(e){function t(t,n,r){e.log("["+n+"] "+r,t)}function n(t){return e.enabled(t)}return{create:function(e){return{debug:t.bind(this,3,e),info:t.bind(this,2,e),warn:t.bind(this,1,e),error:t.bind(this,0,e),detail:t.bind(this,4,e),debugEnabled:n.bind(this,3),infoEnabled:n.bind(this,2),warnEnabled:n.bind(this,1),errorEnabled:n.bind(this,0),detailEnabled:n.bind(this,4)}}}}.apply(t,r))||(e.exports=i)},803:function(e,t){var n;void 0===(n=function(){var e,t;return{play:function(n){return new Promise((function(r,i){var a=n.play();Promise.all([a]).then((function(){r({media:n})})).catch((function(r){e=r&&r.name?r.name:"Unknown",t=r&&r.message?r.message:"Message not available.",i({media:n,error:{name:e,message:t}})}))}))}}}.apply(t,[]))||(e.exports=n)},8197:function(e,t){var n;void 0===(n=function(){var e=Object.prototype.toString;return{copy:function t(n){var r;switch(typeof n){case"object":if(null===n)r=null;else if(n&&n.tagName&&n.nodeName&&n instanceof Element)r=n;else switch(e.call(n)){case"[object Array]":r=n.map(t);break;case"[object Date]":r=new Date(n);break;case"[object RegExp]":r=new RegExp(n);break;default:r=Object.keys(n).reduce((function(e,r){return e[r]=t(n[r]),e}),{})}break;case"undefined":r=n;break;default:r=n.valueOf()}return r},findPropertyByValue:function(e,t){if("object"==typeof e)for(var n in e)if(e[n]===t)return n;return!1}}}.apply(t,[]))||(e.exports=n)},6028:function(e,t){var n;void 0===(n=function(){return{create:function(e,t,n){function r(e){n.emit(e.name,e)}return function(){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.on(t[n],r)}(),{destroy:function(){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.off(t[n],r)}}}}}.apply(t,[]))||(e.exports=n)},7176:function(e,t){var n;void 0===(n=function(){return{normalize:function(e,t,n){for(var r=function(e){var t=e.length-1,n=e.substr(0,1).toUpperCase()+e.substr(1,t);return["webkit"+n,"moz"+n,"ms"+n,e]}(t),i="",a=0;a<r.length;a+=1)if((i=r[a])in e.style){e.style[i]=n;break}}}}.apply(t,[]))||(e.exports=n)},6835:function(e,t){var n;void 0===(n=function(){return{performInSyncedUIBehavior:function(e,t,n){return new Promise((function(r,i){var a=null,o=null;function s(){window.cancelAnimationFrame(o),a=null,o=null}o=window.requestAnimationFrame((function u(d){null===a&&(a=d);var l=d-a;l>n?(i(),s()):l<n&&!t()?(0===l&&e(),o=window.requestAnimationFrame(u)):(r(),s())}))}))}}}.apply(t,[]))||(e.exports=n)},5337:function(e,t){var n;void 0===(n=function(){function e(e){return e.reduce((function(e,t){return e+t}),0)/e.length}return{create:function(t,n){var r=[],i={};function a(e){return{minimum:o(i.minimum,e),maximum:o(i.maximum,e),arithmetic:o(i.arithmetic,e),geometric:o(i.geometric,e),harmonic:o(i.harmonic,e),deviation:o(i.deviation,e),count:o(i.count,e)}}function o(e,t){return isNaN(t)?e:Math.round(e*Math.pow(10,t))/Math.pow(10,t)}return i={add:function(o){for(r.push(o);r.length>t;)r.shift();var s,u;return i.count++,i.changed=!1,(!n||n&&0%n==0)&&(s=JSON.parse(JSON.stringify(r)).sort((function(e,t){return e-t}),0),i.arithmetic=e(s),i.geometric=(u=s,Math.pow(u.reduce((function(e,t){return e?t?e*t:e:t}),0),1/u.length)),i.harmonic=function(e){var t=e.reduce((function(e,t,n){return t?n-1?e+1/t:(e?1/e:0)+1/t:e}),0);return t?e.length/t:0}(s),i.minimum=s[0],i.maximum=s[s.length-1],i.deviation=function(t,n){var r=n||e(t);return t.length>1?Math.sqrt(t.reduce((function(e,t){return e+Math.pow(t-r,2)}),0)/(t.length-1)):0}(s,i.arithmetic),i.changed=!0),a()},get:a,minimum:0,maximum:0,first:0,last:0,arithmetic:0,geometric:0,harmonic:0,deviation:0,count:0,values:r,changed:!1}}}}.apply(t,[]))||(e.exports=n)},4556:function(e,t){var n;void 0===(n=function(){var e=Date.now?Date.now():+new Date,t=window.performance||{},n=[],r={},i=function(e,t){for(var r=0,i=n.length,a=[];r<i;r++)n[r][e]===t&&a.push(n[r]);return a},a=function(e,t){for(var r,i=n.length;i--;)(r=n[i]).entryType!==e||void 0!==t&&r.name!==t||n.splice(i,1)};return t.now||(t.now=t.webkitNow||t.mozNow||t.msNow||function(){return(Date.now?Date.now():+new Date)-e}),t.mark||(t.mark=t.webkitMark||function(e){var i={name:e,entryType:"mark",startTime:t.now(),duration:0};n.push(i),r[e]=i}),t.measure||(t.measure=t.webkitMeasure||function(e,t,i){t=r[t].startTime,i=r[i].startTime,n.push({name:e,entryType:"measure",startTime:t,duration:i-t})}),t.getEntriesByType||(t.getEntriesByType=t.webkitGetEntriesByType||function(e){return i("entryType",e)}),t.getEntriesByName||(t.getEntriesByName=t.webkitGetEntriesByName||function(e){return i("name",e)}),t.clearMarks||(t.clearMarks=t.webkitClearMarks||function(e){a("mark",e)}),t.clearMeasures||(t.clearMeasures=t.webkitClearMeasures||function(e){a("measure",e)}),void 0===window.performance&&(window.performance=t),window.performance}.apply(t,[]))||(e.exports=n)},2874:function(e,t){var n;void 0===(n=function(){var e=setTimeout;function t(){}function n(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function r(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,n._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void a(t.promise,e)}i(t.promise,r)}else(1===e._state?i:a)(t.promise,e._value)}))):e._deferreds.push(t)}function i(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof n)return e._state=3,e._value=t,void o(e);if("function"==typeof r)return void u((i=r,s=t,function(){i.apply(s,arguments)}),e)}e._state=1,e._value=t,o(e)}catch(t){a(e,t)}var i,s}function a(e,t){e._state=2,e._value=t,o(e)}function o(e){2===e._state&&0===e._deferreds.length&&n._immediateFn((function(){e._handled||n._unhandledRejectionFn(e._value)}));for(var t=0,i=e._deferreds.length;t<i;t++)r(e,e._deferreds[t]);e._deferreds=null}function s(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function u(e,t){var n=!1;try{e((function(e){n||(n=!0,i(t,e))}),(function(e){n||(n=!0,a(t,e))}))}catch(e){if(n)return;n=!0,a(t,e)}}return n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,n){var i=new this.constructor(t);return r(this,new s(e,n,i)),i},n.all=function(e){var t=Array.prototype.slice.call(e);return new n((function(e,n){if(0===t.length)return e([]);var r=t.length;function i(a,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(e){i(a,e)}),n)}t[a]=o,0==--r&&e(t)}catch(e){n(e)}}for(var a=0;a<t.length;a++)i(a,t[a])}))},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n((function(t){t(e)}))},n.reject=function(e){return new n((function(t,n){n(e)}))},n.race=function(e){return new n((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))},n._immediateFn="function"==typeof window.setImmediate&&function(e){window.setImmediate(e)}||function(t){e(t,0)},n._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},n._setImmediateFn=function(e){n._immediateFn=e},n._setUnhandledRejectionFn=function(e){n._unhandledRejectionFn=e},void 0===window.Promise&&(window.Promise=n),window.Promise}.apply(t,[]))||(e.exports=n)},130:function(e,t){var n;void 0===(n=function(){return{NANOPLAYER:"4.31.0"}}.apply(t,[]))||(e.exports=n)},2058:function(e,t){var n;void 0===(n=function(){return{create:function(){return{style:{width:void 0,height:void 0,aspectratio:void 0,controls:!0,interactive:!0,view:!0,scaling:"letterbox",keepFrame:!0,displayAudioOnly:!0,audioPlayer:!1,displayMutedAutoplay:!0,backgroundColor:"black",fullScreenControl:!0,centerView:!0,symbolColor:"rgba(244,233,233,1)",controlBarColor:"rgba(0,0,0,0.5)",buttonAnimation:!0,buttonHighlighting:!0,buttonCursor:"pointer",poster:void 0,fullScreenBackgroundColor:"inherit"},events:{onFullscreenChange:void 0}}}}}.apply(t,[]))||(e.exports=n)},4355:function(e,t,n){var r,i;r=[n(6182)],void 0===(i=function(e){"use strict";return{create:function(t,n){var r=document.getElementById(t),i=0,a=0,o=null,s=null;function u(t,r){void 0===t||void 0===r||t===i&&r===a||(i=t,a=r,n.emit(e.PLAYER_RESIZE,{width:i,height:a,aspectratio:i/a}))}return window.ResizeObserver?(o=new ResizeObserver((function(e){for(var t=0;t<e.length;t++){var n=e[t];n&&n.target&&n.target===r&&u(n.target.clientWidth,n.target.clientHeight)}}))).observe(r):s=setInterval((function(){r&&u(r.clientWidth,r.clientHeight)}),100),{destroy:function(){o&&(o.disconnect(),o=null),s&&(clearInterval(s),s=null),r=null}}}}}.apply(t,r))||(e.exports=i)},5109:function(e,t){var n;void 0===(n=function(){return{create:function(){return{style:{width:"string",height:"string",aspectratio:"string",controls:"boolean",interactive:"boolean",view:"boolean",scaling:"string",keepFrame:"boolean",displayAudioOnly:"boolean",audioPlayer:"boolean",displayMutedAutoplay:"boolean",backgroundColor:"string",fullScreenControl:"boolean",centerView:"boolean",symbolColor:"string",controlBarColor:"string",buttonAnimation:"boolean",buttonHighlighting:"boolean",buttonCursor:"string",poster:"string",fullScreenBackgroundColor:"string"},events:{onFullscreenChange:"function"}}}}}.apply(t,[]))||(e.exports=n)},4869:function(e,t){var n;void 0===(n=function(){return Object.freeze({NONE:"none",LOADING:"loading",PLAYBUTTON:"playbutton",ERROR:"error",AUDIO:"audio"})}.apply(t,[]))||(e.exports=n)},5403:function(e,t){var n;void 0===(n=function(){var e="view.controls.";return{PLAY:e+"play",PAUSE:e+"pause",MUTE:e+"mute",UNMUTE:e+"unmute",VOLUME_CHANGE:e+"volumeChange",FULLSCREEN_CHANGE:e+"fullscreenChange",OPTIONS_OPEN:e+"optionsOpen",OPTIONS_CLOSE:e+"optionsClose"}}.apply(t,[]))||(e.exports=n)},2833:function(e,t){var n;void 0===(n=function(){return{CLICK:"click",DOUBLE_CLICK:"dblclick",TOUCH_START:"touchstart",TOUCH_END:"touchend",TOUCH_MOVE:"touchmove",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_MOVE:"mousemove"}}.apply(t,[]))||(e.exports=n)},8718:function(e,t){var n;void 0===(n=function(){return{FULLSCREEN_CHANGE:"fullscreenchange",WEBKIT_FULLSCREEN_CHANGE:"webkitfullscreenchange",MOZ_FULLSCREEN_CHANGE:"mozfullscreenchange",MS_FULLSCREEN_CHANGE:"MSFullscreenChange",MS_FULLSCREEN_CHANGE_LOWERCASE:"msfullscreenchange"}}.apply(t,[]))||(e.exports=n)},5833:function(e,t){var n;void 0===(n=function(){return{FULLSCREEN_ERROR:"fullscreenerror",WEBKIT_FULLSCREEN_ERROR:"webkitfullscreenerror",MOZ_FULLSCREEN_ERROR:"mozfullscreenerror",MS_FULLSCREEN_ERROR:"MSFullscreenError",MS_FULLSCREEN_ERROR_LOWERCASE:"msfullscreenerror"}}.apply(t,[]))||(e.exports=n)},9087:function(e,t){var n;void 0===(n=function(){var e="view.fullscreen.";return{FULLSCREEN_CHANGE:e+"change",FULLSCREEN_ERROR:e+"error"}}.apply(t,[]))||(e.exports=n)},4124:function(e,t){var n;void 0===(n=function(){return Object.freeze({ENTERED:"entered",EXITED:"exited"})}.apply(t,[]))||(e.exports=n)},1117:function(e,t){var n;void 0===(n=function(){var e="view.interaction.";return{PLAYER_SINGLE_CLICK:e+"playerSingleClick",PLAYER_DOUBLE_CLICK:e+"playerDoubleClick",PLAYBUTTON_SINGLE_CLICK:e+"playbuttonSingleClick",AUDIO_SINGLE_CLICK:e+"audioSingleClick"}}.apply(t,[]))||(e.exports=n)},426:function(e,t){var n;void 0===(n=function(){return Object.freeze({MUTED:"muted",UNMUTED:"unmuted"})}.apply(t,[]))||(e.exports=n)},1710:function(e,t){var n;void 0===(n=function(){return Object.freeze({OPEN:"open",CLOSED:"closed"})}.apply(t,[]))||(e.exports=n)},5459:function(e,t){var n;void 0===(n=function(){return Object.freeze({UNINITIALIZED:1,IDLE:2,READY:3,LOADING:4,PLAYING:5,PAUSED:6,BUFFERING:7,UNKNOWN:8,PLAYBACK_NOT_STARTED:9,PLAYBACK_SUSPENDED:10,PAUSING:11,PLAYBACK_ERROR:12,RECONNECTION_IMMINENT:13,CONNECTION_ERROR:14,DESTROYING:15,MEDIA_NOT_AVAILABLE:16,VISIBILITY_HIDDEN:17,NOT_ENOUGH_DATA:18,SOURCE_STREAM_STOPPED:19})}.apply(t,[]))||(e.exports=n)},7245:function(e,t){var n;void 0===(n=function(){return Object.freeze({PLAY:"play",PAUSE:"pause"})}.apply(t,[]))||(e.exports=n)},8741:function(e,t){var n;void 0===(n=function(){return Object.freeze({FULLSCREEN_CHANGE:"FullscreenChange"})}.apply(t,[]))||(e.exports=n)},505:function(e,t){var n;void 0===(n=function(){return Object.freeze({NONE:"none",LETTERBOX:"letterbox",CROP:"crop",FILL:"fill"})}.apply(t,[]))||(e.exports=n)},8812:function(e,t){var n;void 0===(n=function(){return{controls:{fullscreen:{viewBox:[0,0,24,24],paths:{exited:"M6 14c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1H7v-2c0-.55-.45-1-1-1Zm0-4c.55 0 1-.45 1-1V7h2c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1Zm11 7h-2c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1s-1 .45-1 1v2ZM14 6c0 .55.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1Z",entered:"M6 16h2v2c0 .55.45 1 1 1s1-.45 1-1v-3c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1s.45 1 1 1Zm2-8H6c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1s-1 .45-1 1v2Zm7 11c.55 0 1-.45 1-1v-2h2c.55 0 1-.45 1-1s-.45-1-1-1h-3c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1Zm1-11V6c0-.55-.45-1-1-1s-1 .45-1 1v3c0 .55.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1h-2Z"}},time:{viewBox:[0,0,72,24],paths:{}},mute:{viewBox:[0,0,24,24],paths:{muted:"M7 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L11 9H8c-.55 0-1 .45-1 1z",up:"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z",down:"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L9 9H6c-.55 0-1 .45-1 1z",off:"M3.63 3.63c-.39.39-.39 1.02 0 1.41L7.29 8.7 7 9H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 19 9.06 19 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12c0-1.77-1.02-3.29-2.5-4.03v1.79l2.48 2.48c.01-.08.02-.16.02-.24z"}},playpause:{viewBox:[0,0,24,24],paths:{play:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z",pause:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z"}},volume:{viewBox:[0,0,72,24],paths:{line:"M13 11c-.55 0-1 .45-1 1s.45 1 1 1h46c.55 0 1-.45 1-1s-.45-1-1-1z",right:"",knob:""}},options:{viewBox:[0,0,24,24],paths:{settings:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z",tune:"M3 18c0 .55.45 1 1 1h5v-2H4c-.55 0-1 .45-1 1zM3 6c0 .55.45 1 1 1h9V5H4c-.55 0-1 .45-1 1zm10 14v-1h7c.55 0 1-.45 1-1s-.45-1-1-1h-7v-1c0-.55-.45-1-1-1s-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1zM7 10v1H4c-.55 0-1 .45-1 1s.45 1 1 1h3v1c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1s-1 .45-1 1zm14 2c0-.55-.45-1-1-1h-9v2h9c.55 0 1-.45 1-1zm-5-3c.55 0 1-.45 1-1V7h3c.55 0 1-.45 1-1s-.45-1-1-1h-3V4c0-.55-.45-1-1-1s-1 .45-1 1v4c0 .55.45 1 1 1z"}}},centerView:{playButton:{viewBox:[0,0,24,24],paths:{play:"M10.8 15.9l4.67-3.5c.27-.2.27-.6 0-.8L10.8 8.1c-.33-.25-.8-.01-.8.4v7c0 .41.47.65.8.4zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}},loading:{viewBox:[0,0,24,24],paths:{circleFull:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8z",circleHalf:"M22 12c0 4.73-3.3 8.71-7.73 9.74c-.62.15-1.22-.34-1.22-.98c0-.46.31-.86.75-.97c3.55-.82 6.2-4 6.2-7.79s-2.65-6.97-6.2-7.79c-.44-.1-.75-.51-.75-.97c0-.64.6-1.13 1.22-.98C18.7 3.29 22 7.27 22 12z",circleQuarter:"M20 12c0-3.79-2.65-6.97-6.2-7.79c-.44-.1-.75-.51-.75-.97c0-.64.6-1.13 1.22-.98c4.43 1.03 7.73 5.01 7.73 9.74c0 .55-.45 1-1 1c-.55 0-1-.45-1-1z"}},error:{viewBox:[0,0,24,24],paths:{error:"M12 7c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1s-1-.45-1-1V8c0-.55.45-1 1-1zm-.01-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm1-3h-2v-2h2v2z",warning:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"}},audio:{viewBox:[0,0,24,24],paths:{muted:"M7 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L11 9H8c-.55 0-1 .45-1 1z",up:"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z",down:"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L9 9H6c-.55 0-1 .45-1 1z",off:"M3.63 3.63c-.39.39-.39 1.02 0 1.41L7.29 8.7 7 9H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 19 9.06 19 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12c0-1.77-1.02-3.29-2.5-4.03v1.79l2.48 2.48c.01-.08.02-.16.02-.24z"}}}}}.apply(t,[]))||(e.exports=n)},6182:function(e,t){var n;void 0===(n=function(){return{PAUSE:"view.pause",PLAY:"view.play",FULLSCREEN_CHANGE:"view.fullscreenChange",PLAYER_RESIZE:"view.playerResize",MUTE:"view.mute",UNMUTE:"view.unmute",VOLUME_CHANGE:"view.volumeChange"}}.apply(t,[]))||(e.exports=n)},6643:function(e,t,n){var r,i;r=[n(1933),n(2833),n(7245),n(426),n(4124),n(5559),n(4586),n(7615),n(3703),n(2103),n(5770)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l){"use strict";return{create:function(c,f,E){var p=document.getElementById(c),m="controls-"+c,b=document.createElement("div"),h=0,g=E.style.audioPlayer,_=E.style.fullScreenControl,T=E.style.optionsControl,A=E.style.controlBarColor,S={symbolColor:E.style.symbolColor,buttonAnimation:E.style.buttonAnimation,buttonHighlighting:E.style.buttonHighlighting,buttonCursor:E.style.buttonCursor},y={playPauseControl:void 0,muteControl:void 0,volumeControl:void 0,fullscreenControl:void 0,timeControl:void 0,optionsControl:void 0};function v(){b&&(b.style.visibility="visible")}function R(){b&&(b.style.visibility="hidden")}function O(e){e.button&&0!==e.button||e.target.id&&-1!==e.target.id.indexOf("playButton-")||I()}function I(){h&&clearTimeout(h),h=0,h=setTimeout(R,5e3),v()}return!document.getElementById(m)&&p&&(b.id=m,b.style.width="100%",b.style.height=(g?"100":Math.round(e.mobile?100/6:100/12))+"%",b.style.maxHeight=Math.floor(p.clientWidth/9)+"px",b.style.position="absolute",b.style.left="0",b.style.bottom="0",b.style.zIndex=2352346258378,b.style.backgroundColor=A,!g&&R(),p.appendChild(b),y.playPauseControl=a.create(b,f,S),y.muteControl=o.create(b,f,S,g),y.volumeControl=s.create(b,f,S,g),y.timeControl=d.create(b,S),!g&&_&&(y.fullscreenControl=u.create(b,f,S)),T&&(y.optionsControl=l.create(b,f,S)),!g&&p.addEventListener(t.MOUSE_MOVE,O,!0)),{size:function(){b.style.width="100%";var t=Math.round(e.mobile?p.clientHeight/6:p.clientHeight/12),n=Math.round(e.mobile?b.clientWidth/8:b.clientWidth/12);for(var r in b.style.height=(g?"100":Math.min(t,n))+"px",b.style.maxHeight=Math.floor(p.clientWidth/9)+"px",y)y[r]&&y[r].update()},appear:I,show:v,hide:R,play:function(){y.playPauseControl.update(n.PLAY)},pause:function(){y.playPauseControl.update(n.PAUSE)},fullscreen:function(e){!g&&_&&(b.style.zIndex=2352346258378,e?y.fullscreenControl.update(i.ENTERED):y.fullscreenControl.update(i.EXITED))},mute:function(e){y.muteControl.update(r.MUTED,e)},unmute:function(e){y.muteControl.update(r.UNMUTED,e)},volume:function(e){y.volumeControl.update(e)},time:function(e){y.timeControl.update(e)},destroy:function(){for(var e in h&&clearTimeout(h),y)void 0!==y[e]&&y[e].destroy(),delete y[e];p&&g&&p.removeEventListener(t.MOUSE_MOVE,O),p&&b&&b.parentNode===p&&p.removeChild(b),b=null,p=null}}}}}.apply(t,r))||(e.exports=i)},3703:function(e,t,n){var r,i;r=[n(1933),n(7251),n(3740),n(2833),n(5403),n(4124),n(8812)],void 0===(i=function(e,t,n,r,i,a,o){"use strict";return{create:function(s,u,d){var l,c,f,E="http://www.w3.org/2000/svg",p=t.create(d.symbolColor),m=p.get(),b=document.createElement("div"),h=a.EXITED,g="fullscreen-"+s.id,_=document.createElementNS(E,"path"),T=s.clientHeight,A=o.controls.fullscreen.paths,S=o.controls.fullscreen.viewBox;d.buttonHighlighting&&(f="rect",c=1,l=document.createElementNS(E,f));var y=0;return d.buttonHighlighting&&("rect"===f?(n.setAttribute(l,"x",c),n.setAttribute(l,"y",c),n.setAttribute(l,"width",S[2]-2*c),n.setAttribute(l,"height",S[3]-2*c),n.setAttribute(l,"rx",4),n.setAttribute(l,"ry",4),n.setAttribute(l,"fill",p.getGradientUrl("vertical"))):(n.setAttribute(l,"cx",S[2]/2),n.setAttribute(l,"cy",S[3]/2),n.setAttribute(l,"r",Math.min(S[2],S[3])-c),n.setAttribute(l,"fill",p.getGradientUrl("radial"))),n.setAttribute(l,"opacity","0"),m.appendChild(l)),n.setAttribute(m,"style","-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;"),n.setAttribute(m,"transform","scale(0.9)"),n.setAttribute(m,"viewBox",S.join(" ")),n.setAttribute(m,"fill",d.symbolColor),b.id=g,b.style.float="right",b.style.display="inline-block",b.style.width=T+"px",b.style.height=T+"px",b.style.cursor=d.buttonCursor,b.addEventListener(e.mobile?r.TOUCH_START:r.MOUSE_DOWN,(function(){d.buttonAnimation&&n.setAttribute(m,"transform","scale(0.8)")})),b.addEventListener(e.mobile?r.TOUCH_END:r.MOUSE_UP,(function(e){e&&void 0!==e.button&&0!==e.button||(y&&clearTimeout(y)&&(y=0),y=setTimeout((function(){m&&-1!==n.getAttribute(m,"transform").indexOf("0.8")&&n.setAttribute(m,"transform","scale(1.0)")}),50),u.emit(i.FULLSCREEN_CHANGE))})),b.addEventListener(r.MOUSE_ENTER,(function(){d.buttonHighlighting&&n.setAttribute(l,"opacity","0.15"),d.buttonAnimation&&n.setAttribute(m,"transform","scale(1.0)")})),b.addEventListener(r.MOUSE_LEAVE,(function(){d.buttonHighlighting&&n.setAttribute(l,"opacity","0"),d.buttonAnimation&&n.setAttribute(m,"transform","scale(0.9)")})),m.appendChild(_),b.appendChild(m),s.appendChild(b),{update:function(e){e&&(h=e),T=s.clientHeight,b.style.width=T+"px",b.style.height=T+"px",h===a.ENTERED?n.setAttribute(_,"d",A.entered):h===a.EXITED&&n.setAttribute(_,"d",A.exited)},destroy:function(){y&&clearTimeout(y)&&(y=0),null!==s&&null!==m&&null!==m.parentNode&&m.parentNode===s&&s.removeChild(m),m=null}}}}}.apply(t,r))||(e.exports=i)},4586:function(e,t,n){var r,i;r=[n(1933),n(7251),n(3740),n(2833),n(5403),n(426),n(8812)],void 0===(i=function(e,t,n,r,i,a,o){"use strict";return{create:function(s,u,d){var l,c,f,E="http://www.w3.org/2000/svg",p=t.create(d.symbolColor),m=p.get(),b=document.createElement("div"),h=a.UNMUTED,g=1,_="mute-"+s.id,T=document.createElementNS(E,"path"),A=s.clientHeight,S=o.controls.mute.paths,y=o.controls.mute.viewBox;d.buttonHighlighting&&(f="rect",c=1,l=document.createElementNS(E,f));var v=0;return d.buttonHighlighting&&("rect"===f?(n.setAttribute(l,"x",c),n.setAttribute(l,"y",c),n.setAttribute(l,"width",y[2]-2*c),n.setAttribute(l,"height",y[3]-2*c),n.setAttribute(l,"rx",4),n.setAttribute(l,"ry",4),n.setAttribute(l,"fill",p.getGradientUrl("vertical"))):(n.setAttribute(l,"cx",y[2]/2),n.setAttribute(l,"cy",y[3]/2),n.setAttribute(l,"r",Math.min(y[2],y[3])-c),n.setAttribute(l,"fill",p.getGradientUrl("radial"))),n.setAttribute(l,"opacity","0"),m.appendChild(l)),n.setAttribute(m,"style","-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;"),n.setAttribute(m,"transform","scale(0.9)"),n.setAttribute(m,"viewBox",y.join(" ")),n.setAttribute(m,"fill",d.symbolColor),b.id=_,b.style.float="left",b.style.display="inline-block",b.style.width=A+"px",b.style.height=A+"px",b.style.cursor=d.buttonCursor,b.addEventListener(e.mobile?r.TOUCH_START:r.MOUSE_DOWN,(function(){d.buttonAnimation&&n.setAttribute(m,"transform","scale(0.8)")})),b.addEventListener(e.mobile?r.TOUCH_END:r.MOUSE_UP,(function(e){e&&void 0!==e.button&&0!==e.button||(v&&clearTimeout(v)&&(v=0),v=setTimeout((function(){m&&-1!==n.getAttribute(m,"transform").indexOf("0.8")&&n.setAttribute(m,"transform","scale(1.0)"),h===a.MUTED?u.emit(i.UNMUTE):h===a.UNMUTED&&u.emit(i.MUTE)}),50))})),b.addEventListener(r.MOUSE_ENTER,(function(){d.buttonHighlighting&&n.setAttribute(l,"opacity","0.15"),d.buttonAnimation&&n.setAttribute(m,"transform","scale(1.0)")})),b.addEventListener(r.MOUSE_LEAVE,(function(){d.buttonHighlighting&&n.setAttribute(l,"opacity","0"),d.buttonAnimation&&n.setAttribute(m,"transform","scale(0.9)")})),m.appendChild(T),b.appendChild(m),s.appendChild(b),{update:function(e,t){e&&(h=e),void 0!==t&&(g=t),A=s.clientHeight,b.style.width=A+"px",b.style.height=A+"px",h===a.MUTED?n.setAttribute(T,"d",S.off):h===a.UNMUTED&&(g>=.5?n.setAttribute(T,"d",S.up):g>0?n.setAttribute(T,"d",S.down):n.setAttribute(T,"d",S.muted))},destroy:function(){v&&clearTimeout(v)&&(v=0),null!==s&&null!==m&&null!==m.parentNode&&m.parentNode===s&&s.removeChild(m),m=null}}}}}.apply(t,r))||(e.exports=i)},5770:function(e,t,n){var r,i;r=[n(1933),n(7251),n(3740),n(2833),n(5403),n(1710),n(8812)],void 0===(i=function(e,t,n,r,i,a,o){"use strict";return{create:function(s,u,d){var l,c,f,E="http://www.w3.org/2000/svg",p=t.create(d.symbolColor),m=p.get(),b=document.createElement("div"),h="options-"+s.id,g=a.CLOSED,_=document.createElementNS(E,"path"),T=s.clientHeight,A=o.controls.options.paths,S=o.controls.options.viewBox;d.buttonHighlighting&&(f="rect",c=1,l=document.createElementNS(E,f));var y=0;return d.buttonHighlighting&&("rect"===f?(n.setAttribute(l,"x",c),n.setAttribute(l,"y",c),n.setAttribute(l,"width",S[2]-2*c),n.setAttribute(l,"height",S[3]-2*c),n.setAttribute(l,"rx",4),n.setAttribute(l,"ry",4),n.setAttribute(l,"fill",p.getGradientUrl("vertical"))):(n.setAttribute(l,"cx",S[2]/2),n.setAttribute(l,"cy",S[3]/2),n.setAttribute(l,"r",Math.min(S[2],S[3])-c),n.setAttribute(l,"fill",p.getGradientUrl("radial"))),n.setAttribute(l,"opacity","0"),m.appendChild(l)),n.setAttribute(m,"style","-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;"),n.setAttribute(m,"transform","scale(0.9)"),n.setAttribute(m,"viewBox",S.join(" ")),n.setAttribute(m,"fill",d.symbolColor),b.id=h,b.style.float="right",b.style.display="inline-block",b.style.width=T+"px",b.style.height=T+"px",b.style.cursor=d.buttonCursor,b.addEventListener(e.mobile?r.TOUCH_START:r.MOUSE_DOWN,(function(){d.buttonAnimation&&n.setAttribute(m,"transform","scale(0.8)")})),b.addEventListener(e.mobile?r.TOUCH_END:r.MOUSE_UP,(function(e){e&&void 0!==e.button&&0!==e.button||(y&&clearTimeout(y)&&(y=0),y=setTimeout((function(){m&&-1!==n.getAttribute(m,"transform").indexOf("0.8")&&n.setAttribute(m,"transform","scale(1.0)"),g===a.CLOSED?u.emit(i.OPTIONS_OPEN):u.emit(i.OPTIONS_CLOSE)}),50))})),b.addEventListener(r.MOUSE_ENTER,(function(){d.buttonHighlighting&&n.setAttribute(l,"opacity","0.15"),d.buttonAnimation&&n.setAttribute(m,"transform","scale(1.0)")})),b.addEventListener(r.MOUSE_LEAVE,(function(){d.buttonHighlighting&&n.setAttribute(l,"opacity","0"),d.buttonAnimation&&n.setAttribute(m,"transform","scale(0.9)")})),m.appendChild(_),b.appendChild(m),s.appendChild(b),{update:function(e){e&&(g=e),T=s.clientHeight,b.style.width=T+"px",b.style.height=T+"px",n.setAttribute(_,"d",Math.random()>.5?A.settings:A.tune)},destroy:function(){y&&clearTimeout(y)&&(y=0),null!==s&&null!==m&&null!==m.parentNode&&m.parentNode===s&&s.removeChild(m),m=null}}}}}.apply(t,r))||(e.exports=i)},5559:function(e,t,n){var r,i;r=[n(1933),n(7251),n(3740),n(2833),n(5403),n(7245),n(8812)],void 0===(i=function(e,t,n,r,i,a,o){"use strict";return{create:function(s,u,d){var l,c,f,E="http://www.w3.org/2000/svg",p=t.create(d.symbolColor),m=p.get(),b=document.createElement("div"),h=a.PLAY,g="playpause-"+s.id,_=document.createElementNS(E,"path"),T=s.clientHeight,A=o.controls.playpause.paths,S=o.controls.playpause.viewBox;d.buttonHighlighting&&(f="rect",c=1,l=document.createElementNS(E,f));var y=0;return d.buttonHighlighting&&("rect"===f?(n.setAttribute(l,"x",c),n.setAttribute(l,"y",c),n.setAttribute(l,"width",S[2]-2*c),n.setAttribute(l,"height",S[3]-2*c),n.setAttribute(l,"rx",4),n.setAttribute(l,"ry",4),n.setAttribute(l,"fill",p.getGradientUrl("vertical"))):(n.setAttribute(l,"cx",S[2]/2),n.setAttribute(l,"cy",S[3]/2),n.setAttribute(l,"r",Math.min(S[2],S[3])-c),n.setAttribute(l,"fill",p.getGradientUrl("radial"))),n.setAttribute(l,"opacity","0"),m.appendChild(l)),n.setAttribute(m,"style","-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;"),n.setAttribute(m,"transform","scale(0.9)"),n.setAttribute(m,"viewBox",S.join(" ")),n.setAttribute(m,"fill",d.symbolColor),b.id=g,b.style.float="left",b.style.display="inline-block",b.style.width=T+"px",b.style.height=T+"px",b.style.cursor=d.buttonCursor,b.addEventListener(e.mobile?r.TOUCH_START:r.MOUSE_DOWN,(function(){d.buttonAnimation&&n.setAttribute(m,"transform","scale(0.8)")})),b.addEventListener(e.mobile?r.TOUCH_END:r.MOUSE_UP,(function(e){e&&void 0!==e.button&&0!==e.button||(y&&clearTimeout(y)&&(y=0),y=setTimeout((function(){m&&-1!==n.getAttribute(m,"transform").indexOf("0.8")&&n.setAttribute(m,"transform","scale(1.0)"),h===a.PLAY?u.emit(i.PLAY):h===a.PAUSE&&u.emit(i.PAUSE)}),50))})),b.addEventListener(r.MOUSE_ENTER,(function(){d.buttonHighlighting&&n.setAttribute(l,"opacity","0.15"),d.buttonAnimation&&n.setAttribute(m,"transform","scale(1.0)")})),b.addEventListener(r.MOUSE_LEAVE,(function(){d.buttonHighlighting&&n.setAttribute(l,"opacity","0"),d.buttonAnimation&&n.setAttribute(m,"transform","scale(0.9)")})),m.appendChild(_),b.appendChild(m),s.appendChild(b),{update:function(e){e&&(h=e),T=s.clientHeight,b.style.width=T+"px",b.style.height=T+"px",h===a.PLAY?n.setAttribute(_,"d",A.play):h===a.PAUSE&&n.setAttribute(_,"d",A.pause)},destroy:function(){y&&clearTimeout(y)&&(y=0),null!==s&&null!==m&&null!==m.parentNode&&m.parentNode===s&&s.removeChild(m),m=null}}}}}.apply(t,r))||(e.exports=i)},2103:function(e,t,n){var r,i;r=[n(7251),n(3740),n(8143),n(8812)],void 0===(i=function(e,t,n,r){"use strict";return{create:function(i,a){var o=e.create(a.symbolColor).get(),s=document.createElement("div"),u="time-"+i.id,d=document.createElementNS("http://www.w3.org/2000/svg","text"),l=i.clientHeight,c="0:00",f=r.controls.time.viewBox,E=(Math.min(f[2],f[3])-12)/2,p=Math.min(f[2],f[3])-E;return t.setAttribute(d,"x",E),t.setAttribute(d,"y",p),t.setAttribute(d,"font-size","12pt"),t.setAttribute(d,"font-weight","100"),t.setAttribute(d,"font-family","Arial, Helvetica, sans-serif;"),t.setAttribute(d,"style","-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;"),t.setAttribute(o,"style","-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;"),t.setAttribute(o,"transform","scale(0.9)"),t.setAttribute(o,"viewBox",f.join(" ")),t.setAttribute(o,"fill",a.symbolColor),s.id=u,s.style.float="left",s.style.display="inline-block",s.style.cursor="default",o.appendChild(d),s.appendChild(o),i.appendChild(s),{update:function(e){e&&(c=n.format(e)),l=i.clientHeight,s.style.width=f[2]/f[3]*l+"px",s.style.height=l+"px",d.textContent=c},destroy:function(){null!==i&&null!==o&&null!==o.parentNode&&o.parentNode===i&&i.removeChild(o),o=null}}}}}.apply(t,r))||(e.exports=i)},7615:function(e,t,n){var r,i;r=[n(1933),n(7251),n(3740),n(2833),n(5403),n(8812)],void 0===(i=function(e,t,n,r,i,a){"use strict";return{create:function(o,s,u){var d,l,c,f="http://www.w3.org/2000/svg",E=t.create(u.symbolColor),p=E.get(),m=document.createElement("div"),b=1,h="volume-"+o.id,g=document.createElementNS(f,"path"),_=document.createElementNS(f,"path"),T=document.createElementNS(f,"circle"),A=o.clientHeight,S=a.controls.volume.paths,y=a.controls.volume.viewBox,v=12,R=y[2]-24,O=R+v,I=!1;u.buttonHighlighting&&(c="circle",l=1,d=document.createElementNS(f,c));var N=0;function C(t){t&&void 0!==t.button&&0!==t.button||(P(t)?(u.buttonAnimation&&u.buttonHighlighting&&"rect"!==c&&n.setAttribute(d,"r",.8*(v-l)),document.addEventListener(e.mobile?r.TOUCH_MOVE:r.MOUSE_MOVE,w),document.addEventListener(e.mobile?r.TOUCH_END:r.MOUSE_UP,D),I=!0):D({button:0}))}function D(t){if(!t||void 0===t.button||0===t.button){N&&clearTimeout(N)&&(N=0),N=setTimeout((function(){u.buttonAnimation&&u.buttonHighlighting&&"rect"!==c&&n.setAttribute(d,"r",v-l)}),50),document.removeEventListener(e.mobile?r.TOUCH_MOVE:r.MOUSE_MOVE,w),I=!1;var i=L(t),a=p.getBoundingClientRect();(i.clientX<=a.left||i.clientX>=a.right||i.clientY<=a.top||i.clientY>=a.bottom)&&U()}}function w(e){e&&void 0!==e.button&&0!==e.button||I&&(P(e)||D({button:0}))}function U(){I||(u.buttonHighlighting&&n.setAttribute(d,"opacity","0"),u.buttonAnimation&&n.setAttribute(p,"transform","scale(0.9)"))}function P(e){var t=L(e),n=p.getBoundingClientRect();t.clientX<=n.left||t.clientX>=n.right||t.clientY<=n.top||(t.clientY,n.bottom);var r=n.right-n.left,a=(R+24)/r,o=(t.clientX-n.left)*a;o>=O?o=O:o<=12&&(o=12),M(o);var u=(o-12)/(O-12);return u=Math.round(100*u)/100,s.emit(i.VOLUME_CHANGE,{volume:u}),!0}function M(e){T.setAttribute("cx",e),u.buttonHighlighting&&("rect"===c?n.setAttribute(d,"x",e-(v-l)):n.setAttribute(d,"cx",e)),F(_,S.line,e-v,v)}function L(e,t,n){var r={clientX:t||0,clientY:n||0};return void 0!==e.clientX&&void 0!==e.clientY?(r.clientX=e.clientX,r.clientY=e.clientY):e.changedTouches&&e.changedTouches.length?(r.clientX=e.changedTouches[0].clientX,r.clientY=e.changedTouches[0].clientY):e.touches&&e.touches.length&&(r.clientX=e.touches[0].clientX,r.clientY=e.touches[0].clientY),r}function F(e,t,n,r){var i=t.split("h"),a=i[0].split("c"),o=a[0].split(" ");o[0]="M"+(r+1),a[0]=o.join(" "),i[0]=a.join("c");var s=i[1].split("c");s[0]=n-2,i[1]=s.join("c");var u=i.join("h");e.setAttribute("d",u)}return F(g,S.line,O-v,v),g.setAttribute("opacity","0.5"),F(_,S.line,O-v,v),_.setAttribute("opacity","1"),T.setAttribute("r",4),T.setAttribute("cx",O),T.setAttribute("cy",y[3]/2),T.addEventListener(e.mobile?r.TOUCH_START:r.MOUSE_DOWN,C),T.addEventListener(e.mobile?r.TOUCH_END:r.MOUSE_UP,D),u.buttonHighlighting&&("rect"===c?(n.setAttribute(d,"x",O-(v-l)),n.setAttribute(d,"y",l),n.setAttribute(d,"width",2*(v-l)),n.setAttribute(d,"height",2*(v-l)),n.setAttribute(d,"rx",4),n.setAttribute(d,"ry",4),n.setAttribute(d,"fill",E.getGradientUrl("vertical"))):(n.setAttribute(d,"cx",O),n.setAttribute(d,"cy",y[3]/2),n.setAttribute(d,"r",v-l),n.setAttribute(d,"fill",E.getGradientUrl("vertical"))),n.setAttribute(d,"opacity","0"),p.appendChild(d)),n.setAttribute(p,"style","-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;"),n.setAttribute(p,"transform","scale(0.9)"),n.setAttribute(p,"viewBox",y.join(" ")),n.setAttribute(p,"fill",u.symbolColor),m.id=h,m.style.float="left",m.style.display="inline-block",m.style.width=y[2]/y[3]*A+"px",m.style.height=A+"px",m.style.cursor=u.buttonCursor,m.addEventListener(e.mobile?r.TOUCH_START:r.MOUSE_DOWN,C),m.addEventListener(r.MOUSE_ENTER,(function(){u.buttonHighlighting&&n.setAttribute(d,"opacity","0.15"),u.buttonAnimation&&n.setAttribute(p,"transform","scale(1.0)")})),m.addEventListener(r.MOUSE_LEAVE,U),p.appendChild(g),p.appendChild(_),p.appendChild(T),m.appendChild(p),o.appendChild(m),{update:function(e){void 0!==e&&(b=e),A=o.clientHeight,m.style.width=y[2]/y[3]*A+"px",m.style.height=A+"px",M(R*b+v)},destroy:function(){N&&clearTimeout(N)&&(N=0),null!==o&&null!==p&&null!==p.parentNode&&p.parentNode===o&&o.removeChild(p),p=null}}}}}.apply(t,r))||(e.exports=i)},6444:function(e,t,n){var r,i;r=[n(6627),n(7176),n(4124),n(9087)],void 0===(i=function(e,t,n,r){"use strict";return{create:function(t,i,a){var o,s,u,d=document.getElementById(t),l=n.EXITED,c=!1,f={},E="",p="",m="",b=a.style.backgroundColor,h=a.style.fullScreenBackgroundColor,g=0,_=[],T=1,A=0,S=null,y="",v={width:"10000px",height:"10000px",left:"-4000px",top:"-4000px",padding:"0px",margin:"0px",position:"fixed","background-color":h,"z-index":"0"},R=void 0;function O(e){e?(document.body.style.setProperty("border-width",p),document.body.style.setProperty("background-color",E),d.style.setProperty("border-width",m),d.style.setProperty("background-color",b)):(p=document.body.style.borderWidth,document.body.style.setProperty("border-width","0px","important"),E=document.body.style.backgroundColor,document.body.style.setProperty("background-color",h,"important"),m=d.style.borderWidth,d.style.setProperty("border-width","0px","important"),d.style.setProperty("background-color",h,"important"))}function I(){return l===n.ENTERED}function N(){try{var e,t;if(I()){for(U();_.length;)(t=_.shift()).element.style.cssText=t.cssText,t.border&&(t.element.frameBorder=t.border);S=null,l=n.EXITED,O(!0),document.body.removeChild(s),function(){if(c&&o&&f){var e,t="";for(e in f)t.length?t+=", "+e+"="+f[e]:t+=e+"="+f[e];o.content=t}}(),d.removeChild(u),i.emit(r.FULLSCREEN_CHANGE,{entered:!1}),R&&Object.prototype.hasOwnProperty.call(R,"x")&&Object.prototype.hasOwnProperty.call(R,"y")&&window.scroll(R.x,R.y),R=void 0}else{for(R||(R={y:window.pageYOffset,x:window.pageXOffset}),_.unshift({window:window,document:window.document,element:d,cssText:d.style.cssText,border:null}),P(window),U(),g=setInterval(w,300),e=0;e<_.length;e+=1)(t=_[e]).element.style.setProperty("position","fixed","important"),t.element.style.setProperty("left","0px","important"),t.element.style.setProperty("top","0px","important"),t.element.style.setProperty("right","0px","important"),t.element.style.setProperty("bottom","0px","important"),t.element.style.setProperty("z-index","1000","important"),t.border&&(t.element.frameBorder="0");C(),l=n.ENTERED,d.appendChild(u),document.body.appendChild(s),O(),i.emit(r.FULLSCREEN_CHANGE,{entered:!0})}}catch(e){i.emit(r.FULLSCREEN_ERROR,{reason:"denied"})}}function C(){_.forEach(D)}function D(t){!S&&(S=_[0]),T=S.document.documentElement.clientWidth/S.window.innerWidth,A=(A=(0===S.window.orientation?S.window.screen.height:S.window.screen.width)-S.window.innerWidth*T)>1&&!c?A:0,0===S.window.orientation?t.element.style.paddingTop="env(safe-area-inset-top)":t.element.style.paddingTop=0,(window.pageXOffset<0||window.pageYOffset<0)&&window.scroll(0,0),t.element.style.width=S.window.innerWidth*T+"px",t.element.style.height=(e.isChrome?Math.max(S.document.documentElement.clientHeight,S.window.innerHeight*T):S.window.innerHeight*T)-A+"px"}function w(){try{I()&&C()}catch(e){i.emit(r.FULLSCREEN_ERROR,{reason:"denied"})}}function U(){clearInterval(g),g=0}function P(e){if(e.parent!==e.self)for(var t=e.parent.frames,n=0;n<t.length;n++){var r=t[n];if(e.self===r&&r.frameElement&&r.frameElement.tagName&&"IFRAME"===r.frameElement.tagName){for(var i=r.frameElement.attributes,a=!1,o=0;o<i.length;o+=1)if(i[o].nodeName&&-1!==i[o].nodeName.indexOf("allowfullscreen")&&"false"!==i[o].nodeValue){a=!0;break}a&&(_.unshift({window:e.parent,document:e.parent.document,element:r.frameElement,cssText:r.frameElement.style.cssText,border:r.frameElement.frameBorder}),P(e.parent))}}}return function(){var e,t,n,r,i,a=document.querySelectorAll("meta");for(e=0;e<a.length;++e){var d=a[e].getAttribute("name"),l=a[e].getAttribute("content");if(d&&"viewport"===d.toLowerCase()){if(c=!0,l)for(l=l.split(","),t=0;t<l.length;t++)l[t]&&l[t].length&&-1!==(n=l[t].trim().indexOf("="))&&n!==l[t].trim().length-1&&(r=l[t].trim().substring(0,n),i=l[t].trim().substring(n+1),r&&i&&(f[r]=i));o=a[e]}}!function(){for(var e in(s=document.createElement("meta")).name="viewport",f["initial-scale"]&&(y+=(y.length?", ":"")+"initial-scale=1.0"),f["maximum-scale"]&&(y+=(y.length?", ":"")+"maximum-scale=1.0"),s.content=y,u=document.createElement("div"),v)Object.prototype.hasOwnProperty.call(v,e)&&u.style.setProperty(e,v[e],"position"===e?"important":"")}()}(),{change:function(){N()},entered:I,enabled:function(){return!0},destroy:function(){I()&&N(),d=null}}}}}.apply(t,r))||(e.exports=i)},4103:function(e,t,n){var r,i;r=[n(5533),n(6444)],void 0===(i=function(e,t){"use strict";return{create:function(n,r,i){return document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen?e.create(n,r,i):t.create(n,r,i)}}}.apply(t,r))||(e.exports=i)},5533:function(e,t,n){var r,i;r=[n(8718),n(5833),n(9087)],void 0===(i=function(e,t,n){"use strict";return{create:function(r,i,a){var o=document.getElementById(r);o.requestFullScreen=o.requestFullscreen||o.mozRequestFullScreen||o.webkitRequestFullscreen||o.msRequestFullscreen,document.exitFullScreen=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen;var s=o.style.cssText,u="",d=a.style.backgroundColor,l=a.style.fullScreenBackgroundColor,c="",f="",E="",p="",m="",b=!1,h=!1;function g(){T()?(b=!0,h||y(!0),i.emit(n.FULLSCREEN_CHANGE,{entered:!0})):(h&&y(!1),b&&!A()&&i.emit(n.FULLSCREEN_CHANGE,{entered:!1}),S()&&!A()||(b=!1))}function _(){i.emit(n.FULLSCREEN_ERROR,{reason:"denied"})}function T(){return S()===o}function A(){var e=S();return!!e&&e!==o}function S(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}function y(e){e?(s=o.style.cssText,o.style.width="100vw",o.style.height="100vh",u=o.style.borderWidth,o.style.setProperty("border-width","0px","important"),o.style.setProperty("background-color",l,"important"),c=o.style.padding,f=o.style.paddingTop,E=o.style.paddingBottom,p=o.style.paddingLeft,m=o.style.paddingRight,o.style.setProperty("padding","0","important"),h=!0):(o.style.cssText=s,o.style.setProperty("border-width",u),o.style.setProperty("background-color",d,"important"),o.style.setProperty("padding",c),o.style.setProperty("padding-top",f),o.style.setProperty("padding-bottom",E),o.style.setProperty("padding-left",p),o.style.setProperty("padding-right",m),h=!1)}function v(){}function R(){}return function(){var n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&document.addEventListener(e[n],g);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&document.addEventListener(t[n],_)}(),{change:function(){!function(){try{T()?document.exitFullScreen&&document.exitFullScreen():o.requestFullScreen&&o.requestFullScreen().then(v).catch(R)}catch(e){}}()},entered:T,enabled:function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled},destroy:function(){!function(){var n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&document.removeEventListener(e[n],g);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&document.removeEventListener(t[n],_)}(),T()&&(document.exitFullScreen&&document.exitFullScreen(),i.emit(n.FULLSCREEN_EXIT)),o=null}}}}}.apply(t,r))||(e.exports=i)},6471:function(e,t,n){var r,i;r=[n(1933),n(6627),n(1117),n(2833)],void 0===(i=function(e,t,n,r){"use strict";return{create:function(e,i){var a,o=document.getElementById(e),s={timeout:0,touchInProgress:!1},u=0;function d(){var e,n;if(o)if(o.addEventListener(r.CLICK,c),t.isAboveIOS11&&t.mustUseHLS||!t.isIOS&&t.mustUseHLS)a.addEventListener(r.CLICK,c),a.addEventListener("contextmenu",f);else{var i=o.querySelectorAll("video");for(n=0;n<i.length;n+=1)(e=i[n])instanceof Element&&(e.addEventListener(r.CLICK,c),e.addEventListener("contextmenu",f))}}function l(){var e,n;if(clearTimeout(u),u=0,o)if(o.removeEventListener(r.CLICK,c),t.isAboveIOS11&&t.mustUseHLS||!t.isIOS&&t.mustUseHLS)a.removeEventListener(r.CLICK,c),a.removeEventListener("contextmenu",f);else{var i=o.querySelectorAll("video");for(n=0;n<i.length;n+=1)(e=i[n])instanceof Element&&(e.removeEventListener(r.CLICK,c),e.removeEventListener("contextmenu",f))}}function c(e){e.preventDefault(),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.currentTarget.id&&-1!==e.currentTarget.id.indexOf("controls-")||e.button&&0!==e.button||s.touchInProgress||(s.touchInProgress=!0,e.currentTarget.id&&-1!==e.currentTarget.id.indexOf("playButton-")?i.emit(n.PLAYBUTTON_SINGLE_CLICK):e.currentTarget.id&&-1!==e.currentTarget.id.indexOf("audio-")?i.emit(n.AUDIO_SINGLE_CLICK):i.emit(n.PLAYER_SINGLE_CLICK),s.timeout=setTimeout((function(){s.touchInProgress=!1,clearTimeout(s.timeout),s.timeout=0}),300))}function f(e){return e.preventDefault(),!1}return(t.isAboveIOS11&&t.mustUseHLS||!t.isIOS&&t.mustUseHLS)&&((a=document.createElement("div")).style.width="100%",a.style.height="100%",a.style.position="absolute",a.style.left=0,a.style.top=0,a.style.backgroundColor="transparent",a.style.border=0,a.style.display="block",a.style.visibility="visible",a.style.zIndex=2,a.id="clickWrapper-"+e,o.appendChild(a)),{update:function(){var t=document.getElementById("middleView-"+e);t&&t.firstChild&&t.firstChild.addEventListener(r.CLICK,c),l(),u=setTimeout(d,200)},destroy:function(){l(),s.timeout&&clearTimeout(s.timeout),s.timeout=0,a&&o.removeChild(a),a=null,o=null}}}}}.apply(t,r))||(e.exports=i)},1890:function(e,t,n){var r,i;r=[n(7176),n(6627),n(505)],void 0===(i=function(e,t,n){"use strict";return{create:function(r,i,a){a=a||n.LETTERBOX;var o,s,u=document.getElementById(r),d=[],l=0,c=i.width/i.height;function f(){var n=((u=document.getElementById(r))&&(o=u.clientWidth,s=u.clientHeight),{width:o,height:s}),f=["100%","100%"],p=n.width/n.height,m=E(p-c,8),b=1,h=1;if(u){switch(a){case"letterbox":l%180&&(m<0?(b*=c,h*=c):m>=0&&(b/=c,h/=c));break;case"crop":l%180?m<0?(b/=p,h/=p):m>=0&&(b*=p,h*=p):m<0?(b/=p/c,h/=p/c):m>=0&&(b*=p/c,h*=p/c);break;case"fill":l%180?m<0?(b*=c,h/=p):m>=0&&(b*=p,h/=c):m<0?h=n.height/(n.width/c):m>=0&&(b=n.width/(n.height*c));break;case"original":f[0]=i.width+"px",f[1]=i.height+"px";break;case"resize":"fixed"!==u.style.position&&(f[0]=i.width+"px",f[1]=i.height+"px",u.style.width=f[0],u.style.height=f[1])}for(;d.length;)d.pop();var g;if(b=E(b,5),h=E(h,5),t.isAboveIOS11&&t.mustUseHLS||!t.isIOS&&t.mustUseHLS){var _=u.querySelectorAll("iframe");for(g=0;g<_.length;g+=1)_[g].contentDocument&&_[g].contentDocument.body&&_[g].contentDocument.body.firstChild&&d.push(_[g].contentDocument.body.firstChild)}else{var T=u.querySelectorAll("video");for(g=0;g<T.length;g+=1)d.push(T[g])}for(g=0;g<d.length;g+=1){var A=d[g];A instanceof Element&&(e.normalize(A,"transform","translate(-50%, -50%) scaleX("+b.toFixed(5)+") scaleY("+h.toFixed(5)+") rotate("+l.toFixed(0)+"deg)"),A.style.width=f[0],A.style.height=f[1])}}}function E(e,t){t=t||2;var n=Math.pow(10,t);return Math.ceil(e*n)/n}return f(),{update:function(e,t){a="string"==typeof e?e:a,l="number"==typeof t?t:l,f()},destroy:function(){for(;d.length;)d.pop();u=null},getState:function(){return{scalingMode:a,rotationMode:l}}}}}}.apply(t,r))||(e.exports=i)},383:function(e,t,n){var r,i;r=[n(1933),n(7251),n(3740),n(2833),n(5403),n(8812)],void 0===(i=function(e,t,n,r,i,a){"use strict";return{create:function(o,s,u,d,l,c){var f,E,p,m="http://www.w3.org/2000/svg",b=t.create(l.symbolColor),h=b.get(),g=document.createElementNS(m,"path"),_=a.centerView.audio.paths,T=a.centerView.audio.viewBox,A=d(),S=c[0],y=c[1];l.buttonHighlighting&&(p="rect",E=1,f=document.createElementNS(m,p));var v=0;return S?n.setAttribute(g,"d",_.off):y>=.5?n.setAttribute(g,"d",_.up):y>0?n.setAttribute(g,"d",_.down):n.setAttribute(g,"d",_.muted),l.buttonHighlighting&&("rect"===p?(n.setAttribute(f,"x",E),n.setAttribute(f,"y",E),n.setAttribute(f,"width",T[2]-2*E),n.setAttribute(f,"height",T[3]-2*E),n.setAttribute(f,"rx",4),n.setAttribute(f,"ry",4),n.setAttribute(f,"fill",b.getGradientUrl("vertical"))):(n.setAttribute(f,"cx",T[2]/2),n.setAttribute(f,"cy",T[3]/2),n.setAttribute(f,"r",Math.min(T[2],T[3])-E),n.setAttribute(f,"fill",b.getGradientUrl("radial"))),n.setAttribute(f,"opacity","0"),h.appendChild(f)),n.setAttribute(h,"style","-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;"),n.setAttribute(h,"transform","scale(0.9)"),n.setAttribute(h,"viewBox",T.join(" ")),n.setAttribute(h,"fill",l.symbolColor),h.style.zIndex=1001,h.id="audio-"+o,h.addEventListener(r.MOUSE_ENTER,(function(){l.buttonHighlighting&&n.setAttribute(f,"opacity","0.15"),l.buttonAnimation&&n.setAttribute(h,"transform","scale(1.0)")})),h.addEventListener(r.MOUSE_LEAVE,(function(){l.buttonHighlighting&&n.setAttribute(f,"opacity","0"),l.buttonAnimation&&n.setAttribute(h,"transform","scale(0.9)")})),h.appendChild(g),h.addEventListener(e.mobile?r.TOUCH_START:r.MOUSE_DOWN,(function(){l.buttonAnimation&&n.setAttribute(h,"transform","scale(0.8)")})),h.addEventListener(e.mobile?r.TOUCH_END:r.MOUSE_UP,(function(e){e&&void 0!==e.button&&0!==e.button||(v&&clearTimeout(v)&&(v=0),v=setTimeout((function(){h&&h&&-1!==n.getAttribute(h,"transform").indexOf("0.8")&&n.setAttribute(h,"transform","scale(1.0)"),S?s.emit(i.UNMUTE):s.emit(i.MUTE)}),50))})),u.appendChild(h),u.style.width=A.width+"px",u.style.height=A.height+"px",u.style.cursor=l.buttonCursor,{destroy:function(){v&&clearTimeout(v)&&(v=0),null!==u&&null!==h&&null!==h.parentNode&&h.parentNode===u&&u.removeChild(h),h=null}}}}}.apply(t,r))||(e.exports=i)},2911:function(e,t,n){var r,i;r=[n(7251),n(3740),n(8812)],void 0===(i=function(e,t,n){"use strict";return{create:function(r,i,a,o,s){var u=e.create(s.symbolColor).get(),d=document.createElementNS("http://www.w3.org/2000/svg","path"),l=n.centerView.error.paths,c=n.centerView.error.viewBox,f=o();return t.setAttribute(d,"d",l.error),t.setAttribute(u,"style","-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;"),t.setAttribute(u,"transform","scale(0.9)"),t.setAttribute(u,"viewBox",c.join(" ")),t.setAttribute(u,"fill",s.symbolColor),u.style.zIndex=1001,u.id="error-"+r,u.appendChild(d),a.appendChild(u),a.style.width=f.width+"px",a.style.height=f.height+"px",a.style.cursor="default",{destroy:function(){null!==a&&null!==u&&null!==u.parentNode&&u.parentNode===a&&a.removeChild(u),u=null}}}}}.apply(t,r))||(e.exports=i)},79:function(e,t,n){var r,i;r=[n(6627),n(7251),n(3740),n(8812)],void 0===(i=function(e,t,n,r){"use strict";return{create:function(i,a,o,s,u){var d,l="http://www.w3.org/2000/svg",c=t.create(u.symbolColor).get(),f=document.createElementNS(l,"path"),E=document.createElementNS(l,"path"),p=document.createElementNS(l,"path"),m=document.createElementNS(l,"animate"),b=document.createElementNS(l,"animateTransform"),h=document.createElementNS(l,"animateTransform"),g=r.centerView.loading.paths,_=r.centerView.loading.viewBox,T=s(),A=e.isTridentBrowser,S="quarter";function y(){clearInterval(d),d=null}return A||(m.setAttribute("attributeName","opacity"),m.setAttribute("dur","1s"),m.setAttribute("values","0;0.5;0"),m.setAttribute("repeatCount","indefinite"),f.appendChild(m)),f.setAttribute("opacity","0"),f.setAttribute("d",g.circleFull),c.appendChild(f),-1!==S.indexOf("half")&&(A||(b.setAttribute("id","first"),b.setAttribute("attributeName","transform"),b.setAttribute("attributeType","XML"),b.setAttribute("type","rotate"),b.setAttribute("dur",.66),b.setAttribute("from","0 12 12"),b.setAttribute("to","360 12 12"),b.setAttribute("begin","0s"),b.setAttribute("repeatCount","indefinite"),E.appendChild(b)),E.setAttribute("opacity","1.0"),E.setAttribute("d",g.circleHalf),c.appendChild(E)),-1!==S.indexOf("quarter")&&(A||(b.setAttribute("id","first"),b.setAttribute("attributeName","transform"),b.setAttribute("attributeType","XML"),b.setAttribute("type","rotate"),b.setAttribute("dur",.66),b.setAttribute("from","0 12 12"),b.setAttribute("to","360 12 12"),b.setAttribute("begin","0s;second.end"),p.appendChild(b),h.setAttribute("id","second"),h.setAttribute("attributeName","transform"),h.setAttribute("attributeType","XML"),h.setAttribute("type","rotate"),h.setAttribute("dur",.33),h.setAttribute("from","360 12 12"),h.setAttribute("to","720 12 12"),h.setAttribute("begin","first.end"),p.appendChild(h)),p.setAttribute("opacity","1.0"),p.setAttribute("d",g.circleQuarter),c.appendChild(p)),n.setAttribute(c,"style","-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;"),n.setAttribute(c,"transform","scale(0.9)"),n.setAttribute(c,"viewBox",_.join(" ")),n.setAttribute(c,"fill",u.symbolColor),c.style.zIndex=1001,c.id="loading-"+i,o.appendChild(c),o.style.width=T.width+"px",o.style.height=T.height+"px",o.style.cursor="default",A&&function(){y();var e=0,t=0,r=1,i=0,a=function(){(e+=9.090909090909092*(i%2+1))>=360&&(i++,e=0),t>=.5&&1===r?r=-1:t<=0&&-1===r&&(r=1),t+=.016666666666666666*r,n.setAttribute(c,"style","transform: rotate("+e+"deg)"),f.setAttribute("opacity",t)};d=setInterval(a,1e3/60),a()}(),{destroy:function(){A&&y(),c.parentNode===o&&o.removeChild(c),c=null}}}}}.apply(t,r))||(e.exports=i)},729:function(e,t,n){var r,i;r=[n(7176),n(4869),n(79),n(862),n(2911),n(383)],void 0===(i=function(e,t,n,r,i,a){"use strict";return{create:function(o,s,u){var d={loading:n,playbutton:r,error:i,audio:a},l=null,c=document.getElementById(o),f="middleView-"+o,E=document.createElement("div"),p={symbolColor:u.style.symbolColor,buttonAnimation:u.style.buttonAnimation,buttonHighlighting:u.style.buttonHighlighting,buttonCursor:u.style.buttonCursor},m=0;function b(){E&&E.parentNode===c&&c.removeChild(E)}function h(){return(c=document.getElementById(o))&&(m=Math.round(.2*Math.min(c.clientWidth,c.clientHeight))),{width:m,height:m}}return{update:function(n,r){l&&l.destroy&&(l.destroy(),l=null),n&&n!==t.NONE?(function(){if(!document.getElementById(f)){var t=h();E.id=f,E.style.width=t.width+"px",E.style.height=t.height+"px",E.style.position="absolute",E.style.left="50%",E.style.top="50%",E.style.marginRight="-50%",e.normalize(E,"transform","translate(-50%, -50%)"),E.style.zIndex=1e3,c&&c.appendChild(E)}}(),l=d[n].create(o,s,E,h,p,r)):b()},destroy:function(){l&&l.destroy&&(l.destroy(),l=null),b(),E=null,c=null}}}}}.apply(t,r))||(e.exports=i)},862:function(e,t,n){var r,i;r=[n(1933),n(7251),n(3740),n(2833),n(5403),n(8812)],void 0===(i=function(e,t,n,r,i,a){"use strict";return{create:function(o,s,u,d,l){var c,f,E,p="http://www.w3.org/2000/svg",m=t.create(l.symbolColor),b=m.get(),h=document.createElementNS(p,"path"),g=a.centerView.playButton.paths,_=a.centerView.playButton.viewBox,T=d();l.buttonHighlighting&&(E="rect",f=1,c=document.createElementNS(p,E));var A=0;return n.setAttribute(h,"d",g.play),l.buttonHighlighting&&("rect"===E?(n.setAttribute(c,"x",f),n.setAttribute(c,"y",f),n.setAttribute(c,"width",_[2]-2*f),n.setAttribute(c,"height",_[3]-2*f),n.setAttribute(c,"rx",4),n.setAttribute(c,"ry",4),n.setAttribute(c,"fill",m.getGradientUrl("vertical"))):(n.setAttribute(c,"cx",_[2]/2),n.setAttribute(c,"cy",_[3]/2),n.setAttribute(c,"r",Math.min(_[2],_[3])-f),n.setAttribute(c,"fill",m.getGradientUrl("radial"))),n.setAttribute(c,"opacity","0"),b.appendChild(c)),n.setAttribute(b,"style","-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;"),n.setAttribute(b,"transform","scale(0.9)"),n.setAttribute(b,"viewBox",_.join(" ")),n.setAttribute(b,"fill",l.symbolColor),b.style.zIndex=1001,b.id="playButton-"+o,b.addEventListener(r.MOUSE_ENTER,(function(){l.buttonHighlighting&&n.setAttribute(c,"opacity","0.15"),l.buttonAnimation&&n.setAttribute(b,"transform","scale(1.0)")})),b.addEventListener(r.MOUSE_LEAVE,(function(){l.buttonHighlighting&&n.setAttribute(c,"opacity","0"),l.buttonAnimation&&n.setAttribute(b,"transform","scale(0.9)")})),b.appendChild(h),b.addEventListener(e.mobile?r.TOUCH_START:r.MOUSE_DOWN,(function(){l.buttonAnimation&&n.setAttribute(b,"transform","scale(0.8)")})),b.addEventListener(e.mobile?r.TOUCH_END:r.MOUSE_UP,(function(e){e&&void 0!==e.button&&0!==e.button||(A&&clearTimeout(A)&&(A=0),A=setTimeout((function(){b&&-1!==n.getAttribute(b,"transform").indexOf("0.8")&&n.setAttribute(b,"transform","scale(1.0)"),s.emit(i.PLAY)}),50))})),u.appendChild(b),u.style.width=T.width+"px",u.style.height=T.height+"px",u.style.cursor=l.buttonCursor,{destroy:function(){A&&clearTimeout(A)&&(A=0),null!==u&&null!==b&&null!==b.parentNode&&b.parentNode===u&&u.removeChild(b),b=null}}}}}.apply(t,r))||(e.exports=i)},995:function(e,t,n){var r,i;r=[n(1933),n(6627),n(7176),n(9583),n(492),n(6637)],void 0===(i=function(e,t,n,r,i,a){"use strict";return{create:function(e,t,o){var s,u,d,l=[{type:r.STATE_CHANGE,listener:function(e){switch(e.state){case i.BUFFERING:case i.PLAYING:d&&(d.style.visibility="hidden");break;case i.READY:d&&(d.style.visibility="visible");break;case i.LOADING:s===i.READY&&d&&(d.style.visibility="visible");break;case i.PAUSED:!p&&d&&(d.style.visibility="visible")}s=e.state}}],c=o.style,f=c.poster,E="string"==typeof f&&f.length,p=c.keepFrame,m=o.playback.crossOrigin,b=16,h=9,g=I(),_=["100%","100%"],T=g.width/g.height,A=b/h,S=(T-A).toFixed(2),y=1,v=1,R=0,O=0;function I(){return t&&(R=t.clientWidth,O=t.clientHeight),{width:R,height:O}}function N(){E&&u&&(g=I(),T=g.width/g.height,S=Math.round(100*(T-A))/100,v=y=1,S<0?v=Math.round(T/A*100)/100:S>=0&&(y=Math.round(A/T*100)/100),n.normalize(u,"transform","translate(-50%, -50%) scaleX("+y+") scaleY("+v+") rotate(0deg)"))}function C(){u&&(u.parentNode.removeChild(u),u=null),d&&(d.parentNode.removeChild(d),d=null),E=!1}function D(){C()}function w(){u&&u.naturalWidth&&u.naturalHeight&&(b=u.naturalWidth,h=u.naturalHeight,A=b/h,N())}return a.add({target:e,listeners:l}),function(){if(E){switch((d=document.createElement("div")).style.width=_[0],d.style.height=_[1],d.style.top=0,d.style.left=0,d.style.position="absolute",d.style.zIndex=999,d.style.visibility="visible",d.style.backgroundColor=c.backgroundColor,(u=document.createElement("img")).style.width=_[0],u.style.height=_[1],u.style.position="absolute",u.style.left="50%",u.style.top="50%",u.style.marginRight="-50%",u.style.backgroundColor=c.backgroundColor,n.normalize(u,"transform","translate(-50%, -50%)"),u.style.zIndex=999,m){case"anonymous":case"use-credentials":u.setAttribute("crossOrigin",m)}u.onerror=D,u.onload=w,u.src=f,d.appendChild(u),t.appendChild(d),N()}}(),{update:function(){E&&N()},destroy:function(){C(),a.remove({target:e,listeners:l})}}}}}.apply(t,r))||(e.exports=i)},7661:function(e,t,n){var r,i;r=[n(1933),n(6627),n(7176),n(9583),n(492),n(6637),n(6182),n(995)],void 0===(i=function(e,t,n,r,i,a,o,s){"use strict";return{create:function(u,d,l){var c,f,E,p=[],m=l.style,b=!1,h=[{type:r.STATE_CHANGE,listener:function(e){f=e.state;for(var t=0;t<p.length;t+=1){var n=p[t];n instanceof Element&&(m.audioPlayer?n.style.visibility="hidden":f===i.READY||f===i.PAUSED?!m.keepFrame&&(n.style.visibility="hidden"):f===i.PLAYING&&!m.keepFrame&&(n.style.visibility="visible"))}}},{type:r.STREAM_INFO,listener:function(){for(var e=0;e<p.length;e+=1){var t=p[e];t instanceof Element&&m.audioPlayer&&(t.style.visibility="hidden")}}},{type:o.FULLSCREEN_CHANGE,listener:function(e){b=e.data.entered;for(var t=0;t<p.length;t+=1){var n=p[t];n instanceof Element&&(b?n.style.setProperty("background-color",m.fullScreenBackgroundColor):n.style.setProperty("background-color",m.backgroundColor))}}}],g=!1;return function(t){var n,r,i,a,o,f=["width","height"],p=0;(c=document.getElementById(d))&&("auto"!==t.width&&"auto"!==t.height?t.audioPlayer?t.width&&t.height?(c.style.width=t.width,c.style.height=t.height):t.width?(c.style.width=t.width,c.style.height=Math.round(e.mobile?100/9:100/12)/100*c.clientWidth+"px"):c.clientWidth||c.clientHeight?c.clientWidth&&(c.style.height=Math.round(e.mobile?100/9:100/12)/100*c.clientWidth+"px"):(c.style.width="640px",c.style.height=Math.round(e.mobile?100/9:100/12)/100*c.clientWidth+"px"):t.width&&t.height?(c.style.width=t.width,c.style.height=t.height):(t.width||t.height)&&t.aspectratio?(i=-1!==t[f[p=+!!t.height]].indexOf("%"),a=-1!==t[f[p]].indexOf("px"),c.style[f[p]]=t[f[p]],(o=t.aspectratio.split("/"))[0]=parseInt(o[0],10),o[1]=parseInt(o[1],10),(i||a)&&(n=parseInt(t[f[p]].replace(i?"%":"px",""),10),r=Math.round(n*o[+!p]/o[p]).toString()+(i?"%":"px"),c.style[f[+!p]]=r)):(t.width||t.height)&&(t.width||t.aspectratio)&&(t.aspectratio||t.height)||c.clientWidth&&c.clientHeight||(c.style.width="640px",c.style.height="360px"):c.clientWidth||c.clientHeight?c.clientWidth||"auto"!==t.width?c.clientHeight||(t.aspectratio&&!t.audioPlayer?((o=t.aspectratio.split("/"))[0]=parseInt(o[0],10),o[1]=parseInt(o[1],10),c.style.height=Math.round(c.clientWidth/o[0]*o[1]).toString()+"px"):c.style.height=t.audioPlayer?Math.round(e.mobile?100/6:100/12)/100*c.clientWidth+"px":Math.round(c.clientWidth/16*9).toString()+"px"):t.aspectratio?((o=t.aspectratio.split("/"))[0]=parseInt(o[0],10),o[1]=parseInt(o[1],10),c.style.width=Math.round(c.clientHeight*o[0]/o[1]).toString()+"px"):c.style.width=Math.round(16*c.clientHeight/9).toString()+"px":(c.style.width="640px",c.style.height=t.audioPlayer?Math.round(e.mobile?100/6:100/12)/100*c.clientWidth+"px":"360px"),c.style.overflow="hidden",c.style.position="relative",c.style.backgroundColor=t.audioPlayer?"transparent":t.backgroundColor?t.backgroundColor:"black",E=s.create(u,c,l))}(m),{update:function(){for(g||(a.add({target:u,listeners:h}),g=!0);p.length;)p.pop();var e;if(c){if(t.isAboveIOS11&&t.mustUseHLS||!t.isIOS&&t.mustUseHLS){var r=c.querySelectorAll("iframe");for(e=0;e<r.length;e+=1)r[e].contentDocument&&r[e].contentDocument.body&&r[e].contentDocument.body&&p.push(r[e].contentDocument.body.firstChild)}else{var i=c.querySelectorAll("video");for(e=0;e<i.length;e+=1)p.push(i[e])}for(e=0;e<p.length;e+=1){var o=p[e];o instanceof Element&&(o.style.width="100%",o.style.height="100%",o.style.position="absolute",o.style.left="50%",o.style.top="50%",o.style.marginRight="-50%",o.style.backgroundColor=m.audioPlayer?"transparent":b?m.fullScreenBackgroundColor:m.backgroundColor,n.normalize(o,"transform","translate(-50%, -50%)"))}E.update()}},destroy:function(){for(E.destroy(),E=null,a.remove({target:u,listeners:h}),c=null;p.length;)p.pop()}}}}}.apply(t,r))||(e.exports=i)},3740:function(e,t,n){var r,i;r=[n(6627),n(8333)],void 0===(i=function(e,t){"use strict";var n=t.create("Attribute");function r(e,t){var r=!!(e&&1===e.nodeType&&t&&"string"==typeof t&&t.length);return!r&&n.debugEnabled()&&n.debug("element not existing or invalid property"),r}return{setAttribute:function(t,n,i){if(r(t,n))try{e.isTridentBrowser&&"transform"===n?t.style.transform=i:t.setAttribute(n,i)}catch(e){}},getAttribute:function(t,n){var i=void 0;if(r(t,n))try{i=e.isTridentBrowser&&"transform"===n?t.style.transform:t.getAttribute(n)}catch(e){}return i}}}.apply(t,r))||(e.exports=i)},7251:function(e,t,n){var r,i;r=[n(3740)],void 0===(i=function(e){"use strict";return{create:function(t){var n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"svg"),i=document.createElementNS(n,"defs"),a=document.createElementNS(n,"radialGradient"),o=document.createElementNS(n,"linearGradient"),s=document.createElementNS(n,"linearGradient"),u=document.createElementNS(n,"stop"),d=document.createElementNS(n,"stop"),l=document.createElementNS(n,"stop"),c=document.createElementNS(n,"stop"),f=document.createElementNS(n,"stop"),E=document.createElementNS(n,"stop"),p=document.createElementNS(n,"stop"),m=document.createElementNS(n,"stop"),b=document.createElementNS(n,"stop"),h=document.createElementNS(n,"stop"),g=document.createElementNS(n,"stop"),_=document.createElementNS(n,"stop");return u.setAttribute("offset","0%"),u.setAttribute("stop-color",t),d.setAttribute("offset","30%"),d.setAttribute("stop-color",t),l.setAttribute("stop-opacity","1"),l.setAttribute("offset","70%"),l.setAttribute("stop-color",t),l.setAttribute("stop-opacity","1"),c.setAttribute("offset","100%"),c.setAttribute("stop-color",t),c.setAttribute("stop-opacity","0"),f.setAttribute("offset","0%"),f.setAttribute("stop-color",t),E.setAttribute("offset","80%"),E.setAttribute("stop-color",t),p.setAttribute("offset","90%"),p.setAttribute("stop-color",t),p.setAttribute("stop-opacity","0.1"),m.setAttribute("offset","100%"),m.setAttribute("stop-color",t),m.setAttribute("stop-opacity","0"),b.setAttribute("offset","0%"),b.setAttribute("stop-color",t),g.setAttribute("stop-opacity","0"),h.setAttribute("offset","10%"),h.setAttribute("stop-color",t),g.setAttribute("stop-opacity","0.15"),g.setAttribute("offset","90%"),g.setAttribute("stop-color",t),g.setAttribute("stop-opacity","0.15"),_.setAttribute("offset","100%"),_.setAttribute("stop-color",t),_.setAttribute("stop-opacity","0"),a.setAttribute("id","hoverTransparencyRadial"),o.setAttribute("id","hoverTransparencyHorizontal"),s.setAttribute("id","hoverTransparencyVertical"),s.setAttribute("x1","0"),s.setAttribute("y1","0"),s.setAttribute("x2","0"),s.setAttribute("y2","1"),a.appendChild(u),a.appendChild(d),a.appendChild(l),a.appendChild(c),o.appendChild(f),o.appendChild(E),o.appendChild(p),o.appendChild(m),s.appendChild(b),s.appendChild(h),s.appendChild(g),s.appendChild(_),i.appendChild(a),i.appendChild(o),i.appendChild(s),e.setAttribute(r,"version","1.1"),e.setAttribute(r,"xmlns",n),e.setAttribute(r,"xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute(r,"enable-background","new 0 0 0 0"),e.setAttribute(r,"xml:space","preserve"),e.setAttribute(r,"x","0px"),e.setAttribute(r,"y","0px"),r.appendChild(i),{get:function(){return r},getGradientUrl:function(e){var t="";switch(e=e||"radial"){case"horizontal":t=o.getAttribute("id");break;case"vertical":t=s.getAttribute("id");break;case"radial":t=a.getAttribute("id")}return"url(#"+t+")"}}}}}.apply(t,r))||(e.exports=i)},8143:function(e,t){var n;void 0===(n=function(){"use strict";return{format:function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60);e=Math.floor(e-3600*t-60*n);var r="";return 0!==t&&(r=t+":"),(r+=(n=n<10&&""!==r?"0"+n:String(n))+":")+(e<10?"0"+e:String(e))}}}.apply(t,[]))||(e.exports=n)},5623:function(e,t){var n;void 0===(n=function(){"use strict";return{isColor:function(e){var t=/^[a-zA-Z]*$/.test(e)&&1===["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"].filter((function(t){return t.toLowerCase()===e.toLowerCase()})).length,n=/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3}|[a-fA-F0-9]{8}|[a-fA-F0-9]{4})$/.test(e),r=/^[Rr][Gg][Bb]\(\s*(0|[1-9]\d?|1\d\d?|2[0-4]\d|25[0-5])%?\s*,\s*(0|[1-9]\d?|1\d\d?|2[0-4]\d|25[0-5])%?\s*,\s*(0|[1-9]\d?|1\d\d?|2[0-4]\d|25[0-5])%?\s*\)$/.test(e),i=/^[Rr][Gg][Bb][Aa]\(\s*(0|[1-9]\d?|1\d\d?|2[0-4]\d|25[0-5])%?\s*,\s*(0|[1-9]\d?|1\d\d?|2[0-4]\d|25[0-5])%?\s*,\s*(0|[1-9]\d?|1\d\d?|2[0-4]\d|25[0-5])%?\s*,\s*((0.[1-9])|[01])\s*\)$/.test(e),a=/^[Hh][Ss][Ll]\(\s*(0|[1-9]\d?|[12]\d\d|3[0-5]\d)\s*,\s*((0|[1-9]\d?|100)%)\s*,\s*((0|[1-9]\d?|100)%)\s*\)$/.test(e),o=/^[Hh][Ss][Ll][Aa]\(\s*(0|[1-9]\d?|[12]\d\d|3[0-5]\d)\s*,\s*((0|[1-9]\d?|100)%)\s*,\s*((0|[1-9]\d?|100)%)\s*,\s*((0.[1-9])|[01])\s*\)$/.test(e);return t||n||r||i||a||o}}}.apply(t,[]))||(e.exports=n)},1583:function(e,t,n){var r,i;r=[n(1933),n(1473),n(9088),n(9658),n(6627),n(9583),n(5623),n(2058),n(5109),n(4355),n(5459),n(2833),n(6182),n(8741),n(9087),n(1117),n(5403),n(4869),n(6471),n(7661),n(729),n(1890),n(4103),n(6643)],void 0===(i=function(e,t,n,r,i,a,o,s,u,d,l,c,f,E,p,m,b,h,g,_,T,A,S,y){"use strict";function v(){this.version=""}var R=v.prototype=Object.create(r.prototype);return R.setBaseValues=function(e){this.config=s.create(),this._playerDivId=e,this._emitter=new r,this._muted=!1,this._volume=100,this._handleAutoplay=!1,this.state=l.IDLE},R.baseSetup=function(e){this._validate(e.style),t.extend(e,this.config),t.merge(e,this.config),t.clean(this.config),this.registerExternalEventHandler(),(i.mustUseHLS||i.canUseHLS&&this.config.playback.allowSafariHlsFallback)&&(this.config.style.keepFrame=!1),this.config.style.view?(this._style=_.create(this._emitter,this._playerDivId,this.config),this.config.style.audioPlayer||(this.config.style.centerView&&(this._middleView=T.create(this._playerDivId,this._emitter,this.config)),this._resizeListener=d.create(this._playerDivId,this._emitter)),this.config.style.controls&&(this._controls=y.create(this._playerDivId,this._emitter,this.config)),this.config.style.audioPlayer||(this._fullscreen=S.create(this._playerDivId,this._emitter,this.config))):this._fullscreen=S.create(this._playerDivId,this._emitter,this.config)},R.postSetup=function(){this.config.style.view&&(this._style.update(),this.config.style.interactive&&!this.config.style.audioPlayer?(this._interactive=g.create(this._playerDivId,this._emitter),this._interactive.update()):this.config.style.controls&&this._controls.show()),this.registerInternalEventHandler()},R.registerExternalEventHandler=function(){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&this._emitter.on(f[e],this._emit.bind(this,f[e]))},R.registerInternalEventHandler=function(){var e,t;if(this._interactive&&(this._emitter.on(m.PLAYBUTTON_SINGLE_CLICK,function(){this.state!==l.READY&&this.state!==l.PAUSED?this._emitter.emit(f.PAUSE):this._emitter.emit(f.PLAY)}.bind(this)),this._emitter.on(m.AUDIO_SINGLE_CLICK,function(){this._muted?this._emitter.emit(f.UNMUTE):this._emitter.emit(f.MUTE)}.bind(this)),this._emitter.on(m.PLAYER_SINGLE_CLICK,function(){this._controls&&this._controls.appear()}.bind(this))),this._controls)for(e in t=[b.FULLSCREEN_CHANGE],b)Object.prototype.hasOwnProperty.call(b,e)&&Object.prototype.hasOwnProperty.call(f,e)&&(-1===t.indexOf(b[e])?this._emitter.on(b[e],this._emitter.emit.bind(this._emitter,f[e])):this._fullscreen&&this._emitter.on(b[e],function(){this._fullscreen&&this._fullscreen.change()}.bind(this)));if(this._fullscreen)for(e in t=[p.FULLSCREEN_ERROR],p)Object.prototype.hasOwnProperty.call(p,e)&&-1===t.indexOf(p[e])&&(this._emitter.on(p[e],this._emitter.emit.bind(this._emitter,f[e])),this._emitter.on(p[e],this.handleFullscreen.bind(this)));this._resizeListener&&(this._emitter.on(f.PLAYER_RESIZE,this._onPlayerResize.bind(this)),this._onPlayerResize(null))},R.removeExternalEventHandler=function(){if(this._emitter)for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&this._emitter.removeAllListeners(f[e])},R.removeInternalEventHandler=function(){if(this._emitter){var e;if(this._interactive&&(this._emitter.removeAllListeners(m.PLAYER_SINGLE_CLICK),this._emitter.removeAllListeners(m.PLAYBUTTON_SINGLE_CLICK),this._emitter.removeAllListeners(m.AUDIO_SINGLE_CLICK)),this._controls)for(e in b)Object.prototype.hasOwnProperty.call(b,e)&&Object.prototype.hasOwnProperty.call(f,e)&&this._emitter.removeAllListeners(b[e]);if(this._fullscreen)for(e in p)Object.prototype.hasOwnProperty.call(p,e)&&this._emitter.removeAllListeners(p[e]);this._resizeListener&&this._emitter.removeAllListeners(f.PLAYER_RESIZE)}},R.destroy=function(){this.removeExternalEventHandler(),this.removeInternalEventHandler(),this._emitter=null,this._resizeListener&&this._resizeListener.destroy(),this._resizeListener=null,this._style&&this._style.destroy(),this._style=null,this._interactive&&this._interactive.destroy(),this._interactive=null,this._scaling&&this._scaling.destroy(),this._scaling=null,this._middleView&&this._middleView.destroy(),this._middleView=null,this._controls&&this._controls.destroy(),this._controls=null,this._fullscreen&&this._fullscreen.destroy(),this._fullscreen=null},R.update=function(e){this.state=e.state,this._emitter.emit(a.STATE_CHANGE,e),this.handleView(e.state),this._interactive&&this._interactive.update()},R.handleView=function(e){switch(this._viewTimeout&&clearTimeout(this._viewTimeout),e){case l.UNINITIALIZED:this._middleView&&this._middleView.update(h.ERROR),this._controls&&this._controls.destroy();break;case l.IDLE:this._middleView&&this._middleView.update(h.NONE);break;case l.READY:this._middleView&&this._middleView.update(h.PLAYBUTTON),this._controls&&this._controls.play();break;case l.LOADING:this._middleView&&this._middleView.update(h.LOADING),this._controls&&this._controls.pause();break;case l.PLAYING:this.handleAudio(),this._controls&&this._controls.pause();break;case l.PAUSED:this._middleView&&this._middleView.update(h.PLAYBUTTON),this._controls&&this._controls.play();break;case l.BUFFERING:this._viewTimeout=setTimeout(function(){this._middleView&&this._middleView.update(h.LOADING),this._controls&&this._controls.pause()}.bind(this),1e3);break;case l.UNKNOWN:this._middleView&&this._middleView.update(h.NONE)}this.state=e},R.handleConfig=function(e){this._handleAutoplay=e.playback.autoplay},R.handleStreamInfo=function(e){this._emitter.emit(a.STREAM_INFO,e),this.progressStreamInfo(e)},R.handleStreamInfoUpdate=function(e){this._emitter.emit(a.STREAM_INFO_UPDATE,e),this.progressStreamInfo(e)},R.progressStreamInfo=function(e){this.streamInfo=e.data.streamInfo,this._style&&this._style.update(),this._interactive&&this._interactive.update(),this._scaling&&this._scaling.destroy()&&(this._scaling=null),this.streamInfo.haveVideo&&(this._scaling=A.create(this._playerDivId,this.streamInfo.videoInfo,this.config.style.scaling))},R.handleAudio=function(){var e=this.state===l.PLAYING,t=this.streamInfo&&this.streamInfo.haveAudio;e&&!this._muted&&t&&(this._handleAutoplay=!1);var n=this.config.style.displayMutedAutoplay&&this._muted&&this._handleAutoplay,r=this.config.style.displayAudioOnly&&this.streamInfo&&!this.streamInfo.haveVideo;e&&(t&&n||r?this._middleView&&this._middleView.update(h.AUDIO,[this._muted,this._volume]):this._middleView&&this._middleView.update(h.NONE))},R.handleMute=function(e,t){this._controls&&(e?this._controls.mute(t):this._controls.unmute(t)),this._muted=e,this.handleAudio()},R.handleVolume=function(e){this._controls&&this._controls.volume(e),this._volume=e,this.handleMute(this._muted,this._volume)},R.handleFullscreen=function(e){this._controls&&this._controls.fullscreen(e.data.entered)},R.handleStats=function(e){this._controls&&this._controls.time(e.currentTime)},R.handleMetaData=function(e){if(this._scaling&&"object"==typeof e.data.message&&Object.prototype.hasOwnProperty.call(e.data.message,"nanoStreamStatus")){var t="object"==typeof e.data.message.nanoStreamStatus&&Object.prototype.hasOwnProperty.call(e.data.message.nanoStreamStatus,"VideoRotation")?e.data.message.nanoStreamStatus.VideoRotation:0,n=this._scaling.getState();n.scalingMode===this.config.style.scaling&&n.rotationMode===t||this._scaling.update(this.config.style.scaling,t)}},R.requestFullscreen=function(){return new Promise(function(e,t){function n(){this._emitter.off(p.FULLSCREEN_ERROR,r),e()}function r(e){this._emitter.off(p.FULLSCREEN_CHANGE,n),t({reason:e.data.reason})}this._fullscreen&&this._fullscreen.enabled()?this._fullscreen.entered()?n.call(this):(this._emitter.once(p.FULLSCREEN_CHANGE,n.bind(this)),this._emitter.once(p.FULLSCREEN_ERROR,r.bind(this)),this._fullscreen.change()):r.call(this,{data:{reason:"disabled"}})}.bind(this))},R.exitFullscreen=function(){return new Promise(function(e,t){function n(){this._emitter.off(p.FULLSCREEN_ERROR,r),e()}function r(e){this._emitter.off(p.FULLSCREEN_CHANGE,n),t({reason:e.data.reason})}this._fullscreen&&this._fullscreen.enabled()?this._fullscreen.entered()?(this._emitter.once(p.FULLSCREEN_CHANGE,n.bind(this)),this._emitter.once(p.FULLSCREEN_ERROR,r.bind(this)),this._fullscreen.change()):n.call(this):r.call(this,{data:{reason:"disabled"}})}.bind(this))},R._emit=function(e,t){var n={};t&&t.name&&t.data?n=t:t?(n.data=t,n.name=e||"unknown"):(n.data={},n.name=e||"unknown"),n.player=this._playerDivId,n.state=this.state,this.emit(n.name,n)},R._validate=function(e){e.symbolColor&&!o.isColor(e.symbolColor)&&delete e.symbolColor,e.controlBarColor&&!o.isColor(e.controlBarColor)&&delete e.controlBarColor,"inherit"===e.fullScreenBackgroundColor&&(e.fullScreenBackgroundColor=e.backgroundColor)},R._onPlayerResize=function(){this.handleView(this.state),this._interactive&&this._interactive.update(),this._style&&this._style.update(),this._scaling&&this._scaling.update(),this._controls&&this._controls.size()},v.events=f,v.publicEvents=E,v.emptyConfig=s,v.validConfig=u,v}.apply(t,r))||(e.exports=i)}},t={};!function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(9921)}();